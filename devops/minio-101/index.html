<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>MinIO 101 | cdeclog</title><meta name=keywords content="minio,object storage,s3 compatible"><meta name=description content='MinIO 101
Introduction

https://docs.min.io/{:target="_blank"}
Open Source, S3 Compatible, Enterprise Hardened and Really, Really Fast

S3 Compatible : Client(mc), SDK (Java, Javascript, Python, Golang, .Net ..)


high performance, distributed object storage system
Private cloud object storage

Getting Started

MinID 는 Golang으로 제작되어 의존성 없는 단일 파일로 운영 가능
Docker의 경우 Alpine linux 로 배포
Downloads : https://min.io/download{:target="_blank"}

Quickstart Server

https://docs.min.io/docs/minio-quickstart-guide.html{:target="_blank"}

# linux - server run
$ wget https://dl.min.io/server/minio/release/linux-amd64/minio
$ chmod +x minio

$ export MINIO_ROOT_USER=minio
$ export MINIO_ROOT_PASSWORD=miniopass

# ./minio server --address 0.0.0.0:9000 /data
$ ./minio server /data

Status:         1 Online, 0 Offline.
Endpoint:  http://192.168.144.5:9000  http://127.0.0.1:9000

Browser Access:
   http://192.168.144.5:9000  http://127.0.0.1:9000

Object API (Amazon S3 compatible):
   Go:         https://docs.min.io/docs/golang-client-quickstart-guide
   Java:       https://docs.min.io/docs/java-client-quickstart-guide
   Python:     https://docs.min.io/docs/python-client-quickstart-guide
   JavaScript: https://docs.min.io/docs/javascript-client-quickstart-guide
   .NET:       https://docs.min.io/docs/dotnet-client-quickstart-guide

docker-compose

9000 : 데이터 I/F 포트
9001 : Web Console Port
./data:/data : 데이터 영역



version: &#39;3&#39;
services:
  minio:
    image: minio/minio
    command: server /data --console-address ":9001"
    container_name: minio
    environment:
      MINIO_ROOT_USER: minio
      MINIO_ROOT_PASSWORD: miniopass
    restart: always
    ports:
      - "9000:9000"
      - "9001:9001"
    volumes:
      - ./data:/data
$ docker-compose up -d 
Creating network "minio_default" with the default driver
Pulling minio (minio/minio:)...
latest: Pulling from minio/minio
c2c17d84f25a: Pull complete
46cdcde062b2: Pull complete
c88923a3df19: Pull complete
1afaaeffed49: Pull complete
6c066ed8931e: Pull complete
b889e4f29831: Pull complete
51b722521628: Pull complete
Digest: sha256:ff4892c4248ad0ef73981d9f2e7b8a721dae45c55bdd25d7a23e1670540f36e1
Status: Downloaded newer image for minio/minio:latest
Creating minio ... done
Quickstart Client

https://docs.min.io/docs/minio-client-quickstart-guide.html{:target="_blank"}

# linux 
# wget https://dl.min.io/client/mc/release/linux-amd64/mc
$ curl -O https://dl.min.io/client/mc/release/linux-amd64/mc
$ chmod +x mc
$ mv ./mc /usr/bin/ 
$ mc --help

# add server config 
$ mc alias set local http://localhost:9000 minio miniopass
Added `local` successfully.

# creates a new bucket
$ minio mc mb local/backup
Bucket created successfully `local/backup`.

# copy
$ mc cp docker-compose.yml local/backup
docker-compose.yml:   322 B / 322 B ┃▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓┃ 30.39 KiB/s 0s

# list 
$ mc ls local/backup
[2021-08-18 11:01:50 KST]   322B docker-compose.yml

# remove 
$ mc rm --recursive --force local/backup/
Removing `local/backup/docker-compose.yml`.

MinIO Erasure Code

https://docs.min.io/docs/minio-erasure-code-quickstart-guide.html{:target="_blank"}

Erasure Code

누락되거나 손상된 데이터를 재구성하는 수학적 알고리즘
Erasure code와 Checksums 사용하여 하드웨어 오류 및 자동 데이터 손상으로부터 데이터를 보호
중복 수준이 높으면 전체 드라이브의 최대 절반 (N/2)이 손실 되어도 데이터를 복구 가능
드라이브를 4, 6, 8, 10, 12, 14 또는 16 개의 erasure-coding sets 구성 (최소 4개)

Run MinIO Server with Erasure Code

4 drives setup
Drives를 물리적인 디스크로 구성하면 별도의 Raid 구성이 필요 없음

$ minio server /data1 /data2 /data3 /data4
docker-compose

docker-compose.yml

version: &#39;3&#39;
services:
  minio1:
    image: minio/minio
    command: server /data1 /data2 /data3 /data4 --console-address ":9001"
    container_name: minio1
    environment:
      MINIO_ROOT_USER: minio
      MINIO_ROOT_PASSWORD: miniopass
    restart: always
    ports:
      - "9000:9000"
      - "9001:9001"
    volumes:
      - ./data1:/data1
      - ./data2:/data2
      - ./data3:/data3
      - ./data4:/data4
Distributed MinIO

https://docs.min.io/docs/distributed-minio-quickstart-guide.html{:target="_blank"}
MinIO in distributed mode lets you pool multiple drives (even on different machines) into a single object storage server.
서버를 분리하여 다중 Drives를 지원

Data protection
High availability
Consistency Guarantees



Run distributed MinIO

MINIO_ROOT_USER and MINIO_ROOT_PASSWORD 같은 키로 구성
Erasure Code와 동일한 Drivers 정책으로 분산
Distributed MinIO 와 서버별로 Erasure Code 같이 적용 가능

docker-compose : docker로 4대 서버 시뮬레이션
version: &#39;3&#39;
services:
  minio1:
    image: minio/minio
    command: server http://minio{1...4}:9000/data --console-address ":9001"
    container_name: minio1
    environment:
      MINIO_ROOT_USER: minio
      MINIO_ROOT_PASSWORD: miniopass
    restart: always
    ports:
      - "9101:9000"
      - "9001:9001"
    volumes:
      - ./minio1:/data

  minio2:
    image: minio/minio
    command: server http://minio{1...4}:9000/data --console-address ":9001"
    container_name: minio2
    environment:
      MINIO_ROOT_USER: minio
      MINIO_ROOT_PASSWORD: miniopass
    restart: always
    ports:
      - "9102:9000"
    volumes:
      - ./minio2:/data

  minio3:
    image: minio/minio
    command: server http://minio{1...4}:9000/data --console-address ":9001"
    container_name: minio3
    environment:
      MINIO_ROOT_USER: minio
      MINIO_ROOT_PASSWORD: miniopass
    restart: always
    ports:
      - "9103:9000"
    volumes:
      - ./minio3:/data

  minio4:
    image: minio/minio
    command: server http://minio{1...4}:9000/data --console-address ":9001"
    container_name: minio4
    environment:
      MINIO_ROOT_USER: minio
      MINIO_ROOT_PASSWORD: miniopass
    restart: always
    ports:
      - "9104:9000"
    volumes:
      - ./minio4:/data
MinIO Admin Guide

mc 명령어를 통해 Admin 기능을 수행
https://docs.min.io/docs/minio-admin-complete-guide.html{:target="_blank"}

service     restart and stop all MinIO servers
update      update all MinIO servers
info        display MinIO server information
user        manage users
group       manage groups
policy      manage policies defined in the MinIO server
config      manage MinIO server configuration
heal        heal disks, buckets and objects on MinIO server
profile     generate profile data for debugging purposes
top         provide top like statistics for MinIO
trace       show http trace for MinIO server
console     show console logs for MinIO server
prometheus  manages prometheus config
kms         perform KMS management operations
user - Manage users

User 생성 및 삭제

## create User
$ mc admin user add myinfo cdecl cdeclpass

## remove User
# mc admin user remove myinfo cdecl

$ mc admin user info myinfo cdecl             
AccessKey: cdecl                              
Status: enabled                               
PolicyName:                                   
MemberOf:                                     

Policy

$ mc admin policy set myinfo readonly user=cdecl
Policy readonly is set on user `cdecl`

$ mc admin policy set myinfo writeonly user=cdecl
Policy writeonly is set on user `cdecl`

$ mc admin policy set myinfo readwrite user=cdecl
Policy readwrite is set on user `cdecl`
heal - Heal disks, buckets and objects on MinIO server

This command is only applicable for MinIO erasure coded setup (standalone and distributed).
Erasure Code 상태에서 특정 디스크의 데이터가 문제가 있을 경우, 균등하게 데이터를 복구 해줌

$ mc admin heal -r myinfo
 -  data1
    2/2 objects; 403 MiB in 1s
    ┌────────┬───┬─────────────────────┐
    │ Green  │ 5 │ 100.0% ████████████ │
    │ Yellow │ 0 │   0.0%              │
    │ Red    │ 0 │   0.0%              │
    │ Grey   │ 0 │   0.0%              │
    └────────┴───┴─────────────────────┘
'><meta name=author content="Byung Kyu KIM"><link rel=canonical href=https://cdecl.github.io/devops/minio-101/><link crossorigin=anonymous href=/assets/css/stylesheet.d980bb9fb2cba61af0aead0606b5eb221d7e358748ac394b60233d95d626c563.css integrity="sha256-2YC7n7LLphrwrq0GBrXrIh1+NYdIrDlLYCM9ldYmxWM=" rel="preload stylesheet" as=style><link rel=icon href=https://cdecl.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://cdecl.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://cdecl.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://cdecl.github.io/apple-touch-icon.png><link rel=mask-icon href=https://cdecl.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://cdecl.github.io/devops/minio-101/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VQQHHYPN7K"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VQQHHYPN7K")}</script><meta property="og:url" content="https://cdecl.github.io/devops/minio-101/"><meta property="og:site_name" content="cdeclog"><meta property="og:title" content="MinIO 101"><meta property="og:description" content='MinIO 101
Introduction https://docs.min.io/{:target="_blank"} Open Source, S3 Compatible, Enterprise Hardened and Really, Really Fast S3 Compatible : Client(mc), SDK (Java, Javascript, Python, Golang, .Net ..) high performance, distributed object storage system Private cloud object storage Getting Started MinID 는 Golang으로 제작되어 의존성 없는 단일 파일로 운영 가능 Docker의 경우 Alpine linux 로 배포 Downloads : https://min.io/download{:target="_blank"} Quickstart Server https://docs.min.io/docs/minio-quickstart-guide.html{:target="_blank"} # linux - server run $ wget https://dl.min.io/server/minio/release/linux-amd64/minio $ chmod +x minio $ export MINIO_ROOT_USER=minio $ export MINIO_ROOT_PASSWORD=miniopass # ./minio server --address 0.0.0.0:9000 /data $ ./minio server /data Status: 1 Online, 0 Offline. Endpoint: http://192.168.144.5:9000 http://127.0.0.1:9000 Browser Access: http://192.168.144.5:9000 http://127.0.0.1:9000 Object API (Amazon S3 compatible): Go: https://docs.min.io/docs/golang-client-quickstart-guide Java: https://docs.min.io/docs/java-client-quickstart-guide Python: https://docs.min.io/docs/python-client-quickstart-guide JavaScript: https://docs.min.io/docs/javascript-client-quickstart-guide .NET: https://docs.min.io/docs/dotnet-client-quickstart-guide docker-compose 9000 : 데이터 I/F 포트 9001 : Web Console Port ./data:/data : 데이터 영역 version: &#39;3&#39; services: minio: image: minio/minio command: server /data --console-address ":9001" container_name: minio environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - "9000:9000" - "9001:9001" volumes: - ./data:/data $ docker-compose up -d Creating network "minio_default" with the default driver Pulling minio (minio/minio:)... latest: Pulling from minio/minio c2c17d84f25a: Pull complete 46cdcde062b2: Pull complete c88923a3df19: Pull complete 1afaaeffed49: Pull complete 6c066ed8931e: Pull complete b889e4f29831: Pull complete 51b722521628: Pull complete Digest: sha256:ff4892c4248ad0ef73981d9f2e7b8a721dae45c55bdd25d7a23e1670540f36e1 Status: Downloaded newer image for minio/minio:latest Creating minio ... done Quickstart Client https://docs.min.io/docs/minio-client-quickstart-guide.html{:target="_blank"} # linux # wget https://dl.min.io/client/mc/release/linux-amd64/mc $ curl -O https://dl.min.io/client/mc/release/linux-amd64/mc $ chmod +x mc $ mv ./mc /usr/bin/ $ mc --help # add server config $ mc alias set local http://localhost:9000 minio miniopass Added `local` successfully. # creates a new bucket $ minio mc mb local/backup Bucket created successfully `local/backup`. # copy $ mc cp docker-compose.yml local/backup docker-compose.yml: 322 B / 322 B ┃▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓┃ 30.39 KiB/s 0s # list $ mc ls local/backup [2021-08-18 11:01:50 KST] 322B docker-compose.yml # remove $ mc rm --recursive --force local/backup/ Removing `local/backup/docker-compose.yml`. MinIO Erasure Code https://docs.min.io/docs/minio-erasure-code-quickstart-guide.html{:target="_blank"} Erasure Code 누락되거나 손상된 데이터를 재구성하는 수학적 알고리즘 Erasure code와 Checksums 사용하여 하드웨어 오류 및 자동 데이터 손상으로부터 데이터를 보호 중복 수준이 높으면 전체 드라이브의 최대 절반 (N/2)이 손실 되어도 데이터를 복구 가능 드라이브를 4, 6, 8, 10, 12, 14 또는 16 개의 erasure-coding sets 구성 (최소 4개) Run MinIO Server with Erasure Code 4 drives setup Drives를 물리적인 디스크로 구성하면 별도의 Raid 구성이 필요 없음 $ minio server /data1 /data2 /data3 /data4 docker-compose docker-compose.yml version: &#39;3&#39; services: minio1: image: minio/minio command: server /data1 /data2 /data3 /data4 --console-address ":9001" container_name: minio1 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - "9000:9000" - "9001:9001" volumes: - ./data1:/data1 - ./data2:/data2 - ./data3:/data3 - ./data4:/data4 Distributed MinIO https://docs.min.io/docs/distributed-minio-quickstart-guide.html{:target="_blank"} MinIO in distributed mode lets you pool multiple drives (even on different machines) into a single object storage server. 서버를 분리하여 다중 Drives를 지원 Data protection High availability Consistency Guarantees Run distributed MinIO MINIO_ROOT_USER and MINIO_ROOT_PASSWORD 같은 키로 구성 Erasure Code와 동일한 Drivers 정책으로 분산 Distributed MinIO 와 서버별로 Erasure Code 같이 적용 가능 docker-compose : docker로 4대 서버 시뮬레이션 version: &#39;3&#39; services: minio1: image: minio/minio command: server http://minio{1...4}:9000/data --console-address ":9001" container_name: minio1 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - "9101:9000" - "9001:9001" volumes: - ./minio1:/data minio2: image: minio/minio command: server http://minio{1...4}:9000/data --console-address ":9001" container_name: minio2 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - "9102:9000" volumes: - ./minio2:/data minio3: image: minio/minio command: server http://minio{1...4}:9000/data --console-address ":9001" container_name: minio3 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - "9103:9000" volumes: - ./minio3:/data minio4: image: minio/minio command: server http://minio{1...4}:9000/data --console-address ":9001" container_name: minio4 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - "9104:9000" volumes: - ./minio4:/data MinIO Admin Guide mc 명령어를 통해 Admin 기능을 수행 https://docs.min.io/docs/minio-admin-complete-guide.html{:target="_blank"} service restart and stop all MinIO servers update update all MinIO servers info display MinIO server information user manage users group manage groups policy manage policies defined in the MinIO server config manage MinIO server configuration heal heal disks, buckets and objects on MinIO server profile generate profile data for debugging purposes top provide top like statistics for MinIO trace show http trace for MinIO server console show console logs for MinIO server prometheus manages prometheus config kms perform KMS management operations user - Manage users User 생성 및 삭제 ## create User $ mc admin user add myinfo cdecl cdeclpass ## remove User # mc admin user remove myinfo cdecl $ mc admin user info myinfo cdecl AccessKey: cdecl Status: enabled PolicyName: MemberOf: Policy $ mc admin policy set myinfo readonly user=cdecl Policy readonly is set on user `cdecl` $ mc admin policy set myinfo writeonly user=cdecl Policy writeonly is set on user `cdecl` $ mc admin policy set myinfo readwrite user=cdecl Policy readwrite is set on user `cdecl` heal - Heal disks, buckets and objects on MinIO server This command is only applicable for MinIO erasure coded setup (standalone and distributed). Erasure Code 상태에서 특정 디스크의 데이터가 문제가 있을 경우, 균등하게 데이터를 복구 해줌 $ mc admin heal -r myinfo - data1 2/2 objects; 403 MiB in 1s ┌────────┬───┬─────────────────────┐ │ Green │ 5 │ 100.0% ████████████ │ │ Yellow │ 0 │ 0.0% │ │ Red │ 0 │ 0.0% │ │ Grey │ 0 │ 0.0% │ └────────┴───┴─────────────────────┘ '><meta property="og:locale" content="ko-kr"><meta property="og:type" content="article"><meta property="article:section" content="devops"><meta property="article:published_time" content="2021-08-17T00:00:00+09:00"><meta property="article:modified_time" content="2021-08-17T00:00:00+09:00"><meta property="article:tag" content="Minio"><meta property="article:tag" content="Object Storage"><meta property="article:tag" content="S3 Compatible"><meta name=twitter:card content="summary"><meta name=twitter:title content="MinIO 101"><meta name=twitter:description content='MinIO 101
Introduction

https://docs.min.io/{:target="_blank"}
Open Source, S3 Compatible, Enterprise Hardened and Really, Really Fast

S3 Compatible : Client(mc), SDK (Java, Javascript, Python, Golang, .Net ..)


high performance, distributed object storage system
Private cloud object storage

Getting Started

MinID 는 Golang으로 제작되어 의존성 없는 단일 파일로 운영 가능
Docker의 경우 Alpine linux 로 배포
Downloads : https://min.io/download{:target="_blank"}

Quickstart Server

https://docs.min.io/docs/minio-quickstart-guide.html{:target="_blank"}

# linux - server run
$ wget https://dl.min.io/server/minio/release/linux-amd64/minio
$ chmod +x minio

$ export MINIO_ROOT_USER=minio
$ export MINIO_ROOT_PASSWORD=miniopass

# ./minio server --address 0.0.0.0:9000 /data
$ ./minio server /data

Status:         1 Online, 0 Offline.
Endpoint:  http://192.168.144.5:9000  http://127.0.0.1:9000

Browser Access:
   http://192.168.144.5:9000  http://127.0.0.1:9000

Object API (Amazon S3 compatible):
   Go:         https://docs.min.io/docs/golang-client-quickstart-guide
   Java:       https://docs.min.io/docs/java-client-quickstart-guide
   Python:     https://docs.min.io/docs/python-client-quickstart-guide
   JavaScript: https://docs.min.io/docs/javascript-client-quickstart-guide
   .NET:       https://docs.min.io/docs/dotnet-client-quickstart-guide

docker-compose

9000 : 데이터 I/F 포트
9001 : Web Console Port
./data:/data : 데이터 영역



version: &#39;3&#39;
services:
  minio:
    image: minio/minio
    command: server /data --console-address ":9001"
    container_name: minio
    environment:
      MINIO_ROOT_USER: minio
      MINIO_ROOT_PASSWORD: miniopass
    restart: always
    ports:
      - "9000:9000"
      - "9001:9001"
    volumes:
      - ./data:/data
$ docker-compose up -d 
Creating network "minio_default" with the default driver
Pulling minio (minio/minio:)...
latest: Pulling from minio/minio
c2c17d84f25a: Pull complete
46cdcde062b2: Pull complete
c88923a3df19: Pull complete
1afaaeffed49: Pull complete
6c066ed8931e: Pull complete
b889e4f29831: Pull complete
51b722521628: Pull complete
Digest: sha256:ff4892c4248ad0ef73981d9f2e7b8a721dae45c55bdd25d7a23e1670540f36e1
Status: Downloaded newer image for minio/minio:latest
Creating minio ... done
Quickstart Client

https://docs.min.io/docs/minio-client-quickstart-guide.html{:target="_blank"}

# linux 
# wget https://dl.min.io/client/mc/release/linux-amd64/mc
$ curl -O https://dl.min.io/client/mc/release/linux-amd64/mc
$ chmod +x mc
$ mv ./mc /usr/bin/ 
$ mc --help

# add server config 
$ mc alias set local http://localhost:9000 minio miniopass
Added `local` successfully.

# creates a new bucket
$ minio mc mb local/backup
Bucket created successfully `local/backup`.

# copy
$ mc cp docker-compose.yml local/backup
docker-compose.yml:   322 B / 322 B ┃▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓┃ 30.39 KiB/s 0s

# list 
$ mc ls local/backup
[2021-08-18 11:01:50 KST]   322B docker-compose.yml

# remove 
$ mc rm --recursive --force local/backup/
Removing `local/backup/docker-compose.yml`.

MinIO Erasure Code

https://docs.min.io/docs/minio-erasure-code-quickstart-guide.html{:target="_blank"}

Erasure Code

누락되거나 손상된 데이터를 재구성하는 수학적 알고리즘
Erasure code와 Checksums 사용하여 하드웨어 오류 및 자동 데이터 손상으로부터 데이터를 보호
중복 수준이 높으면 전체 드라이브의 최대 절반 (N/2)이 손실 되어도 데이터를 복구 가능
드라이브를 4, 6, 8, 10, 12, 14 또는 16 개의 erasure-coding sets 구성 (최소 4개)

Run MinIO Server with Erasure Code

4 drives setup
Drives를 물리적인 디스크로 구성하면 별도의 Raid 구성이 필요 없음

$ minio server /data1 /data2 /data3 /data4
docker-compose

docker-compose.yml

version: &#39;3&#39;
services:
  minio1:
    image: minio/minio
    command: server /data1 /data2 /data3 /data4 --console-address ":9001"
    container_name: minio1
    environment:
      MINIO_ROOT_USER: minio
      MINIO_ROOT_PASSWORD: miniopass
    restart: always
    ports:
      - "9000:9000"
      - "9001:9001"
    volumes:
      - ./data1:/data1
      - ./data2:/data2
      - ./data3:/data3
      - ./data4:/data4
Distributed MinIO

https://docs.min.io/docs/distributed-minio-quickstart-guide.html{:target="_blank"}
MinIO in distributed mode lets you pool multiple drives (even on different machines) into a single object storage server.
서버를 분리하여 다중 Drives를 지원

Data protection
High availability
Consistency Guarantees



Run distributed MinIO

MINIO_ROOT_USER and MINIO_ROOT_PASSWORD 같은 키로 구성
Erasure Code와 동일한 Drivers 정책으로 분산
Distributed MinIO 와 서버별로 Erasure Code 같이 적용 가능

docker-compose : docker로 4대 서버 시뮬레이션
version: &#39;3&#39;
services:
  minio1:
    image: minio/minio
    command: server http://minio{1...4}:9000/data --console-address ":9001"
    container_name: minio1
    environment:
      MINIO_ROOT_USER: minio
      MINIO_ROOT_PASSWORD: miniopass
    restart: always
    ports:
      - "9101:9000"
      - "9001:9001"
    volumes:
      - ./minio1:/data

  minio2:
    image: minio/minio
    command: server http://minio{1...4}:9000/data --console-address ":9001"
    container_name: minio2
    environment:
      MINIO_ROOT_USER: minio
      MINIO_ROOT_PASSWORD: miniopass
    restart: always
    ports:
      - "9102:9000"
    volumes:
      - ./minio2:/data

  minio3:
    image: minio/minio
    command: server http://minio{1...4}:9000/data --console-address ":9001"
    container_name: minio3
    environment:
      MINIO_ROOT_USER: minio
      MINIO_ROOT_PASSWORD: miniopass
    restart: always
    ports:
      - "9103:9000"
    volumes:
      - ./minio3:/data

  minio4:
    image: minio/minio
    command: server http://minio{1...4}:9000/data --console-address ":9001"
    container_name: minio4
    environment:
      MINIO_ROOT_USER: minio
      MINIO_ROOT_PASSWORD: miniopass
    restart: always
    ports:
      - "9104:9000"
    volumes:
      - ./minio4:/data
MinIO Admin Guide

mc 명령어를 통해 Admin 기능을 수행
https://docs.min.io/docs/minio-admin-complete-guide.html{:target="_blank"}

service     restart and stop all MinIO servers
update      update all MinIO servers
info        display MinIO server information
user        manage users
group       manage groups
policy      manage policies defined in the MinIO server
config      manage MinIO server configuration
heal        heal disks, buckets and objects on MinIO server
profile     generate profile data for debugging purposes
top         provide top like statistics for MinIO
trace       show http trace for MinIO server
console     show console logs for MinIO server
prometheus  manages prometheus config
kms         perform KMS management operations
user - Manage users

User 생성 및 삭제

## create User
$ mc admin user add myinfo cdecl cdeclpass

## remove User
# mc admin user remove myinfo cdecl

$ mc admin user info myinfo cdecl             
AccessKey: cdecl                              
Status: enabled                               
PolicyName:                                   
MemberOf:                                     

Policy

$ mc admin policy set myinfo readonly user=cdecl
Policy readonly is set on user `cdecl`

$ mc admin policy set myinfo writeonly user=cdecl
Policy writeonly is set on user `cdecl`

$ mc admin policy set myinfo readwrite user=cdecl
Policy readwrite is set on user `cdecl`
heal - Heal disks, buckets and objects on MinIO server

This command is only applicable for MinIO erasure coded setup (standalone and distributed).
Erasure Code 상태에서 특정 디스크의 데이터가 문제가 있을 경우, 균등하게 데이터를 복구 해줌

$ mc admin heal -r myinfo
 -  data1
    2/2 objects; 403 MiB in 1s
    ┌────────┬───┬─────────────────────┐
    │ Green  │ 5 │ 100.0% ████████████ │
    │ Yellow │ 0 │   0.0%              │
    │ Red    │ 0 │   0.0%              │
    │ Grey   │ 0 │   0.0%              │
    └────────┴───┴─────────────────────┘
'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Devops","item":"https://cdecl.github.io/devops/"},{"@type":"ListItem","position":2,"name":"MinIO 101","item":"https://cdecl.github.io/devops/minio-101/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"MinIO 101","name":"MinIO 101","description":"MinIO 101\nIntroduction https://docs.min.io/{:target=\u0026quot;_blank\u0026quot;} Open Source, S3 Compatible, Enterprise Hardened and Really, Really Fast S3 Compatible : Client(mc), SDK (Java, Javascript, Python, Golang, .Net ..) high performance, distributed object storage system Private cloud object storage Getting Started MinID 는 Golang으로 제작되어 의존성 없는 단일 파일로 운영 가능 Docker의 경우 Alpine linux 로 배포 Downloads : https://min.io/download{:target=\u0026quot;_blank\u0026quot;} Quickstart Server https://docs.min.io/docs/minio-quickstart-guide.html{:target=\u0026quot;_blank\u0026quot;} # linux - server run $ wget https://dl.min.io/server/minio/release/linux-amd64/minio $ chmod +x minio $ export MINIO_ROOT_USER=minio $ export MINIO_ROOT_PASSWORD=miniopass # ./minio server --address 0.0.0.0:9000 /data $ ./minio server /data Status: 1 Online, 0 Offline. Endpoint: http://192.168.144.5:9000 http://127.0.0.1:9000 Browser Access: http://192.168.144.5:9000 http://127.0.0.1:9000 Object API (Amazon S3 compatible): Go: https://docs.min.io/docs/golang-client-quickstart-guide Java: https://docs.min.io/docs/java-client-quickstart-guide Python: https://docs.min.io/docs/python-client-quickstart-guide JavaScript: https://docs.min.io/docs/javascript-client-quickstart-guide .NET: https://docs.min.io/docs/dotnet-client-quickstart-guide docker-compose 9000 : 데이터 I/F 포트 9001 : Web Console Port ./data:/data : 데이터 영역 version: \u0026#39;3\u0026#39; services: minio: image: minio/minio command: server /data --console-address \u0026#34;:9001\u0026#34; container_name: minio environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - \u0026#34;9000:9000\u0026#34; - \u0026#34;9001:9001\u0026#34; volumes: - ./data:/data $ docker-compose up -d Creating network \u0026#34;minio_default\u0026#34; with the default driver Pulling minio (minio/minio:)... latest: Pulling from minio/minio c2c17d84f25a: Pull complete 46cdcde062b2: Pull complete c88923a3df19: Pull complete 1afaaeffed49: Pull complete 6c066ed8931e: Pull complete b889e4f29831: Pull complete 51b722521628: Pull complete Digest: sha256:ff4892c4248ad0ef73981d9f2e7b8a721dae45c55bdd25d7a23e1670540f36e1 Status: Downloaded newer image for minio/minio:latest Creating minio ... done Quickstart Client https://docs.min.io/docs/minio-client-quickstart-guide.html{:target=\u0026quot;_blank\u0026quot;} # linux # wget https://dl.min.io/client/mc/release/linux-amd64/mc $ curl -O https://dl.min.io/client/mc/release/linux-amd64/mc $ chmod +x mc $ mv ./mc /usr/bin/ $ mc --help # add server config $ mc alias set local http://localhost:9000 minio miniopass Added `local` successfully. # creates a new bucket $ minio mc mb local/backup Bucket created successfully `local/backup`. # copy $ mc cp docker-compose.yml local/backup docker-compose.yml: 322 B / 322 B ┃▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓┃ 30.39 KiB/s 0s # list $ mc ls local/backup [2021-08-18 11:01:50 KST] 322B docker-compose.yml # remove $ mc rm --recursive --force local/backup/ Removing `local/backup/docker-compose.yml`. MinIO Erasure Code https://docs.min.io/docs/minio-erasure-code-quickstart-guide.html{:target=\u0026quot;_blank\u0026quot;} Erasure Code 누락되거나 손상된 데이터를 재구성하는 수학적 알고리즘 Erasure code와 Checksums 사용하여 하드웨어 오류 및 자동 데이터 손상으로부터 데이터를 보호 중복 수준이 높으면 전체 드라이브의 최대 절반 (N/2)이 손실 되어도 데이터를 복구 가능 드라이브를 4, 6, 8, 10, 12, 14 또는 16 개의 erasure-coding sets 구성 (최소 4개) Run MinIO Server with Erasure Code 4 drives setup Drives를 물리적인 디스크로 구성하면 별도의 Raid 구성이 필요 없음 $ minio server /data1 /data2 /data3 /data4 docker-compose docker-compose.yml version: \u0026#39;3\u0026#39; services: minio1: image: minio/minio command: server /data1 /data2 /data3 /data4 --console-address \u0026#34;:9001\u0026#34; container_name: minio1 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - \u0026#34;9000:9000\u0026#34; - \u0026#34;9001:9001\u0026#34; volumes: - ./data1:/data1 - ./data2:/data2 - ./data3:/data3 - ./data4:/data4 Distributed MinIO https://docs.min.io/docs/distributed-minio-quickstart-guide.html{:target=\u0026quot;_blank\u0026quot;} MinIO in distributed mode lets you pool multiple drives (even on different machines) into a single object storage server. 서버를 분리하여 다중 Drives를 지원 Data protection High availability Consistency Guarantees Run distributed MinIO MINIO_ROOT_USER and MINIO_ROOT_PASSWORD 같은 키로 구성 Erasure Code와 동일한 Drivers 정책으로 분산 Distributed MinIO 와 서버별로 Erasure Code 같이 적용 가능 docker-compose : docker로 4대 서버 시뮬레이션 version: \u0026#39;3\u0026#39; services: minio1: image: minio/minio command: server http://minio{1...4}:9000/data --console-address \u0026#34;:9001\u0026#34; container_name: minio1 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - \u0026#34;9101:9000\u0026#34; - \u0026#34;9001:9001\u0026#34; volumes: - ./minio1:/data minio2: image: minio/minio command: server http://minio{1...4}:9000/data --console-address \u0026#34;:9001\u0026#34; container_name: minio2 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - \u0026#34;9102:9000\u0026#34; volumes: - ./minio2:/data minio3: image: minio/minio command: server http://minio{1...4}:9000/data --console-address \u0026#34;:9001\u0026#34; container_name: minio3 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - \u0026#34;9103:9000\u0026#34; volumes: - ./minio3:/data minio4: image: minio/minio command: server http://minio{1...4}:9000/data --console-address \u0026#34;:9001\u0026#34; container_name: minio4 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - \u0026#34;9104:9000\u0026#34; volumes: - ./minio4:/data MinIO Admin Guide mc 명령어를 통해 Admin 기능을 수행 https://docs.min.io/docs/minio-admin-complete-guide.html{:target=\u0026quot;_blank\u0026quot;} service restart and stop all MinIO servers update update all MinIO servers info display MinIO server information user manage users group manage groups policy manage policies defined in the MinIO server config manage MinIO server configuration heal heal disks, buckets and objects on MinIO server profile generate profile data for debugging purposes top provide top like statistics for MinIO trace show http trace for MinIO server console show console logs for MinIO server prometheus manages prometheus config kms perform KMS management operations user - Manage users User 생성 및 삭제 ## create User $ mc admin user add myinfo cdecl cdeclpass ## remove User # mc admin user remove myinfo cdecl $ mc admin user info myinfo cdecl AccessKey: cdecl Status: enabled PolicyName: MemberOf: Policy $ mc admin policy set myinfo readonly user=cdecl Policy readonly is set on user `cdecl` $ mc admin policy set myinfo writeonly user=cdecl Policy writeonly is set on user `cdecl` $ mc admin policy set myinfo readwrite user=cdecl Policy readwrite is set on user `cdecl` heal - Heal disks, buckets and objects on MinIO server This command is only applicable for MinIO erasure coded setup (standalone and distributed). Erasure Code 상태에서 특정 디스크의 데이터가 문제가 있을 경우, 균등하게 데이터를 복구 해줌 $ mc admin heal -r myinfo - data1 2/2 objects; 403 MiB in 1s ┌────────┬───┬─────────────────────┐ │ Green │ 5 │ 100.0% ████████████ │ │ Yellow │ 0 │ 0.0% │ │ Red │ 0 │ 0.0% │ │ Grey │ 0 │ 0.0% │ └────────┴───┴─────────────────────┘ ","keywords":["minio","object storage","s3 compatible"],"articleBody":"MinIO 101\nIntroduction https://docs.min.io/{:target=\"_blank\"} Open Source, S3 Compatible, Enterprise Hardened and Really, Really Fast S3 Compatible : Client(mc), SDK (Java, Javascript, Python, Golang, .Net ..) high performance, distributed object storage system Private cloud object storage Getting Started MinID 는 Golang으로 제작되어 의존성 없는 단일 파일로 운영 가능 Docker의 경우 Alpine linux 로 배포 Downloads : https://min.io/download{:target=\"_blank\"} Quickstart Server https://docs.min.io/docs/minio-quickstart-guide.html{:target=\"_blank\"} # linux - server run $ wget https://dl.min.io/server/minio/release/linux-amd64/minio $ chmod +x minio $ export MINIO_ROOT_USER=minio $ export MINIO_ROOT_PASSWORD=miniopass # ./minio server --address 0.0.0.0:9000 /data $ ./minio server /data Status: 1 Online, 0 Offline. Endpoint: http://192.168.144.5:9000 http://127.0.0.1:9000 Browser Access: http://192.168.144.5:9000 http://127.0.0.1:9000 Object API (Amazon S3 compatible): Go: https://docs.min.io/docs/golang-client-quickstart-guide Java: https://docs.min.io/docs/java-client-quickstart-guide Python: https://docs.min.io/docs/python-client-quickstart-guide JavaScript: https://docs.min.io/docs/javascript-client-quickstart-guide .NET: https://docs.min.io/docs/dotnet-client-quickstart-guide docker-compose 9000 : 데이터 I/F 포트 9001 : Web Console Port ./data:/data : 데이터 영역 version: '3' services: minio: image: minio/minio command: server /data --console-address \":9001\" container_name: minio environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - \"9000:9000\" - \"9001:9001\" volumes: - ./data:/data $ docker-compose up -d Creating network \"minio_default\" with the default driver Pulling minio (minio/minio:)... latest: Pulling from minio/minio c2c17d84f25a: Pull complete 46cdcde062b2: Pull complete c88923a3df19: Pull complete 1afaaeffed49: Pull complete 6c066ed8931e: Pull complete b889e4f29831: Pull complete 51b722521628: Pull complete Digest: sha256:ff4892c4248ad0ef73981d9f2e7b8a721dae45c55bdd25d7a23e1670540f36e1 Status: Downloaded newer image for minio/minio:latest Creating minio ... done Quickstart Client https://docs.min.io/docs/minio-client-quickstart-guide.html{:target=\"_blank\"} # linux # wget https://dl.min.io/client/mc/release/linux-amd64/mc $ curl -O https://dl.min.io/client/mc/release/linux-amd64/mc $ chmod +x mc $ mv ./mc /usr/bin/ $ mc --help # add server config $ mc alias set local http://localhost:9000 minio miniopass Added `local` successfully. # creates a new bucket $ minio mc mb local/backup Bucket created successfully `local/backup`. # copy $ mc cp docker-compose.yml local/backup docker-compose.yml: 322 B / 322 B ┃▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓┃ 30.39 KiB/s 0s # list $ mc ls local/backup [2021-08-18 11:01:50 KST] 322B docker-compose.yml # remove $ mc rm --recursive --force local/backup/ Removing `local/backup/docker-compose.yml`. MinIO Erasure Code https://docs.min.io/docs/minio-erasure-code-quickstart-guide.html{:target=\"_blank\"} Erasure Code 누락되거나 손상된 데이터를 재구성하는 수학적 알고리즘 Erasure code와 Checksums 사용하여 하드웨어 오류 및 자동 데이터 손상으로부터 데이터를 보호 중복 수준이 높으면 전체 드라이브의 최대 절반 (N/2)이 손실 되어도 데이터를 복구 가능 드라이브를 4, 6, 8, 10, 12, 14 또는 16 개의 erasure-coding sets 구성 (최소 4개) Run MinIO Server with Erasure Code 4 drives setup Drives를 물리적인 디스크로 구성하면 별도의 Raid 구성이 필요 없음 $ minio server /data1 /data2 /data3 /data4 docker-compose docker-compose.yml version: '3' services: minio1: image: minio/minio command: server /data1 /data2 /data3 /data4 --console-address \":9001\" container_name: minio1 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - \"9000:9000\" - \"9001:9001\" volumes: - ./data1:/data1 - ./data2:/data2 - ./data3:/data3 - ./data4:/data4 Distributed MinIO https://docs.min.io/docs/distributed-minio-quickstart-guide.html{:target=\"_blank\"} MinIO in distributed mode lets you pool multiple drives (even on different machines) into a single object storage server. 서버를 분리하여 다중 Drives를 지원 Data protection High availability Consistency Guarantees Run distributed MinIO MINIO_ROOT_USER and MINIO_ROOT_PASSWORD 같은 키로 구성 Erasure Code와 동일한 Drivers 정책으로 분산 Distributed MinIO 와 서버별로 Erasure Code 같이 적용 가능 docker-compose : docker로 4대 서버 시뮬레이션 version: '3' services: minio1: image: minio/minio command: server http://minio{1...4}:9000/data --console-address \":9001\" container_name: minio1 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - \"9101:9000\" - \"9001:9001\" volumes: - ./minio1:/data minio2: image: minio/minio command: server http://minio{1...4}:9000/data --console-address \":9001\" container_name: minio2 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - \"9102:9000\" volumes: - ./minio2:/data minio3: image: minio/minio command: server http://minio{1...4}:9000/data --console-address \":9001\" container_name: minio3 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - \"9103:9000\" volumes: - ./minio3:/data minio4: image: minio/minio command: server http://minio{1...4}:9000/data --console-address \":9001\" container_name: minio4 environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: miniopass restart: always ports: - \"9104:9000\" volumes: - ./minio4:/data MinIO Admin Guide mc 명령어를 통해 Admin 기능을 수행 https://docs.min.io/docs/minio-admin-complete-guide.html{:target=\"_blank\"} service restart and stop all MinIO servers update update all MinIO servers info display MinIO server information user manage users group manage groups policy manage policies defined in the MinIO server config manage MinIO server configuration heal heal disks, buckets and objects on MinIO server profile generate profile data for debugging purposes top provide top like statistics for MinIO trace show http trace for MinIO server console show console logs for MinIO server prometheus manages prometheus config kms perform KMS management operations user - Manage users User 생성 및 삭제 ## create User $ mc admin user add myinfo cdecl cdeclpass ## remove User # mc admin user remove myinfo cdecl $ mc admin user info myinfo cdecl AccessKey: cdecl Status: enabled PolicyName: MemberOf: Policy $ mc admin policy set myinfo readonly user=cdecl Policy readonly is set on user `cdecl` $ mc admin policy set myinfo writeonly user=cdecl Policy writeonly is set on user `cdecl` $ mc admin policy set myinfo readwrite user=cdecl Policy readwrite is set on user `cdecl` heal - Heal disks, buckets and objects on MinIO server This command is only applicable for MinIO erasure coded setup (standalone and distributed). Erasure Code 상태에서 특정 디스크의 데이터가 문제가 있을 경우, 균등하게 데이터를 복구 해줌 $ mc admin heal -r myinfo - data1 2/2 objects; 403 MiB in 1s ┌────────┬───┬─────────────────────┐ │ Green │ 5 │ 100.0% ████████████ │ │ Yellow │ 0 │ 0.0% │ │ Red │ 0 │ 0.0% │ │ Grey │ 0 │ 0.0% │ └────────┴───┴─────────────────────┘ ","wordCount":"835","inLanguage":"en","datePublished":"2021-08-17T00:00:00+09:00","dateModified":"2021-08-17T00:00:00+09:00","author":{"@type":"Person","name":"Byung Kyu KIM"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://cdecl.github.io/devops/minio-101/"},"publisher":{"@type":"Organization","name":"cdeclog","logo":{"@type":"ImageObject","url":"https://cdecl.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://cdecl.github.io/ accesskey=h title="cdeclog (Alt + H)">cdeclog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://cdecl.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://cdecl.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://cdecl.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">MinIO 101</h1><div class=post-meta><span title='2021-08-17 00:00:00 +0900 KST'>August 17, 2021</span>&nbsp;·&nbsp;<span>Byung Kyu KIM</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a></li><li><a href=#getting-started aria-label="Getting Started">Getting Started</a><ul><li><a href=#quickstart-server aria-label="Quickstart Server">Quickstart Server</a></li><li><a href=#quickstart-client aria-label="Quickstart Client">Quickstart Client</a></li></ul></li><li><a href=#minio-erasure-code aria-label="MinIO Erasure Code">MinIO Erasure Code</a><ul><li><a href=#erasure-code aria-label="Erasure Code">Erasure Code</a></li><li><a href=#run-minio-server-with-erasure-code aria-label="Run MinIO Server with Erasure Code">Run MinIO Server with Erasure Code</a><ul><li><a href=#docker-compose aria-label=docker-compose>docker-compose</a></li></ul></li></ul></li><li><a href=#distributed-minio aria-label="Distributed MinIO">Distributed MinIO</a><ul><li><a href=#run-distributed-minio aria-label="Run distributed MinIO">Run distributed MinIO</a><ul><li><a href=#docker-compose--docker%eb%a1%9c-4%eb%8c%80-%ec%84%9c%eb%b2%84-%ec%8b%9c%eb%ae%ac%eb%a0%88%ec%9d%b4%ec%85%98 aria-label="docker-compose : docker로 4대 서버 시뮬레이션">docker-compose : docker로 4대 서버 시뮬레이션</a></li></ul></li></ul></li><li><a href=#minio-admin-guide aria-label="MinIO Admin Guide">MinIO Admin Guide</a><ul><li><a href=#user---manage-users aria-label="user - Manage users">user - Manage users</a></li><li><a href=#heal---heal-disks-buckets-and-objects-on-minio-server aria-label="heal - Heal disks, buckets and objects on MinIO server">heal - Heal disks, buckets and objects on MinIO server</a></li></ul></li></ul></div></details></div><div class=post-content><p>MinIO 101</p><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><ul><li><a href=https://docs.min.io/>https://docs.min.io/</a>{:target="_blank"}</li><li>Open Source, S3 Compatible, Enterprise Hardened and Really, Really Fast<ul><li>S3 Compatible : Client(mc), SDK (Java, Javascript, Python, Golang, .Net ..)</li></ul></li><li>high performance, distributed object storage system</li><li>Private cloud object storage</li></ul><h2 id=getting-started>Getting Started<a hidden class=anchor aria-hidden=true href=#getting-started>#</a></h2><ul><li>MinID 는 Golang으로 제작되어 의존성 없는 단일 파일로 운영 가능</li><li>Docker의 경우 Alpine linux 로 배포</li><li>Downloads : <a href=https://min.io/download>https://min.io/download</a>{:target="_blank"}</li></ul><h3 id=quickstart-server>Quickstart Server<a hidden class=anchor aria-hidden=true href=#quickstart-server>#</a></h3><ul><li><a href=https://docs.min.io/docs/minio-quickstart-guide.html>https://docs.min.io/docs/minio-quickstart-guide.html</a>{:target="_blank"}</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># linux - server run</span>
</span></span><span style=display:flex><span>$ wget https://dl.min.io/server/minio/release/linux-amd64/minio
</span></span><span style=display:flex><span>$ chmod +x minio
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ export MINIO_ROOT_USER<span style=color:#f92672>=</span>minio
</span></span><span style=display:flex><span>$ export MINIO_ROOT_PASSWORD<span style=color:#f92672>=</span>miniopass
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># ./minio server --address 0.0.0.0:9000 /data</span>
</span></span><span style=display:flex><span>$ ./minio server /data
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Status:         <span style=color:#ae81ff>1</span> Online, <span style=color:#ae81ff>0</span> Offline.
</span></span><span style=display:flex><span>Endpoint:  http://192.168.144.5:9000  http://127.0.0.1:9000
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Browser Access:
</span></span><span style=display:flex><span>   http://192.168.144.5:9000  http://127.0.0.1:9000
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Object API <span style=color:#f92672>(</span>Amazon S3 compatible<span style=color:#f92672>)</span>:
</span></span><span style=display:flex><span>   Go:         https://docs.min.io/docs/golang-client-quickstart-guide
</span></span><span style=display:flex><span>   Java:       https://docs.min.io/docs/java-client-quickstart-guide
</span></span><span style=display:flex><span>   Python:     https://docs.min.io/docs/python-client-quickstart-guide
</span></span><span style=display:flex><span>   JavaScript: https://docs.min.io/docs/javascript-client-quickstart-guide
</span></span><span style=display:flex><span>   .NET:       https://docs.min.io/docs/dotnet-client-quickstart-guide
</span></span></code></pre></div><ul><li>docker-compose<ul><li>9000 : 데이터 I/F 포트</li><li>9001 : Web Console Port</li><li>./data:/data : 데이터 영역</li></ul></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>version</span>: <span style=color:#e6db74>&#39;3&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>minio</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>minio/minio</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>command</span>: <span style=color:#ae81ff>server /data --console-address &#34;:9001&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>minio</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>MINIO_ROOT_USER</span>: <span style=color:#ae81ff>minio</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>MINIO_ROOT_PASSWORD</span>: <span style=color:#ae81ff>miniopass</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>always</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;9000:9000&#34;</span>
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;9001:9001&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./data:/data</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ docker-compose up -d 
</span></span><span style=display:flex><span>Creating network <span style=color:#e6db74>&#34;minio_default&#34;</span> with the default driver
</span></span><span style=display:flex><span>Pulling minio <span style=color:#f92672>(</span>minio/minio:<span style=color:#f92672>)</span>...
</span></span><span style=display:flex><span>latest: Pulling from minio/minio
</span></span><span style=display:flex><span>c2c17d84f25a: Pull complete
</span></span><span style=display:flex><span>46cdcde062b2: Pull complete
</span></span><span style=display:flex><span>c88923a3df19: Pull complete
</span></span><span style=display:flex><span>1afaaeffed49: Pull complete
</span></span><span style=display:flex><span>6c066ed8931e: Pull complete
</span></span><span style=display:flex><span>b889e4f29831: Pull complete
</span></span><span style=display:flex><span>51b722521628: Pull complete
</span></span><span style=display:flex><span>Digest: sha256:ff4892c4248ad0ef73981d9f2e7b8a721dae45c55bdd25d7a23e1670540f36e1
</span></span><span style=display:flex><span>Status: Downloaded newer image <span style=color:#66d9ef>for</span> minio/minio:latest
</span></span><span style=display:flex><span>Creating minio ... <span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h3 id=quickstart-client>Quickstart Client<a hidden class=anchor aria-hidden=true href=#quickstart-client>#</a></h3><ul><li><a href=https://docs.min.io/docs/minio-client-quickstart-guide.html>https://docs.min.io/docs/minio-client-quickstart-guide.html</a>{:target="_blank"}</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># linux </span>
</span></span><span style=display:flex><span><span style=color:#75715e># wget https://dl.min.io/client/mc/release/linux-amd64/mc</span>
</span></span><span style=display:flex><span>$ curl -O https://dl.min.io/client/mc/release/linux-amd64/mc
</span></span><span style=display:flex><span>$ chmod +x mc
</span></span><span style=display:flex><span>$ mv ./mc /usr/bin/ 
</span></span><span style=display:flex><span>$ mc --help
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># add server config </span>
</span></span><span style=display:flex><span>$ mc alias set local http://localhost:9000 minio miniopass
</span></span><span style=display:flex><span>Added <span style=color:#e6db74>`</span>local<span style=color:#e6db74>`</span> successfully.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># creates a new bucket</span>
</span></span><span style=display:flex><span>$ minio mc mb local/backup
</span></span><span style=display:flex><span>Bucket created successfully <span style=color:#e6db74>`</span>local/backup<span style=color:#e6db74>`</span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># copy</span>
</span></span><span style=display:flex><span>$ mc cp docker-compose.yml local/backup
</span></span><span style=display:flex><span>docker-compose.yml:   <span style=color:#ae81ff>322</span> B / <span style=color:#ae81ff>322</span> B ┃▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓┃ 30.39 KiB/s 0s
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># list </span>
</span></span><span style=display:flex><span>$ mc ls local/backup
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>2021-08-18 11:01:50 KST<span style=color:#f92672>]</span>   322B docker-compose.yml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># remove </span>
</span></span><span style=display:flex><span>$ mc rm --recursive --force local/backup/
</span></span><span style=display:flex><span>Removing <span style=color:#e6db74>`</span>local/backup/docker-compose.yml<span style=color:#e6db74>`</span>.
</span></span></code></pre></div><hr><h2 id=minio-erasure-code>MinIO Erasure Code<a hidden class=anchor aria-hidden=true href=#minio-erasure-code>#</a></h2><ul><li><a href=https://docs.min.io/docs/minio-erasure-code-quickstart-guide.html>https://docs.min.io/docs/minio-erasure-code-quickstart-guide.html</a>{:target="_blank"}</li></ul><h3 id=erasure-code>Erasure Code<a hidden class=anchor aria-hidden=true href=#erasure-code>#</a></h3><ul><li>누락되거나 손상된 데이터를 재구성하는 수학적 알고리즘</li><li>Erasure code와 Checksums 사용하여 하드웨어 오류 및 자동 데이터 손상으로부터 데이터를 보호</li><li>중복 수준이 높으면 전체 드라이브의 최대 절반 (N/2)이 손실 되어도 데이터를 복구 가능</li><li>드라이브를 4, 6, 8, 10, 12, 14 또는 16 개의 erasure-coding sets 구성 (최소 4개)</li></ul><h3 id=run-minio-server-with-erasure-code>Run MinIO Server with Erasure Code<a hidden class=anchor aria-hidden=true href=#run-minio-server-with-erasure-code>#</a></h3><ul><li>4 drives setup</li><li>Drives를 물리적인 디스크로 구성하면 별도의 Raid 구성이 필요 없음</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ minio server /data1 /data2 /data3 /data4
</span></span></code></pre></div><h4 id=docker-compose>docker-compose<a hidden class=anchor aria-hidden=true href=#docker-compose>#</a></h4><ul><li><a href=docker-compose/erasure-code/docker-compose.yml>docker-compose.yml</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>version</span>: <span style=color:#e6db74>&#39;3&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>minio1</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>minio/minio</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>command</span>: <span style=color:#ae81ff>server /data1 /data2 /data3 /data4 --console-address &#34;:9001&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>minio1</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>MINIO_ROOT_USER</span>: <span style=color:#ae81ff>minio</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>MINIO_ROOT_PASSWORD</span>: <span style=color:#ae81ff>miniopass</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>always</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;9000:9000&#34;</span>
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;9001:9001&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./data1:/data1</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./data2:/data2</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./data3:/data3</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./data4:/data4</span>
</span></span></code></pre></div><h2 id=distributed-minio>Distributed MinIO<a hidden class=anchor aria-hidden=true href=#distributed-minio>#</a></h2><ul><li><a href=https://docs.min.io/docs/distributed-minio-quickstart-guide.html>https://docs.min.io/docs/distributed-minio-quickstart-guide.html</a>{:target="_blank"}</li><li>MinIO in distributed mode lets you pool multiple drives (even on different machines) into a single object storage server.</li><li>서버를 분리하여 다중 Drives를 지원<ul><li>Data protection</li><li>High availability</li><li>Consistency Guarantees</li></ul></li></ul><h3 id=run-distributed-minio>Run distributed MinIO<a hidden class=anchor aria-hidden=true href=#run-distributed-minio>#</a></h3><ul><li>MINIO_ROOT_USER and MINIO_ROOT_PASSWORD 같은 키로 구성</li><li>Erasure Code와 동일한 Drivers 정책으로 분산</li><li>Distributed MinIO 와 서버별로 Erasure Code 같이 적용 가능</li></ul><h4 id=docker-compose--docker로-4대-서버-시뮬레이션>docker-compose : docker로 4대 서버 시뮬레이션<a hidden class=anchor aria-hidden=true href=#docker-compose--docker로-4대-서버-시뮬레이션>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>version</span>: <span style=color:#e6db74>&#39;3&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>minio1</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>minio/minio</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>command</span>: <span style=color:#ae81ff>server http://minio{1...4}:9000/data --console-address &#34;:9001&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>minio1</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>MINIO_ROOT_USER</span>: <span style=color:#ae81ff>minio</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>MINIO_ROOT_PASSWORD</span>: <span style=color:#ae81ff>miniopass</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>always</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;9101:9000&#34;</span>
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;9001:9001&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./minio1:/data</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>minio2</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>minio/minio</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>command</span>: <span style=color:#ae81ff>server http://minio{1...4}:9000/data --console-address &#34;:9001&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>minio2</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>MINIO_ROOT_USER</span>: <span style=color:#ae81ff>minio</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>MINIO_ROOT_PASSWORD</span>: <span style=color:#ae81ff>miniopass</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>always</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;9102:9000&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./minio2:/data</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>minio3</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>minio/minio</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>command</span>: <span style=color:#ae81ff>server http://minio{1...4}:9000/data --console-address &#34;:9001&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>minio3</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>MINIO_ROOT_USER</span>: <span style=color:#ae81ff>minio</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>MINIO_ROOT_PASSWORD</span>: <span style=color:#ae81ff>miniopass</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>always</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;9103:9000&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./minio3:/data</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>minio4</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>minio/minio</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>command</span>: <span style=color:#ae81ff>server http://minio{1...4}:9000/data --console-address &#34;:9001&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>minio4</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>MINIO_ROOT_USER</span>: <span style=color:#ae81ff>minio</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>MINIO_ROOT_PASSWORD</span>: <span style=color:#ae81ff>miniopass</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>always</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;9104:9000&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./minio4:/data</span>
</span></span></code></pre></div><h2 id=minio-admin-guide>MinIO Admin Guide<a hidden class=anchor aria-hidden=true href=#minio-admin-guide>#</a></h2><ul><li>mc 명령어를 통해 Admin 기능을 수행</li><li><a href=https://docs.min.io/docs/minio-admin-complete-guide.html>https://docs.min.io/docs/minio-admin-complete-guide.html</a>{:target="_blank"}</li></ul><pre tabindex=0><code>service     restart and stop all MinIO servers
update      update all MinIO servers
info        display MinIO server information
user        manage users
group       manage groups
policy      manage policies defined in the MinIO server
config      manage MinIO server configuration
heal        heal disks, buckets and objects on MinIO server
profile     generate profile data for debugging purposes
top         provide top like statistics for MinIO
trace       show http trace for MinIO server
console     show console logs for MinIO server
prometheus  manages prometheus config
kms         perform KMS management operations
</code></pre><h3 id=user---manage-users>user - Manage users<a hidden class=anchor aria-hidden=true href=#user---manage-users>#</a></h3><ul><li>User 생성 및 삭제</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e>## create User</span>
</span></span><span style=display:flex><span>$ mc admin user add myinfo cdecl cdeclpass
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## remove User</span>
</span></span><span style=display:flex><span><span style=color:#75715e># mc admin user remove myinfo cdecl</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ mc admin user info myinfo cdecl             
</span></span><span style=display:flex><span>AccessKey: cdecl                              
</span></span><span style=display:flex><span>Status: enabled                               
</span></span><span style=display:flex><span>PolicyName:                                   
</span></span><span style=display:flex><span>MemberOf:                                     
</span></span></code></pre></div><ul><li>Policy</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ mc admin policy set myinfo readonly user<span style=color:#f92672>=</span>cdecl
</span></span><span style=display:flex><span>Policy readonly is set on user <span style=color:#e6db74>`</span>cdecl<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ mc admin policy set myinfo writeonly user<span style=color:#f92672>=</span>cdecl
</span></span><span style=display:flex><span>Policy writeonly is set on user <span style=color:#e6db74>`</span>cdecl<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ mc admin policy set myinfo readwrite user<span style=color:#f92672>=</span>cdecl
</span></span><span style=display:flex><span>Policy readwrite is set on user <span style=color:#e6db74>`</span>cdecl<span style=color:#e6db74>`</span>
</span></span></code></pre></div><h3 id=heal---heal-disks-buckets-and-objects-on-minio-server>heal - Heal disks, buckets and objects on MinIO server<a hidden class=anchor aria-hidden=true href=#heal---heal-disks-buckets-and-objects-on-minio-server>#</a></h3><ul><li>This command is only applicable for MinIO erasure coded setup (standalone and distributed).</li><li>Erasure Code 상태에서 특정 디스크의 데이터가 문제가 있을 경우, 균등하게 데이터를 복구 해줌</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ mc admin heal -r myinfo
</span></span><span style=display:flex><span> -  data1
</span></span><span style=display:flex><span>    2/2 objects; <span style=color:#ae81ff>403</span> MiB in 1s
</span></span><span style=display:flex><span>    ┌────────┬───┬─────────────────────┐
</span></span><span style=display:flex><span>    │ Green  │ <span style=color:#ae81ff>5</span> │ 100.0% ████████████ │
</span></span><span style=display:flex><span>    │ Yellow │ <span style=color:#ae81ff>0</span> │   0.0%              │
</span></span><span style=display:flex><span>    │ Red    │ <span style=color:#ae81ff>0</span> │   0.0%              │
</span></span><span style=display:flex><span>    │ Grey   │ <span style=color:#ae81ff>0</span> │   0.0%              │
</span></span><span style=display:flex><span>    └────────┴───┴─────────────────────┘
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://cdecl.github.io/tags/minio/>Minio</a></li><li><a href=https://cdecl.github.io/tags/object-storage/>Object Storage</a></li><li><a href=https://cdecl.github.io/tags/s3-compatible/>S3 Compatible</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://cdecl.github.io/>cdeclog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>