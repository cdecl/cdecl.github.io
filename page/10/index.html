<!doctype html><html lang=en dir=auto data-theme=auto><head><meta name=generator content="Hugo 0.157.0"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>cdeclog</title><meta name=description content="cdecl's Dev.Ops Blog"><meta name=author content="Byung Kyu KIM"><link rel=canonical href=https://cdecl.github.io/><link crossorigin=anonymous href=/assets/css/stylesheet.f939c4ffefb264e6fe85e04352266f79db6bb1303c8e16ae9b6064c1247b5e32.css integrity="sha256-+TnE/++yZOb+heBDUiZvedtrsTA8jhaum2BkwSR7XjI=" rel="preload stylesheet" as=style><link rel=icon href=https://cdecl.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://cdecl.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://cdecl.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://cdecl.github.io/apple-touch-icon.png><link rel=mask-icon href=https://cdecl.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://cdecl.github.io/index.xml title=rss><link rel=alternate type=application/json href=https://cdecl.github.io/index.json title=json><link rel=alternate hreflang=en href=https://cdecl.github.io/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VQQHHYPN7K"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VQQHHYPN7K")}</script><meta property="og:url" content="https://cdecl.github.io/"><meta property="og:site_name" content="cdeclog"><meta property="og:title" content="cdeclog"><meta property="og:description" content="cdecl's Dev.Ops Blog"><meta property="og:locale" content="ko-kr"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="cdeclog"><meta name=twitter:description content="cdecl's Dev.Ops Blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"cdeclog","url":"https://cdecl.github.io/","description":"cdecl's Dev.Ops Blog","logo":"https://cdecl.github.io/favicon.ico","sameAs":["https://github.com/cdecl","https://cdecl.tistory.com/"]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://cdecl.github.io/ accesskey=h title="cdeclog (Alt + H)">cdeclog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://cdecl.github.io/dev/ title=Dev><span>Dev</span></a></li><li><a href=https://cdecl.github.io/devops/ title=DevOps><span>DevOps</span></a></li><li><a href=https://cdecl.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://cdecl.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://cdecl.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>CSV to SQLite3</h2></header><div class=entry-content><p>CSV íŒŒì¼ì„ SQLite3 Import ë° Query
CSV to SQLite3 CSV íŒŒì¼ì„ SQLite3ë¡œ Import ì¿¼ë¦¬
CSV ìƒ˜í”Œ ë°ì´í„° í™•ì¸ $ cat cities.csv "LatD", "LatM", "LatS", "NS", "LonD", "LonM", "LonS", "EW", "City", "State" 41, 5, 59, "N", 80, 39, 0, "W", "Youngstown", OH 42, 52, 48, "N", 97, 23, 23, "W", "Yankton", SD 46, 35, 59, "N", 120, 30, 36, "W", "Yakima", WA ... TIP: cat ëŒ€ì‹  bat ì‚¬ìš©í•˜ë©´ ë” ë‚˜ì€ ë·°ì–´ë¥¼ ì œê³µ
$ bat cities.csv CSV Import .mode csv : csv ëª¨ë“œë¡œ ì „í™˜ .import ./cities.csv ci : ./cities.csv íŒŒì¼ì„ ci í…Œì´ë¸”ë¡œ Import .import --skip 1 ./cities.csv ci : ./cities.csv í…Œì´ë¸”ì´ ì¡´ì¬ í• ë•Œ header ì œì™¸ .import --csv ./cities.csv ci : ./cities.csv csv ëª¨ë“œ inline ì˜µì…˜ # ci.db ìƒì„± ë° ì¸í„°ë™í‹°ë¸Œ ëª¨ë“œ $ sqlite3 ci.db SQLite version 3.37.0 2021-12-09 01:34:53 Enter ".help" for usage hints. sqlite> .mode csv sqlite> .import ./cities.csv ci sqlite> .tables ci sqlite> select count(*) from ci; count(*) 129 sqlite> .mode list sqlite> .header on sqlite> select * from ci limit 10; LatD| "LatM"| "LatS"| "NS"| "LonD"| "LonM"| "LonS"| "EW"| "City"| "State" 41| 5| 59| "N"| 80| 39| 0| "W"| "Youngstown"| OH 42| 52| 48| "N"| 97| 23| 23| "W"| "Yankton"| SD 46| 35| 59| "N"| 120| 30| 36| "W"| "Yakima"| WA 42| 16| 12| "N"| 71| 48| 0| "W"| "Worcester"| MA 43| 37| 48| "N"| 89| 46| 11| "W"| "Wisconsin Dells"| WI 36| 5| 59| "N"| 80| 15| 0| "W"| "Winston-Salem"| NC 49| 52| 48| "N"| 97| 9| 0| "W"| "Winnipeg"| MB 39| 11| 23| "N"| 78| 9| 36| "W"| "Winchester"| VA 34| 14| 24| "N"| 77| 55| 11| "W"| "Wilmington"| NC 39| 45| 0| "N"| 75| 33| 0| "W"| "Wilmington"| DE Inline command $ sqlite3 /tmp/t.db ".import -csv ./cities.csv ci" "select * from ci" -header LatD| "LatM"| "LatS"| "NS"| "LonD"| "LonM"| "LonS"| "EW"| "City"| "State" 41| 5| 59| "N"| 80| 39| 0| "W"| "Youngstown"| OH 42| 52| 48| "N"| 97| 23| 23| "W"| "Yankton"| SD 46| 35| 59| "N"| 120| 30| 36| "W"| "Yakima"| WA 42| 16| 12| "N"| 71| 48| 0| "W"| "Worcester"| MA 43| 37| 48| "N"| 89| 46| 11| "W"| "Wisconsin Dells"| WI 36| 5| 59| "N"| 80| 15| 0| "W"| "Winston-Salem"| NC 49| 52| 48| "N"| 97| 9| 0| "W"| "Winnipeg"| MB 39| 11| 23| "N"| 78| 9| 36| "W"| "Winchester"| VA 34| 14| 24| "N"| 77| 55| 11| "W"| "Wilmington"| NC 39| 45| 0| "N"| 75| 33| 0| "W"| "Wilmington"| DE</p></div><footer class=entry-footer><span title='2022-08-09 00:00:00 +0900 KST'>August 9, 2022</span>&nbsp;Â·&nbsp;<span>Byung Kyu KIM</span></footer><a class=entry-link aria-label="post link to CSV to SQLite3" href=https://cdecl.github.io/devops/csv-to-sqlite3/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ripgrep, rg</h2></header><div class=entry-content><p>í•˜ìœ„ ë””ë ‰í† ë¦¬ì—ì„œ ì •ê·œì‹ íŒ¨í„´ì„ ì¬ê·€ì ìœ¼ë¡œ ê²€ìƒ‰í•˜ëŠ” ë¼ì¸ ì§€í–¥ ê²€ìƒ‰ ë„êµ¬
ripgrep https://github.com/BurntSushi/ripgrep{:target="_blank"} rustë¡œ ë§Œë“¤ì–´ì§„ í¬ë¡œìŠ¤í”Œë«í¼ ì§€í–¥ grep ëŒ€ì²´ë„êµ¬ íŠ¹ì§• ì½”ë“œ ê²€ìƒ‰ì— íŠ¹í™”ë˜ê³  ê¸°ë³¸ì ìœ¼ë¡œ ì¬ê·€ì  ë””ë ‰í† ë¦¬ ê²€ìƒ‰ ì‚¬ìš©
ìë™ í•„í„°ë§ : ê¸°ë³¸ì ìœ¼ë¡œ ë””ë ‰í† ë¦¬ë¥¼ ê²€ìƒ‰í•  ë•Œ ì•„ë˜ ì¡°ê±´ì€ ê²€ìƒ‰í•˜ì§€ ì•ŠìŒ
.gitignore .ignore .rgignore ëª…ì‹œë˜ì–´ ìˆëŠ” íŒŒì¼ì€ ê¸°ë³¸ì ìœ¼ë¡œ ê²€ìƒ‰í•˜ì§€ ì•ŠìŒ â†’ --no-ignore ë¡œ íšŒí”¼ ìˆ¨ê²¨ì§„ íŒŒì¼ ë° ë””ë ‰í† ë¦¬ â†’ --hidden ë¡œ íšŒí”¼ ë°”ì´ë„ˆë¦¬ íŒŒì¼ (ripgrepì€ NULë°”ì´íŠ¸ ìˆìœ¼ë©´ ë°”ì´ë„ˆë¦¬ë¡œ ê°„ì£¼) â†’ --text, -a ë¡œ íšŒí”¼ ì‹¬ë³¼ë¦­ ë§í¬ ì—°ê²° â†’ --follow, -L ë¡œ ì—°ê²° ì „ì²´ í•„í„°ë§ì„ íšŒí”¼í•˜ê¸° (ë‹¨ê³„ë³„) â†’ -u or -uu or -uuu (quivalent to â€˜grep -râ€™)
...</p></div><footer class=entry-footer><span title='2022-07-27 00:00:00 +0900 KST'>July 27, 2022</span>&nbsp;Â·&nbsp;<span>Byung Kyu KIM</span></footer><a class=entry-link aria-label="post link to ripgrep, rg" href=https://cdecl.github.io/devops/ripgrep/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Ansible dynamic inventory - AWS EC2</h2></header><div class=entry-content><p>Ansible aws_ec2 plugin í™œìš©, AWS EC2 ë™ì  Inventory êµ¬ì„±
Ansible plugin : aws_ec2 https://docs.ansible.com/ansible/2.9/plugins/inventory/aws_ec2.html{:target="_blank"} Get inventory hosts from Amazon Web Services EC2 Requirements python package : boto3, bo YAML ì„¤ì • íŒŒì¼ ì´ë¦„ì´ aws_ec2.(yml|yaml) ë¡œ ëë‚˜ì•¼ í•¨ $ ansible --version ansible 2.9.6 config file = /etc/ansible/ansible.cfg configured module search path = ['/home/cdecl/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/lib/python3/dist-packages/ansible executable location = /usr/bin/ansible python version = 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0] # install boto3, bo $ pip3 install boto3 ê¸°ë³¸ì„¤ì • aws_ec2.yaml plugin : í”„ëŸ¬ê·¸ì¸ ì´ë¦„, í•„ìˆ˜ regions : ì§€ì •í•˜ë©´ ë” ë¹ ë¥¸ ì¡°íšŒ plugin: aws_ec2 regions: - ap-northeast-2 # .aws/credendial íŒŒì¼ì´ ì—†ìœ¼ë©´ aws_access_key_id: AKIA3************** aws_secret_access_key: 1oxRajyBX********************** ~/.aws/credentials [default] aws_access_key_id = AKIA3************** aws_secret_access_key = 1oxRajyBX********************** Inventory í™•ì¸ ê¸°ë³¸ aws_ec2 ê·¸ë£¹ìœ¼ë¡œ ìƒì„± # json í˜•íƒœë¡œ ec2 node ì •ë³´ ë° group ì •ë³´ ë¦¬ìŠ¤íŠ¸ $ ansible-inventory -i aws_ec2.yaml --list ... "all": { "children": [ "aws_ec2", "ungrouped" ] }, "aws_ec2": { "hosts": [ "ip-10-211-20-159.ap-northeast-2.compute.internal", "ip-10-211-20-229.ap-northeast-2.compute.internal", "ip-10-211-20-45.ap-northeast-2.compute.internal" ] } } # inventory ì •ë³´ë¥¼ ê·¸ë˜í”„ í˜•íƒœë¡œ í‘œì‹œ $ ansible-inventory -i aws_ec2.yaml --graph @all: |--@aws_ec2: | |--ip-10-211-20-159.ap-northeast-2.compute.internal | |--ip-10-211-20-229.ap-northeast-2.compute.internal | |--ip-10-211-20-45.ap-northeast-2.compute.inte # ansible ëª…ë ¹ìœ¼ë¡œ í™•ì¸ $ ansible -i aws_ec2.yaml --list-hosts all hosts (3): ip-10-211-20-229.ap-northeast-2.compute.internal ip-10-211-20-159.ap-northeast-2.compute.internal ip-10-211-20-45.ap-northeast-2.compute.internal í•„í„° ë° ê·¸ë£¹í™” ì˜ˆì œ : https://docs.ansible.com/ansible/2.9/plugins/inventory/aws_ec2.html#examples{:target="_blank"} filters : í•„í„°ë¡œ ì›í•˜ëŠ” í•­ëª©ë§Œ ê°€ì ¸ì˜´ AWS CLI ëª…ë ¹ describe-instances â€“filters í•­ëª© ì°¸ê³  https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html#options{:target="_blank"} keyed_groups : Inventory ê·¸ë£¹í™” í•­ëª© plugin: aws_ec2 regions: - ap-northeast-2 filters: # tag ì •ë³´ê°€ AutoDelete:False ì¸ ì¸ìŠ¤í„´ìŠ¤ tag:AutoDelete: "False" # running ìƒíƒœ ì¸ìŠ¤í„´ìŠ¤ instance-state-name: 'running' keyed_groups: # tag ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê·¸ë£¹í™”, "prefix_key_value" í˜•ì‹ì˜ ê·¸ë£¹ì´ë¦„ - prefix: tag key: tags # tag ë¡œ ê·¸ë£¹í™” $ ansible-inventory -i aws_ec2.yaml --graph @all: |--@aws_ec2: | |--ip-10-211-20-159.ap-northeast-2.compute.internal | |--ip-10-211-20-229.ap-northeast-2.compute.internal | |--ip-10-211-20-45.ap-northeast-2.compute.internal |--@tag_AutoDelete_False: | |--ip-10-211-20-159.ap-northeast-2.compute.internal | |--ip-10-211-20-229.ap-northeast-2.compute.internal | |--ip-10-211-20-45.ap-northeast-2.compute.internal ... |--@tag_Name_kube01: | |--ip-10-211-20-45.ap-northeast-2.compute.internal |--@tag_Name_kube02: | |--ip-10-211-20-159.ap-northeast-2.compute.internal |--@tag_Name_kube03: | |--ip-10-211-20-229.ap-northeast-2.compute.internal |--@ungrouped: # ansible ëª…ë ¹ìœ¼ë¡œ í™•ì¸ $ ansible -i aws_ec2.yaml tag_AutoDelete_False --list-hosts hosts (3): ip-10-211-20-229.ap-northeast-2.compute.internal ip-10-211-20-159.ap-northeast-2.compute.internal ip-10-211-20-45.ap-northeast-2.compute.internal $ ansible -i aws_ec2.yaml tag_Name_kube01 --list-hosts hosts (1): ip-10-211-20-45.ap-northeast-2.compute.internal Host ì—°ê²°ì„ ìœ„í•œ inventory parameters ì¶”ê°€ multiple inventoryë¡œ ì •ë³´ ì¶”ê°€ https://docs.ansible.com/ansible/2.9/user_guide/intro_inventory.html#connecting-to-hosts-behavioral-inventory-parameters{:target="_blank"} # aws.host [win:children] tag_AutoDelete_False [win:vars] ansible_user=rundeck ansible_password=&lt;passowrd> ansible_connection=winrm ansible_port=5985 $ ansible-inventory -i aws_ec2.yaml -i aws.host --vars --list { "_meta": { "hostvars": { "ip-10-211-20-159.ap-northeast-2.compute.internal": { "ami_launch_index": 1, "ansible_connection": "winrm", "ansible_password": "&lt;passowrd>", "ansible_port": 5985, "ansible_user": "ansible", "architecture": "x86_64", ... ansible-inventory --list ì˜µì…˜ìœ¼ë¡œ hosts íŒŒì¼ í˜•ì‹ êµ¬ì„± $ ansible-inventory -i aws_ec2.yaml --list | jq -r '._meta.hostvars[] | "\(.private_ip_address) \(.tags.Name) "' 10.211.20.159 kube02 10.211.20.229 kube03 10.211.20.45 kube01 Ansible EC2 Dynamic inventory minimum IAM policies https://stackoverflow.com/questions/30519470/ansible-ec2-dynamic-inventory-minimum-iam-policies{:target="_blank"} { "Version": "2012-10-17", "Statement": [ { "Sid": "Demo201505282045", "Effect": "Allow", "Action": [ "ec2:Describe*", "route53:ListHostedZones", "route53:ListResourceRecordSets" ], "Resource": "*" } ] }</p></div><footer class=entry-footer><span title='2022-07-16 00:00:00 +0900 KST'>July 16, 2022</span>&nbsp;Â·&nbsp;<span>Byung Kyu KIM</span></footer><a class=entry-link aria-label="post link to Ansible dynamic inventory - AWS EC2" href=https://cdecl.github.io/devops/ansible-dynamic-inventory-aws-ec2/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Multipass, Ubuntu VM ì„¤ì •</h2></header><div class=entry-content><p>Canonical ì¬ë‹¨ì—ì„œ ì§€ì›í•˜ëŠ” ë‹¨ì¼ ëª…ë ¹ìœ¼ë¡œ Ubuntu VM êµ¬ì„± í•  ìˆ˜ ìˆëŠ” ë„êµ¬
Multipass https://multipass.run/{:target="_blank"} ìµœì†Œí•œì˜ ì˜¤ë²„í—¤ë“œë¥¼ ìœ„í•œ ê° í”Œë«í¼ ì§€ì› Windows : Hyper-V macOS : QEMU, HyperKit Linux : LXD Multipass install https://multipass.run/install{:target="_blank"} í”Œë«í¼ ë³„ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë°©ë²• # windows $ choco install multipass # macOS $ brew install multipass Multipass ì£¼ìš” ëª…ë ¹ ë° VM Instance ìƒì„± ì£¼ìš” ëª…ë ¹ì–´ launch : Ubuntu instance ìƒì„± ë° ì‹œì‘ start, stop, restart : ì‹œì‘ ì¤‘ì§€ delete : Ubuntu instance ì‚­ì œ purge : ì‚­ì œëœ ì´ë¯¸ì§€ ì˜êµ¬ ì‚­ì œ shell : Instance ë‚´ë¶€ shell ë¡œ ì ‘ì† list : ìƒì„±ëœ Instance í™•ì¸ info : Instance ì •ë³´ í™•ì¸ $ multipass --help ... Available commands: alias Create an alias aliases List available aliases authenticate Authenticate client delete Delete instances exec Run a command on an instance find Display available images to create instances from get Get a configuration setting help Display help about a command info Display information about instances launch Create and start an Ubuntu instance list List all available instances mount Mount a local directory in the instance networks List available network interfaces purge Purge all deleted instances permanently recover Recover deleted instances restart Restart instances set Set a configuration setting shell Open a shell on a running instance start Start instances stop Stop running instances suspend Suspend running instances transfer Transfer files between the host and instances umount Unmount a directory from an instance unalias Remove an alias version Show version details Ubuntu VM Instance ìƒì„± : ê¸°ë³¸ ìƒì„± # node1 ì´ë¦„ì˜ instance ìƒì„± $ multipass launch -n node01 Launched: node01 # ê¸°ë³¸ lts ì´ë¯¸ì§€ë¡œ ìƒì„± : Ubuntu 20.04 LTS $ multipass list Name State IPv4 Image node01 Running 192.168.196.207 Ubuntu 20.04 LTS # instace ì •ë³´ $ multipass info node01 Name: node01 State: Running IPv4: 192.168.196.207 Release: Ubuntu 20.04.4 LTS Image hash: 75a04c7eed58 (Ubuntu 20.04 LTS) Load: 0.38 0.15 0.05 Disk usage: 1.4G out of 4.7G Memory usage: 162.4M out of 912.5M Mounts: -- ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ Instance ìƒì„±ì‹œ, Disk ë“±ì˜ ë¦¬ì†ŒìŠ¤ê°€ ë¶€ì¡± í•  ìˆ˜ ìˆìŒ
...</p></div><footer class=entry-footer><span title='2022-07-04 00:00:00 +0900 KST'>July 4, 2022</span>&nbsp;Â·&nbsp;<span>Byung Kyu KIM</span></footer><a class=entry-link aria-label="post link to Multipass, Ubuntu VM ì„¤ì •" href=https://cdecl.github.io/devops/multipass-ubuntu/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Neovim, vim-plug ì„¤ì •</h2></header><div class=entry-content><p>Neovim ì„¤ì¹˜ ë° vim-plug ì„¤ì •ìœ¼ë¡œ ê°œë°œ, ìš´ì˜ í™˜ê²½ êµ¬ì„±
Neovim https://github.com/neovim/neovim{:target="_blank"} Vim-fork focused on extensibility and usability Neovim install í”Œë«í¼ ë³„ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë°©ë²• # macos $ brew install nvim # windows $ choco install neovim # linux (ubuntu) $ sudo apt install neovim # linux (centos) $ sudo yum install neovim vim-plug install Neovim ì— Plugin ì§€ì›ì„ ìœ„í•œ í™•ì¥ íˆ´ : vim ë„ ì§€ì› https://github.com/junegunn/vim-plug{:target="_blank"} vimì˜ Vumdleê³¼ ê°™ì€ Minimalist Vim Plugin Manager
...</p></div><footer class=entry-footer><span title='2022-06-27 00:00:00 +0900 KST'>June 27, 2022</span>&nbsp;Â·&nbsp;<span>Byung Kyu KIM</span></footer><a class=entry-link aria-label="post link to Neovim, vim-plug ì„¤ì •" href=https://cdecl.github.io/devops/nvim-plug/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Traefik Proxy</h2></header><div class=entry-content><p>Docker ê¸°ë°˜ ì„œë¹„ìŠ¤ ìë™ ê°ì§€ ë° ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” Reverse proxy
Traefik Proxy https://doc.traefik.io/traefik/{:target="_blank"} docker.sock ì„ í†µí•´ Rule ê¸°ë°˜ ì„œë¹„ìŠ¤ë¥¼ ì°¾ê³  ìš”ì²­ì„ ì²˜ë¦¬í•¨ Docker ì´ì™¸ì— Kubernetes, Docker Swarm, AWS, Mesos, Marathon ë“±ì„ ì§€ì› Quick Start https://doc.traefik.io/traefik/getting-started/quick-start/{:target="_blank"} docker-compose.yml reverse-proxy : traefik reverse proxy ì„œë¹„ìŠ¤ Docker Out of Docker (DooD) ê°™ì€ í˜•íƒœë¡œ ì„œë¹„ìŠ¤ ê°ì§€ ì„œë¹„ìŠ¤ì™€ ê°™ì€ Docker network ë‚´ì— ìˆì–´ì•¼ í˜¸ì¶œì´ ê°€ëŠ¥ whoami : Client í˜¸ì¶œì •ë³´ë¥¼ ë³´ì—¬ì£¼ëŠ” ê°„ë‹¨í•œ ì„œë¹„ìŠ¤ labels ì„ í†µí•´ whoami ì„œë¹„ìŠ¤ Rule ë“±ë¡ Host ê¸°ë°˜ Rule ì ìš© : "traefik.http.routers.whoami.rule=Host(whoami.localhost)" traefik.http.routers.&lt;router_name>.rule= Docker Routers ê·œì¹™{:target="_blank"} Rule ì¢…ë¥˜{:target="_blank"} ì„œë¹„ìŠ¤ì— Port ê°€ ë…¸ì¶œ ë˜ì–´ì•¼ í•¨ : Expose port (or Publish port) version: '3' services: reverse-proxy: # The official v2 Traefik docker image image: traefik:v2.6 # Enables the web UI and tells Traefik to listen to docker command: --api.insecure=true --providers.docker ports: # The HTTP port - "80:80" # The Web UI (enabled by --api.insecure=true) - "8080:8080" volumes: # So that Traefik can listen to the Docker events - /var/run/docker.sock:/var/run/docker.sock whoami: # A container that exposes an API to show its IP address image: traefik/whoami labels: - "traefik.http.routers.whoami.rule=Host(`whoami.localhost`)" # reverse-proxy ì„œë¹„ìŠ¤ ì‹œì‘ $ docker-compose up -d reverse-proxy # whoami ì„œë¹„ìŠ¤ ì‹œì‘ $ docker-compose up -d whoami $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e457ff5e01cb traefik/whoami "/whoami" 59 minutes ago Up 59 minutes 80/tcp traefik_whoami_1 Dashboard Router í™•ì¸ ...</p></div><footer class=entry-footer><span title='2022-03-05 00:00:00 +0900 KST'>March 5, 2022</span>&nbsp;Â·&nbsp;<span>Byung Kyu KIM</span></footer><a class=entry-link aria-label="post link to Traefik Proxy" href=https://cdecl.github.io/devops/traefik-proxy/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Git Repository ë³µì œ, Branch ë™ê¸°í™” ê´€ë¦¬</h2></header><div class=entry-content><p>Git Repository ë³µì œ ë° Branch ê´€ë¦¬ ê°€ì´ë“œ Git Repository ë³µì œ Remote â†’ Local ë³µì œ Git ì €ì¥ì†Œë¥¼ ë³µì œí•˜ëŠ” ë°©ë²•ì—ëŠ” ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆìœ¼ë©°, ê°ê°ì˜ ë°©ì‹ì— ë”°ë¼ ë‹¤ë¥¸ íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤.
--mirror ë³µì œì˜ íŠ¹ì§• git clone --mirror: Remote repositoryì˜ ëª¨ë“  ì°¸ì¡°(refs)ë¥¼ í¬í•¨í•˜ì—¬ Localì— ì €ì¥ ê¸°ë³¸ cloneê³¼ ë‹¬ë¦¬ ì‘ì—… ë””ë ‰í† ë¦¬ ì—†ì´ ì €ì¥ì†Œì˜ ë©”íƒ€ë°ì´í„° ì „ì²´ë¥¼ ë³µì œ ì£¼ë¡œ ì €ì¥ì†Œ ë°±ì—…ì´ë‚˜ ì™„ì „í•œ ë¯¸ëŸ¬ë§ì— ì‚¬ìš© # mirror ë³µì œ $ git clone --mirror https://github.com/cdecl/test $ tree -d . â””â”€â”€ test.git â”œâ”€â”€ branches â”œâ”€â”€ hooks â”œâ”€â”€ info â”œâ”€â”€ objects â”‚Â â”œâ”€â”€ info â”‚Â â””â”€â”€ pack â””â”€â”€ refs â”œâ”€â”€ heads â””â”€â”€ tags ğŸ’¡ ì¶”ê°€ ì •ë³´:
...</p></div><footer class=entry-footer><span title='2022-02-23 00:00:00 +0900 KST'>February 23, 2022</span>&nbsp;Â·&nbsp;<span>Byung Kyu KIM</span></footer><a class=entry-link aria-label="post link to Git Repository ë³µì œ, Branch ë™ê¸°í™” ê´€ë¦¬" href=https://cdecl.github.io/dev/git-mirror-branch/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ReaR (Relax & Recover) Basic</h2></header><div class=entry-content><p>ReaR(Relax & Recover), Linux ì¬í•´ ë³µêµ¬ ë„êµ¬
ReaR https://relax-and-recover.org/{:target="_blank"} Manual Page : https://github.com/rear/rear/blob/master/doc/rear.8.adoc{:target="_blank"} OSì˜ ë¶€íŒ… ê°€ëŠ¥í•œ ë³µêµ¬ ì‹œìŠ¤í…œ êµ¬ì„±, ì‹œìŠ¤í…œ íŒŒì¼ ë°±ì—… ë° ë³µêµ¬ ì§€ì› Simple Example NFS ë°±ì—… ì„œë²„ êµ¬ì„± ReaR ë°±ì—… ë° ë³µêµ¬ í…ŒìŠ¤íŠ¸ centos7, Hyper-v í™˜ê²½ í…ŒìŠ¤íŠ¸ https://access.redhat.com/solutions/2115051{:target="_blank"} Backupìš© NFS ì„œë²„ êµ¬ì„± ë°±ì—…ì„œë²„ NFS êµ¬ì„± # nfs-utils ì„¤ì¹˜ $ sudo yum install nfs-utils # ë””ë ‰í† ë¦¬ ìƒì„± $ sudo mkdir -p /storage/rear # nfs ì„œë²„ ì„¤ì • $ cat /etc/exports /storage *(rw,sync,no_root_squash) # nfs-server start # sudo systemctl enable nfs-server $ sudo systemctl start nfs-server ëŒ€ìƒ ì„œë²„ êµ¬ì„± RaaR ì„¤ì¹˜ ë° êµ¬ì„± # nfs clients $ sudo yum install nfs-utils # ReaR ì„¤ì¹˜ sudo yum install nfs-utils # í•„ìš”ì— ë”°ë¼ ì•„ë˜ ëª¨ë“ˆ ì„¤ì¹˜ # rear -d -v mkbackup ì‹œ í•´ë‹¹ ëª¨ë“ˆì´ ì—†ë‹¤ê³  ë‚˜ì˜¤ë©´ # WARNING: /usr/lib/grub/x86_64-efi/moddep.lst not found, grub2-mkimage will likely fail. # Please install the grub2-efi-x64-modules package to fix this. $ sudo yum install grub2-efi-x64-modules RaaR ì„¤ì • https://github.com/rear/rear/blob/master/doc/user-guide/03-configuration.adoc{:target="_blank"} /etc/rear/local.conf OUTPUT : Rescue media, BOOTìš© ì´ë¯¸ì§€ ISO : ISO BOOT ì´ë¯¸ì§€ ìƒì„± BACKUP, BACKUP_URL : Backup/Restore strategy, ì‹œìŠ¤í…œíŒŒì¼ ë° ë°±ì—… ë°ì´í„° ì¢…ë¥˜ ë° ìœ„ì¹˜ ì§€ì • NETFS : Use Relax-and-Recover internal backup with tar or rsync (or similar) BACKUP_URL ê²½ë¡œ ë° HostName í´ë”ì— ìƒì„± BACKUP_PROG_EXCLUDE : ë°±ì—… ì œì™¸ ê²½ë¡œ ì§€ì • # /etc/rear/local.conf OUTPUT=ISO OUTPUT_URL=nfs://192.168.137.100/storage/rear BACKUP=NETFS BACKUP_URL=nfs://192.168.137.100/storage/rear # BACKUP_TYPE=incremental # FULLBACKUPDAY=Sun # BACKUP_PROG_EXCLUDE=('/syslogs/logs/*' '/var/log/*') Backup ì‹¤í–‰ mkbackup : create rescue media and backup system mkbackuponly : backup system without creating rescue media mkrescue : create rescue media only ## verbose mode # -d : debug mode ì˜ ê²½ìš° /tmp ë°‘ì— íŒŒì¼ì„ ì§€ìš°ì§€ ì•ŠìŒ $ sudo rear -v mkbackup Backup ë°ì´í„° í™•ì¸ # Backup ì„œë²„ $ hostname -I 192.168.137.100 # hostname ë””ë ‰í† ë¦¬ë³„ë¡œ ë°±ì—… $ tree /storage /storage â””â”€â”€ rear â”œâ”€â”€ node1 â”‚Â â”œâ”€â”€ README â”‚Â â”œâ”€â”€ VERSION â”‚Â â”œâ”€â”€ backup.log â”‚Â â”œâ”€â”€ backup.tar.gz â”‚Â â”œâ”€â”€ rear-node1.iso â”‚Â â””â”€â”€ rear-node1.log â””â”€â”€ node2 â”œâ”€â”€ README â”œâ”€â”€ VERSION â”œâ”€â”€ backup.log â”œâ”€â”€ backup.tar.gz â”œâ”€â”€ rear-node2.iso â””â”€â”€ rear-node2.log ë³µêµ¬ ì‹¤í–‰ ë°±ì—…ëœ rescue media (iso)ë¡œ ë¶€íŒ…ì„ í•œ í›„, ë³µêµ¬ ëª¨ë“œë¡œ ì‹¤í–‰
...</p></div><footer class=entry-footer><span title='2022-02-07 00:00:00 +0900 KST'>February 7, 2022</span>&nbsp;Â·&nbsp;<span>Byung Kyu KIM</span></footer><a class=entry-link aria-label="post link to ReaR (Relax & Recover) Basic" href=https://cdecl.github.io/devops/rear-basic/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Kustomize Basic</h2></header><div class=entry-content><p>kubernetes manifest ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ ë„êµ¬
Kustomize https://kubernetes.io/ko/docs/tasks/manage-kubernetes-objects/kustomization/{:target="_blank"} kubernetes manifest (yaml) íŒŒì¼ì„ Template í˜•íƒœë¡œ ê´€ë¦¬ Patch(Merge) ë° ë°°í¬ í•´ì£¼ëŠ” íˆ´ kubernetes 1.14 ì´í›„, kubectl ëª…ë ¹ì–´ë¡œ kustomization ì§€ì› Simple Example $ tree . . â”œâ”€â”€ deployment.yaml â”œâ”€â”€ kustomization.yaml â””â”€â”€ version.yaml kustomization.yaml Manifest íŒŒì¼ì˜ ê¸°ë³¸ êµ¬ì¡° ë° ë¦¬ì†ŒìŠ¤, íŒ¨ì¹˜ íŒŒì¼ì„ ê¸°ìˆ í•˜ëŠ” íŒŒì¼ resources: - deployment.yaml patchesStrategicMerge: - version.yaml resources : ë¦¬ì†ŒìŠ¤ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ resources ì´ì™¸ì— configMapGenerator, secretGenerator ê¸°ëŠ¥ë„ ìˆìŒ https://kubernetes.io/ko/docs/tasks/manage-kubernetes-objects/kustomization/#kustomize-%EA%B8%B0%EB%8A%A5-%EB%A6%AC%EC%8A%A4%ED%8A%B8{:target="_blank"} patchesStrategicMerge : resourcesì˜ Patch íŒŒì¼ Patch : yaml file merge
...</p></div><footer class=entry-footer><span title='2021-12-15 00:00:00 +0900 KST'>December 15, 2021</span>&nbsp;Â·&nbsp;<span>Byung Kyu KIM</span></footer><a class=entry-link aria-label="post link to Kustomize Basic" href=https://cdecl.github.io/devops/kustomize-basic/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>C++ Lambda í‘œí˜„ì‹</h2></header><div class=entry-content><p>C++14, C++17, C++20 ë²„ì „ë³„ Lambda í‘œí˜„ ì •ë¦¬
The Evolutions of Lambdas in C++14, C++17 and C++20 https://www.fluentcpp.com/2021/12/13/the-evolutions-of-lambdas-in-c14-c17-and-c20/{:target="_blank"} í•´ë‹¹ ê¸€ì„ ì°¸ê³ í•˜ì—¬ ì˜ˆì œ ìì²´ ì‘ì„± C++14 Default parameters #include &lt;iostream> using namespace std; int main() { auto fn = [](int a, int b = 0) { return a + b; }; cout &lt;&lt; fn(1) &lt;&lt; endl; // 1 cout &lt;&lt; fn(1, 2) &lt;&lt; endl; // 3 } Template parameters #include &lt;iostream> #include &lt;string> #include &lt;vector> using namespace std; int main() { auto fn = [](auto && c) { return c.size(); }; vector&lt;int> v = {1, 2, 3}; cout &lt;&lt; fn(v) &lt;&lt; endl; // 3 string s = "12345"; cout &lt;&lt; fn(s) &lt;&lt; endl; // 5 } Generalised capture #include &lt;iostream> #include &lt;string> using namespace std; int main() { string str = "string"; auto fn = [s = str + "_capture"s](string body) { cout &lt;&lt; s &lt;&lt; " : " &lt;&lt; body &lt;&lt; endl; }; fn("test"); // string_capture : test } Returning a lambda from a function #include &lt;iostream> using namespace std; auto getAdd(int n) { return [n](int an) { return n + an; }; } int main() { auto fn = getAdd(10); cout &lt;&lt; fn(20) &lt;&lt; endl; } C++17 Constexpr #include &lt;iostream> using namespace std; int main() { constexpr auto fn = [](int n){ return n + 10; }; static_assert(fn(10) == 20); // ok static_assert(fn(20) == 20); // error: static assertion failed } Capturing a copy of *this this ì°¸ì¡°ì— ìº¡ì³ê°€ ì•„ë‹Œ, *this ë³µì‚¬ë³¸ ìº¡ì³ #include &lt;iostream> #include &lt;memory> #include &lt;tuple> using namespace std; class item { public: item(int n = 0) : _value(n) {} auto test() { _value += 1; // copy capture auto fn1 = [*this] { return _value; }; auto fn2 = [self = *this] { return self._value; }; // ref capture auto fn3 = [this] { return _value; }; _value += 1; fn1(); // 11 fn2(); // 11 fn3(); // 12 return make_tuple(fn1, fn2, fn3); } private: int _value; }; int main() { auto it = make_shared&lt;item>(10); auto tp = it->test(); it.reset(); cout &lt;&lt; get&lt;0>(tp)() &lt;&lt; endl; cout &lt;&lt; get&lt;1>(tp)() &lt;&lt; endl; cout &lt;&lt; get&lt;2>(tp)() &lt;&lt; endl; // ref memory error } C++20 Template syntax for lambdas #include &lt;iostream> #include &lt;vector> using namespace std; int main() { auto fn = []&lt;typename T>(vector&lt;T> &amp;v) { return v.size(); }; vector&lt;int> v = {1, 2, 3, 4, 5}; cout &lt;&lt; fn(v) &lt;&lt; endl; } Lambda capture of parameter pack #include &lt;iostream> #include &lt;string> using namespace std; template &lt;typename... Args> auto getAddFunc(Args&&... args){ // by ref [&...args = std::forward&lt;Args>(args)] // by value return [...args = std::forward&lt;Args>(args)] (auto && init) { return init + (args + ...); }; } int main() { auto fn = getAddFunc(1, 2, 3); cout &lt;&lt; fn(10) &lt;&lt; endl; // 16 auto fns = getAddFunc("this "s, "is "s, "sample"s); cout &lt;&lt; fns("note: "s) &lt;&lt; endl; // note: this is sample }</p></div><footer class=entry-footer><span title='2021-12-14 00:00:00 +0900 KST'>December 14, 2021</span>&nbsp;Â·&nbsp;<span>Byung Kyu KIM</span></footer><a class=entry-link aria-label="post link to C++ Lambda í‘œí˜„ì‹" href=https://cdecl.github.io/dev/c++-lambda/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://cdecl.github.io/page/9/>Â«&nbsp;Prev&nbsp;
</a><a class=next href=https://cdecl.github.io/page/11/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2026 <a href=https://cdecl.github.io/>cdeclog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>