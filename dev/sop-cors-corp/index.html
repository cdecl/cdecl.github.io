<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>웹 개발 필수 개념: SOP, CORS, CORP의 관계 정리 | cdeclog</title><meta name=keywords content="CORS,CORP,SOP,CDN,Security"><meta name=description content="현대 웹 환경에서는 Cross-Origin 리소스 접근을 관리하기 위한 복잡한 보안 메커니즘이 존재합니다. 그 중심에는 SOP, CORS, CORP 세 가지 정책이 있습니다.
특히 CDN(Content Delivery Network)을 사용하는 경우, 이 정책들을 정확히 이해하지 못하면 예측하지 못한 로드 오류(CORS/CORP 에러)에 직면하게 됩니다.

1. 웹 보안의 근간: 출처(Origin)와 SOP
웹 보안의 모든 논의는 **출처(Origin)**의 개념에서 시작됩니다.
1-1. 출처(Origin)의 정의
두 URL이 동일한 출처가 되기 위해서는 다음 세 가지 요소가 모두 일치해야 합니다.

프로토콜 (Scheme): http 또는 https
호스트 (Host): 도메인 이름 (예: example.com)
포트 (Port): 포트 번호 (생략 시 기본값 80 또는 443)

1-2. 동일 출처 정책 (SOP: Same-Origin Policy)
SOP는 웹 브라우저의 가장 기본적인 보안 정책입니다."><meta name=author content="Byung Kyu KIM"><link rel=canonical href=https://cdecl.github.io/dev/sop-cors-corp/><link crossorigin=anonymous href=/assets/css/stylesheet.94cdd6e6bf254a927ddb1a5b8ae2c24a30232449c016f55d87efd0d9bed87c55.css integrity="sha256-lM3W5r8lSpJ92xpbiuLCSjAjJEnAFvVdh+/Q2b7YfFU=" rel="preload stylesheet" as=style><link rel=icon href=https://cdecl.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://cdecl.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://cdecl.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://cdecl.github.io/apple-touch-icon.png><link rel=mask-icon href=https://cdecl.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://cdecl.github.io/dev/sop-cors-corp/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VQQHHYPN7K"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VQQHHYPN7K")}</script><meta property="og:url" content="https://cdecl.github.io/dev/sop-cors-corp/"><meta property="og:site_name" content="cdeclog"><meta property="og:title" content="웹 개발 필수 개념: SOP, CORS, CORP의 관계 정리"><meta property="og:description" content="현대 웹 환경에서는 Cross-Origin 리소스 접근을 관리하기 위한 복잡한 보안 메커니즘이 존재합니다. 그 중심에는 SOP, CORS, CORP 세 가지 정책이 있습니다.
특히 CDN(Content Delivery Network)을 사용하는 경우, 이 정책들을 정확히 이해하지 못하면 예측하지 못한 로드 오류(CORS/CORP 에러)에 직면하게 됩니다.
1. 웹 보안의 근간: 출처(Origin)와 SOP 웹 보안의 모든 논의는 **출처(Origin)**의 개념에서 시작됩니다.
1-1. 출처(Origin)의 정의 두 URL이 동일한 출처가 되기 위해서는 다음 세 가지 요소가 모두 일치해야 합니다.
프로토콜 (Scheme): http 또는 https 호스트 (Host): 도메인 이름 (예: example.com) 포트 (Port): 포트 번호 (생략 시 기본값 80 또는 443) 1-2. 동일 출처 정책 (SOP: Same-Origin Policy) SOP는 웹 브라우저의 가장 기본적인 보안 정책입니다."><meta property="og:locale" content="ko-kr"><meta property="og:type" content="article"><meta property="article:section" content="dev"><meta property="article:published_time" content="2025-12-08T00:00:00+09:00"><meta property="article:modified_time" content="2025-12-08T00:00:00+09:00"><meta property="article:tag" content="CORS"><meta property="article:tag" content="CORP"><meta property="article:tag" content="SOP"><meta property="article:tag" content="CDN"><meta property="article:tag" content="Security"><meta name=twitter:card content="summary"><meta name=twitter:title content="웹 개발 필수 개념: SOP, CORS, CORP의 관계 정리"><meta name=twitter:description content="현대 웹 환경에서는 Cross-Origin 리소스 접근을 관리하기 위한 복잡한 보안 메커니즘이 존재합니다. 그 중심에는 SOP, CORS, CORP 세 가지 정책이 있습니다.
특히 CDN(Content Delivery Network)을 사용하는 경우, 이 정책들을 정확히 이해하지 못하면 예측하지 못한 로드 오류(CORS/CORP 에러)에 직면하게 됩니다.

1. 웹 보안의 근간: 출처(Origin)와 SOP
웹 보안의 모든 논의는 **출처(Origin)**의 개념에서 시작됩니다.
1-1. 출처(Origin)의 정의
두 URL이 동일한 출처가 되기 위해서는 다음 세 가지 요소가 모두 일치해야 합니다.

프로토콜 (Scheme): http 또는 https
호스트 (Host): 도메인 이름 (예: example.com)
포트 (Port): 포트 번호 (생략 시 기본값 80 또는 443)

1-2. 동일 출처 정책 (SOP: Same-Origin Policy)
SOP는 웹 브라우저의 가장 기본적인 보안 정책입니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Devs","item":"https://cdecl.github.io/dev/"},{"@type":"ListItem","position":2,"name":"웹 개발 필수 개념: SOP, CORS, CORP의 관계 정리","item":"https://cdecl.github.io/dev/sop-cors-corp/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"웹 개발 필수 개념: SOP, CORS, CORP의 관계 정리","name":"웹 개발 필수 개념: SOP, CORS, CORP의 관계 정리","description":"현대 웹 환경에서는 Cross-Origin 리소스 접근을 관리하기 위한 복잡한 보안 메커니즘이 존재합니다. 그 중심에는 SOP, CORS, CORP 세 가지 정책이 있습니다.\n특히 CDN(Content Delivery Network)을 사용하는 경우, 이 정책들을 정확히 이해하지 못하면 예측하지 못한 로드 오류(CORS/CORP 에러)에 직면하게 됩니다.\n1. 웹 보안의 근간: 출처(Origin)와 SOP 웹 보안의 모든 논의는 **출처(Origin)**의 개념에서 시작됩니다.\n1-1. 출처(Origin)의 정의 두 URL이 동일한 출처가 되기 위해서는 다음 세 가지 요소가 모두 일치해야 합니다.\n프로토콜 (Scheme): http 또는 https 호스트 (Host): 도메인 이름 (예: example.com) 포트 (Port): 포트 번호 (생략 시 기본값 80 또는 443) 1-2. 동일 출처 정책 (SOP: Same-Origin Policy) SOP는 웹 브라우저의 가장 기본적인 보안 정책입니다.\n","keywords":["CORS","CORP","SOP","CDN","Security"],"articleBody":"현대 웹 환경에서는 Cross-Origin 리소스 접근을 관리하기 위한 복잡한 보안 메커니즘이 존재합니다. 그 중심에는 SOP, CORS, CORP 세 가지 정책이 있습니다.\n특히 CDN(Content Delivery Network)을 사용하는 경우, 이 정책들을 정확히 이해하지 못하면 예측하지 못한 로드 오류(CORS/CORP 에러)에 직면하게 됩니다.\n1. 웹 보안의 근간: 출처(Origin)와 SOP 웹 보안의 모든 논의는 **출처(Origin)**의 개념에서 시작됩니다.\n1-1. 출처(Origin)의 정의 두 URL이 동일한 출처가 되기 위해서는 다음 세 가지 요소가 모두 일치해야 합니다.\n프로토콜 (Scheme): http 또는 https 호스트 (Host): 도메인 이름 (예: example.com) 포트 (Port): 포트 번호 (생략 시 기본값 80 또는 443) 1-2. 동일 출처 정책 (SOP: Same-Origin Policy) SOP는 웹 브라우저의 가장 기본적인 보안 정책입니다.\n목표: 한 출처에서 로드된 문서나 스크립트가 다른 출처의 리소스에 임의로 접근하여 정보를 읽는 것을 차단합니다. 이를 통해 CSRF(교차 사이트 요청 위조), 정보 유출 등의 악성 행위를 방지합니다. 기본 원칙: 기본적으로 동일 출처 간의 상호작용만 허용합니다. 2. SOP의 예외: CORS (Cross-Origin Resource Sharing) CORS는 SOP가 엄격하게 제한하는 스크립트 기반의 교차 출처 데이터 통신을 안전하게 허용하기 위한 표준 메커니즘입니다.\n2-1. CORS의 역할과 작동 방식 구분 CORS (Cross-Origin Resource Sharing) 목표 스크립트 기반의 교차 출처 데이터 읽기 허용 (SOP의 예외 부여). 대상 Fetch API, XMLHttpRequest 등을 사용한 동적 API 요청. 작동 주체 서버가 정책을 설정하고, 브라우저가 이를 검증 및 실행. 핵심 헤더 Access-Control-Allow-Origin: \u003c허용 출처\u003e 작동 흐름:\n브라우저: 교차 출처 요청 시 Origin 헤더에 자신의 출처 정보를 담아 서버에 보냅니다. (복잡한 요청의 경우 Preflight 요청을 먼저 보냅니다.) 서버: Origin 헤더를 확인하고, 허용 목록에 있으면 응답 헤더에 Access-Control-Allow-Origin을 포함하여 브라우저에 보냅니다. 브라우저: 응답 헤더를 검증합니다. 허용되지 않은 출처라면, 서버가 응답을 성공적으로 보냈더라도 브라우저가 스크립트가 해당 응답 데이터에 접근하는 것을 차단하고 콘솔에 CORS 에러를 띄웁니다. 📝 서버 측 필수 응답 헤더 (CORS) 서버는 상황에 따라 다음 헤더들을 적절히 조합하여 내려주어야 합니다.\n헤더 이름 설명 예시 Access-Control-Allow-Origin 접근을 허용할 출처(Origin)를 지정합니다. *은 인증이 필요 없는 경우에만 사용 가능합니다. https://example.com Access-Control-Allow-Methods 리소스 접근 시 허용할 HTTP 메서드 목록입니다. (Preflight 응답 시 사용) GET, POST, OPTIONS Access-Control-Allow-Headers 실제 요청에서 사용할 수 있는 커스텀 헤더 목록입니다. Content-Type, Authorization Access-Control-Allow-Credentials 쿠키(Cookie)나 인증 헤더를 포함한 요청을 허용할지 여부입니다. true일 때만 자격 증명 포함 요청이 성공합니다. true Access-Control-Expose-Headers 브라우저 스크립트에서 접근할 수 있는 응답 헤더 화이트리스트입니다. 기본적으로 6개 헤더 외에는 읽을 수 없습니다. X-My-Custom-Header Access-Control-Max-Age Preflight 요청의 결과를 캐시할 시간(초)입니다. 캐시된 시간 동안은 다시 Preflight를 보내지 않습니다. 3600 2-2. 상세 프로세스: 클라이언트와 서버의 대화 CORS는 마치 “입국 심사\"와 유사한 과정을 거칩니다.\n1) Simple Request (단순 요청)\n안전한 메서드(GET, HEAD, POST)와 안전한 헤더(Accept, User-Agent 등)만 사용하는 경우입니다.\n[Browser] [Server] | | | --- GET /api/data -----------------------\u003e | | (Origin: https://my-app.com) | | | | \u003c---------------------- 200 OK ----------- | | (Access-Control-Allow-Origin: | | https://my-app.com) | | | V V [JS App] (성공!) 브라우저가 헤더 확인 후 데이터 전달 2) Preflight Request (예비 요청)\nPUT, DELETE 등 데이터를 변경할 수 있는 요청이나 커스텀 헤더(Authorization 등)를 사용할 때 발생합니다. 브라우저는 본 요청을 보내기 전에 “간 보기(Preflight)” 요청을 먼저 보냅니다.\n[Browser] [Server] | | | --- OPTIONS /api/update -----------------\u003e | | (Origin: ..., Method: PUT) | | \"나 좀 이따 PUT 보낼 건데 괜찮?\" | | | | \u003c----------------- 204 No Content -------- | | (Allow-Methods: PUT) | | \"ㅇㅇ PUT 써도 됨\" | | | | --- PUT /api/update ---------------------\u003e | | | | \u003c---------------------- 200 OK ----------- | 3. 새로운 방어막: CORP (Cross-Origin Resource Policy) CORP는 CORS와 달리, 스크립트 기반 요청뿐만 아니라 **HTML 태그를 통한 리소스 포함(Embedding)**까지 제어하여, 민감한 리소스가 다른 출처의 메모리에 로드되는 것 자체를 방지하는 강력한 보안 정책입니다.\n3-1. CORP의 역할 및 도입 배경 구분 CORP (Cross-Origin Resource Policy) 목표 리소스의 메모리 로드 자체를 차단하여 Spectre와 같은 사이드 채널 공격으로부터 정보를 보호. 대상 ","wordCount":"1082","inLanguage":"en","datePublished":"2025-12-08T00:00:00+09:00","dateModified":"2025-12-08T00:00:00+09:00","author":{"@type":"Person","name":"Byung Kyu KIM"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://cdecl.github.io/dev/sop-cors-corp/"},"publisher":{"@type":"Organization","name":"cdeclog","logo":{"@type":"ImageObject","url":"https://cdecl.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://cdecl.github.io/ accesskey=h title="cdeclog (Alt + H)">cdeclog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://cdecl.github.io/dev/ title=Dev><span>Dev</span></a></li><li><a href=https://cdecl.github.io/devops/ title=DevOps><span>DevOps</span></a></li><li><a href=https://cdecl.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://cdecl.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://cdecl.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">웹 개발 필수 개념: SOP, CORS, CORP의 관계 정리</h1><div class=post-meta><span title='2025-12-08 00:00:00 +0900 KST'>December 8, 2025</span>&nbsp;·&nbsp;<span>Byung Kyu KIM</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-%ec%9b%b9-%eb%b3%b4%ec%95%88%ec%9d%98-%ea%b7%bc%ea%b0%84-%ec%b6%9c%ec%b2%98origin%ec%99%80-sop aria-label="1. 웹 보안의 근간: 출처(Origin)와 SOP">1. 웹 보안의 근간: 출처(Origin)와 SOP</a><ul><li><a href=#1-1-%ec%b6%9c%ec%b2%98origin%ec%9d%98-%ec%a0%95%ec%9d%98 aria-label="1-1. 출처(Origin)의 정의">1-1. 출처(Origin)의 정의</a></li><li><a href=#1-2-%eb%8f%99%ec%9d%bc-%ec%b6%9c%ec%b2%98-%ec%a0%95%ec%b1%85-sop-same-origin-policy aria-label="1-2. 동일 출처 정책 (SOP: Same-Origin Policy)">1-2. 동일 출처 정책 (SOP: Same-Origin Policy)</a></li></ul></li><li><a href=#2-sop%ec%9d%98-%ec%98%88%ec%99%b8-cors-cross-origin-resource-sharing aria-label="2. SOP의 예외: CORS (Cross-Origin Resource Sharing)">2. SOP의 예외: CORS (Cross-Origin Resource Sharing)</a><ul><li><a href=#2-1-cors%ec%9d%98-%ec%97%ad%ed%95%a0%ea%b3%bc-%ec%9e%91%eb%8f%99-%eb%b0%a9%ec%8b%9d aria-label="2-1. CORS의 역할과 작동 방식">2-1. CORS의 역할과 작동 방식</a><ul><li><a href=#-%ec%84%9c%eb%b2%84-%ec%b8%a1-%ed%95%84%ec%88%98-%ec%9d%91%eb%8b%b5-%ed%97%a4%eb%8d%94-cors aria-label="📝 서버 측 필수 응답 헤더 (CORS)">📝 서버 측 필수 응답 헤더 (CORS)</a></li></ul></li><li><a href=#2-2-%ec%83%81%ec%84%b8-%ed%94%84%eb%a1%9c%ec%84%b8%ec%8a%a4-%ed%81%b4%eb%9d%bc%ec%9d%b4%ec%96%b8%ed%8a%b8%ec%99%80-%ec%84%9c%eb%b2%84%ec%9d%98-%eb%8c%80%ed%99%94 aria-label="2-2. 상세 프로세스: 클라이언트와 서버의 대화">2-2. 상세 프로세스: 클라이언트와 서버의 대화</a></li></ul></li><li><a href=#3-%ec%83%88%eb%a1%9c%ec%9a%b4-%eb%b0%a9%ec%96%b4%eb%a7%89-corp-cross-origin-resource-policy aria-label="3. 새로운 방어막: CORP (Cross-Origin Resource Policy)">3. 새로운 방어막: CORP (Cross-Origin Resource Policy)</a><ul><li><a href=#3-1-corp%ec%9d%98-%ec%97%ad%ed%95%a0-%eb%b0%8f-%eb%8f%84%ec%9e%85-%eb%b0%b0%ea%b2%bd aria-label="3-1. CORP의 역할 및 도입 배경">3-1. CORP의 역할 및 도입 배경</a><ul><li><a href=#-%ec%84%9c%eb%b2%84-%ec%b8%a1-%ed%95%84%ec%88%98-%ec%9d%91%eb%8b%b5-%ed%97%a4%eb%8d%94-corp aria-label="📝 서버 측 필수 응답 헤더 (CORP)">📝 서버 측 필수 응답 헤더 (CORP)</a></li></ul></li><li><a href=#3-2-corp-vs-cors-%eb%aa%85%ed%99%95%ed%95%9c-%ec%b0%a8%ec%9d%b4 aria-label="3-2. CORP vs. CORS: 명확한 차이">3-2. CORP vs. CORS: 명확한 차이</a></li><li><a href=#3-3-%ec%83%81%ec%84%b8-%ed%94%84%eb%a1%9c%ec%84%b8%ec%8a%a4-%eb%b8%8c%eb%9d%bc%ec%9a%b0%ec%a0%80%ec%9d%98-%ec%9e%85%ea%b5%ad-%ec%8b%ac%ec%82%ac aria-label="3-3. 상세 프로세스: 브라우저의 입국 심사">3-3. 상세 프로세스: 브라우저의 입국 심사</a></li></ul></li><li><a href=#4-cdn-%ed%99%98%ea%b2%bd%ec%97%90%ec%84%9c-%eb%b0%9c%ec%83%9d%ed%95%98%eb%8a%94-%ec%9d%b4%ec%8a%88-%ec%a0%95%eb%a6%ac aria-label="4. CDN 환경에서 발생하는 이슈 정리">4. CDN 환경에서 발생하는 이슈 정리</a></li><li><a href=#5-%ed%95%b5%ec%8b%ac-%ec%9a%a9%ec%96%b4-%ec%a0%95%eb%a6%ac aria-label="5. 핵심 용어 정리">5. 핵심 용어 정리</a></li></ul></div></details></div><div class=post-content><p>현대 웹 환경에서는 Cross-Origin 리소스 접근을 관리하기 위한 복잡한 보안 메커니즘이 존재합니다. 그 중심에는 <strong>SOP, CORS, CORP</strong> 세 가지 정책이 있습니다.</p><p>특히 CDN(Content Delivery Network)을 사용하는 경우, 이 정책들을 정확히 이해하지 못하면 예측하지 못한 로드 오류(CORS/CORP 에러)에 직면하게 됩니다.</p><hr><h2 id=1-웹-보안의-근간-출처origin와-sop>1. 웹 보안의 근간: 출처(Origin)와 SOP<a hidden class=anchor aria-hidden=true href=#1-웹-보안의-근간-출처origin와-sop>#</a></h2><p>웹 보안의 모든 논의는 **출처(Origin)**의 개념에서 시작됩니다.</p><h3 id=1-1-출처origin의-정의>1-1. 출처(Origin)의 정의<a hidden class=anchor aria-hidden=true href=#1-1-출처origin의-정의>#</a></h3><p>두 URL이 동일한 출처가 되기 위해서는 다음 세 가지 요소가 모두 일치해야 합니다.</p><ol><li><strong>프로토콜 (Scheme)</strong>: <code>http</code> 또는 <code>https</code></li><li><strong>호스트 (Host)</strong>: 도메인 이름 (예: <code>example.com</code>)</li><li><strong>포트 (Port)</strong>: 포트 번호 (생략 시 기본값 80 또는 443)</li></ol><h3 id=1-2-동일-출처-정책-sop-same-origin-policy>1-2. 동일 출처 정책 (SOP: Same-Origin Policy)<a hidden class=anchor aria-hidden=true href=#1-2-동일-출처-정책-sop-same-origin-policy>#</a></h3><p>SOP는 웹 브라우저의 가장 기본적인 보안 정책입니다.</p><ul><li><strong>목표</strong>: 한 출처에서 로드된 문서나 스크립트가 다른 출처의 리소스에 임의로 접근하여 정보를 읽는 것을 차단합니다. 이를 통해 CSRF(교차 사이트 요청 위조), 정보 유출 등의 악성 행위를 방지합니다.</li><li><strong>기본 원칙</strong>: 기본적으로 <strong>동일 출처 간의 상호작용만 허용</strong>합니다.</li></ul><hr><h2 id=2-sop의-예외-cors-cross-origin-resource-sharing>2. SOP의 예외: CORS (Cross-Origin Resource Sharing)<a hidden class=anchor aria-hidden=true href=#2-sop의-예외-cors-cross-origin-resource-sharing>#</a></h2><p>CORS는 SOP가 엄격하게 제한하는 <strong>스크립트 기반의 교차 출처 데이터 통신</strong>을 안전하게 허용하기 위한 표준 메커니즘입니다.</p><h3 id=2-1-cors의-역할과-작동-방식>2-1. CORS의 역할과 작동 방식<a hidden class=anchor aria-hidden=true href=#2-1-cors의-역할과-작동-방식>#</a></h3><table><thead><tr><th style=text-align:left>구분</th><th style=text-align:left>CORS (Cross-Origin Resource Sharing)</th></tr></thead><tbody><tr><td style=text-align:left><strong>목표</strong></td><td style=text-align:left>스크립트 기반의 교차 출처 데이터 <strong>읽기 허용</strong> (SOP의 예외 부여).</td></tr><tr><td style=text-align:left><strong>대상</strong></td><td style=text-align:left><code>Fetch API</code>, <code>XMLHttpRequest</code> 등을 사용한 <strong>동적 API 요청</strong>.</td></tr><tr><td style=text-align:left><strong>작동 주체</strong></td><td style=text-align:left>서버가 정책을 설정하고, <strong>브라우저가 이를 검증 및 실행</strong>.</td></tr><tr><td style=text-align:left><strong>핵심 헤더</strong></td><td style=text-align:left><code>Access-Control-Allow-Origin: &lt;허용 출처></code></td></tr></tbody></table><p><strong>작동 흐름:</strong></p><ol><li><strong>브라우저</strong>: 교차 출처 요청 시 <code>Origin</code> 헤더에 자신의 출처 정보를 담아 서버에 보냅니다. (복잡한 요청의 경우 Preflight 요청을 먼저 보냅니다.)</li><li><strong>서버</strong>: <code>Origin</code> 헤더를 확인하고, 허용 목록에 있으면 응답 헤더에 <code>Access-Control-Allow-Origin</code>을 포함하여 브라우저에 보냅니다.</li><li><strong>브라우저</strong>: 응답 헤더를 검증합니다. 허용되지 않은 출처라면, 서버가 응답을 성공적으로 보냈더라도 <strong>브라우저가 스크립트가 해당 응답 데이터에 접근하는 것을 차단</strong>하고 콘솔에 CORS 에러를 띄웁니다.</li></ol><h4 id=-서버-측-필수-응답-헤더-cors>📝 서버 측 필수 응답 헤더 (CORS)<a hidden class=anchor aria-hidden=true href=#-서버-측-필수-응답-헤더-cors>#</a></h4><p>서버는 상황에 따라 다음 헤더들을 적절히 조합하여 내려주어야 합니다.</p><table><thead><tr><th style=text-align:left>헤더 이름</th><th style=text-align:left>설명</th><th style=text-align:left>예시</th></tr></thead><tbody><tr><td style=text-align:left><strong><code>Access-Control-Allow-Origin</code></strong></td><td style=text-align:left>접근을 허용할 출처(Origin)를 지정합니다. <code>*</code>은 인증이 필요 없는 경우에만 사용 가능합니다.</td><td style=text-align:left><code>https://example.com</code></td></tr><tr><td style=text-align:left><strong><code>Access-Control-Allow-Methods</code></strong></td><td style=text-align:left>리소스 접근 시 허용할 HTTP 메서드 목록입니다. (Preflight 응답 시 사용)</td><td style=text-align:left><code>GET, POST, OPTIONS</code></td></tr><tr><td style=text-align:left><strong><code>Access-Control-Allow-Headers</code></strong></td><td style=text-align:left>실제 요청에서 사용할 수 있는 커스텀 헤더 목록입니다.</td><td style=text-align:left><code>Content-Type, Authorization</code></td></tr><tr><td style=text-align:left><strong><code>Access-Control-Allow-Credentials</code></strong></td><td style=text-align:left>쿠키(Cookie)나 인증 헤더를 포함한 요청을 허용할지 여부입니다. <code>true</code>일 때만 자격 증명 포함 요청이 성공합니다.</td><td style=text-align:left><code>true</code></td></tr><tr><td style=text-align:left><strong><code>Access-Control-Expose-Headers</code></strong></td><td style=text-align:left>브라우저 스크립트에서 접근할 수 있는 응답 헤더 화이트리스트입니다. 기본적으로 6개 헤더 외에는 읽을 수 없습니다.</td><td style=text-align:left><code>X-My-Custom-Header</code></td></tr><tr><td style=text-align:left><strong><code>Access-Control-Max-Age</code></strong></td><td style=text-align:left>Preflight 요청의 결과를 캐시할 시간(초)입니다. 캐시된 시간 동안은 다시 Preflight를 보내지 않습니다.</td><td style=text-align:left><code>3600</code></td></tr></tbody></table><h3 id=2-2-상세-프로세스-클라이언트와-서버의-대화>2-2. 상세 프로세스: 클라이언트와 서버의 대화<a hidden class=anchor aria-hidden=true href=#2-2-상세-프로세스-클라이언트와-서버의-대화>#</a></h3><p>CORS는 마치 &ldquo;입국 심사"와 유사한 과정을 거칩니다.</p><p><strong>1) Simple Request (단순 요청)</strong></p><p>안전한 메서드(GET, HEAD, POST)와 안전한 헤더(Accept, User-Agent 등)만 사용하는 경우입니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>[Browser]                                    [Server]
</span></span><span style=display:flex><span>    |                                            |
</span></span><span style=display:flex><span>    | --- GET /api/data -----------------------&gt; |
</span></span><span style=display:flex><span>    |     (Origin: https://my-app.com)           |
</span></span><span style=display:flex><span>    |                                            |
</span></span><span style=display:flex><span>    | &lt;---------------------- 200 OK ----------- |
</span></span><span style=display:flex><span>    |     (Access-Control-Allow-Origin:          |
</span></span><span style=display:flex><span>    |      https://my-app.com)                   |
</span></span><span style=display:flex><span>    |                                            |
</span></span><span style=display:flex><span>    V                                            V
</span></span><span style=display:flex><span>[JS App]
</span></span><span style=display:flex><span>  (성공!) 브라우저가 헤더 확인 후
</span></span><span style=display:flex><span>  데이터 전달
</span></span></code></pre></div><p><strong>2) Preflight Request (예비 요청)</strong></p><p>PUT, DELETE 등 데이터를 변경할 수 있는 요청이나 커스텀 헤더(<code>Authorization</code> 등)를 사용할 때 발생합니다. 브라우저는 본 요청을 보내기 전에 <strong>&ldquo;간 보기(Preflight)&rdquo;</strong> 요청을 먼저 보냅니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>[Browser]                                    [Server]
</span></span><span style=display:flex><span>    |                                            |
</span></span><span style=display:flex><span>    | --- OPTIONS /api/update -----------------&gt; |
</span></span><span style=display:flex><span>    |     (Origin: ..., Method: PUT)             |
</span></span><span style=display:flex><span>    |     &#34;나 좀 이따 PUT 보낼 건데 괜찮?&#34;          |
</span></span><span style=display:flex><span>    |                                            |
</span></span><span style=display:flex><span>    | &lt;----------------- 204 No Content -------- |
</span></span><span style=display:flex><span>    |     (Allow-Methods: PUT)                   |
</span></span><span style=display:flex><span>    |     &#34;ㅇㅇ PUT 써도 됨&#34;                      |
</span></span><span style=display:flex><span>    |                                            |
</span></span><span style=display:flex><span>    | --- PUT /api/update ---------------------&gt; |
</span></span><span style=display:flex><span>    |                                            |
</span></span><span style=display:flex><span>    | &lt;---------------------- 200 OK ----------- |
</span></span></code></pre></div><hr><h2 id=3-새로운-방어막-corp-cross-origin-resource-policy>3. 새로운 방어막: CORP (Cross-Origin Resource Policy)<a hidden class=anchor aria-hidden=true href=#3-새로운-방어막-corp-cross-origin-resource-policy>#</a></h2><p>CORP는 CORS와 달리, 스크립트 기반 요청뿐만 아니라 **HTML 태그를 통한 리소스 포함(Embedding)**까지 제어하여, 민감한 리소스가 다른 출처의 메모리에 로드되는 것 자체를 방지하는 강력한 보안 정책입니다.</p><h3 id=3-1-corp의-역할-및-도입-배경>3-1. CORP의 역할 및 도입 배경<a hidden class=anchor aria-hidden=true href=#3-1-corp의-역할-및-도입-배경>#</a></h3><table><thead><tr><th style=text-align:left>구분</th><th style=text-align:left>CORP (Cross-Origin Resource Policy)</th></tr></thead><tbody><tr><td style=text-align:left><strong>목표</strong></td><td style=text-align:left>리소스의 <strong>메모리 로드 자체를 차단</strong>하여 Spectre와 같은 사이드 채널 공격으로부터 정보를 보호.</td></tr><tr><td style=text-align:left><strong>대상</strong></td><td style=text-align:left><code>&lt;script></code>, <code>&lt;img></code>, <code>&lt;link></code> 등 <strong>포함(Embedding) 가능한 모든 정적 리소스</strong>.</td></tr><tr><td style=text-align:left><strong>작동 주체</strong></td><td style=text-align:left>서버가 정책을 설정하고, <strong>브라우저가 이를 검증 및 실행</strong>.</td></tr><tr><td style=text-align:left><strong>핵심 헤더</strong></td><td style=text-align:left><code>Cross-Origin-Resource-Policy: &lt;정책></code></td></tr></tbody></table><h4 id=-서버-측-필수-응답-헤더-corp>📝 서버 측 필수 응답 헤더 (CORP)<a hidden class=anchor aria-hidden=true href=#-서버-측-필수-응답-헤더-corp>#</a></h4><p>CORP는 단 하나의 헤더로 제어되지만, 정책의 의미가 매우 중요합니다.</p><table><thead><tr><th style=text-align:left>정책 값 (Value)</th><th style=text-align:left>설명</th><th style=text-align:left>사용 예시</th></tr></thead><tbody><tr><td style=text-align:left><strong><code>same-origin</code></strong></td><td style=text-align:left><strong>가장 강력한 제한</strong>. 동일한 출처(같은 Scheme, Host, Port)에서만 리소스를 로드할 수 있습니다.</td><td style=text-align:left>뱅킹 데이터, 개인정보 JSON</td></tr><tr><td style=text-align:left><strong><code>same-site</code></strong></td><td style=text-align:left>동일한 상위 도메인(Site) 내에서는 로드 허용. 서브도메인 간 공유가 필요할 때 사용합니다.</td><td style=text-align:left><code>login.naver.com</code> ↔ <code>mail.naver.com</code></td></tr><tr><td style=text-align:left><strong><code>cross-origin</code></strong></td><td style=text-align:left><strong>모든 출처 허용</strong>. CDN이나 공개 이미지처럼 어디서든 로드되어도 되는 리소스에 사용합니다.</td><td style=text-align:left>CDN 호스팅 이미지, 공개 JS 라이브러리</td></tr></tbody></table><h3 id=3-2-corp-vs-cors-명확한-차이>3-2. CORP vs. CORS: 명확한 차이<a hidden class=anchor aria-hidden=true href=#3-2-corp-vs-cors-명확한-차이>#</a></h3><table><thead><tr><th style=text-align:left>구분</th><th style=text-align:left>CORP (Cross-Origin Resource Policy)</th><th style=text-align:left>CORS (Cross-Origin Resource Sharing)</th></tr></thead><tbody><tr><td style=text-align:left><strong>제어 대상</strong></td><td style=text-align:left>리소스의 <strong>로드(Load) 및 포함(Embedding) 자체</strong></td><td style=text-align:left>스크립트의 <strong>응답 데이터 접근(Read)</strong></td></tr><tr><td style=text-align:left><strong>보안 목적</strong></td><td style=text-align:left>메모리 기반의 정보 유출 방지</td><td style=text-align:left>SOP의 제약을 해제하여 API 통신 허용</td></tr></tbody></table><h3 id=3-3-상세-프로세스-브라우저의-입국-심사>3-3. 상세 프로세스: 브라우저의 입국 심사<a hidden class=anchor aria-hidden=true href=#3-3-상세-프로세스-브라우저의-입국-심사>#</a></h3><p>CORP는 서버가 브라우저에게 **&ldquo;나를 아무데나 태우지 마!&rdquo;**라고 신분증을 보여주는 것과 같습니다. 브라우저는 이 신분증을 보고 로드 여부를 결정합니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>[Attacker.com]        [Browser]                  [Bank Server]
</span></span><span style=display:flex><span>      |                   |                            |
</span></span><span style=display:flex><span>      | -- &lt;img src&gt; ---&gt; |                            |
</span></span><span style=display:flex><span>      |                   |                            |
</span></span><span style=display:flex><span>      |                   | --- GET /user_info.png --&gt; |
</span></span><span style=display:flex><span>      |                   |                            |
</span></span><span style=display:flex><span>      |                   | &lt;------- 200 OK ---------- |
</span></span><span style=display:flex><span>      |                   | (CORP: same-origin)        |
</span></span><span style=display:flex><span>      |                   |                            |
</span></span><span style=display:flex><span>      X                   | (차단!)                     |
</span></span><span style=display:flex><span>(로드 실패)            [메모리 파기]
</span></span><span style=display:flex><span>                     &#34;잠깐, 출처가 다른데
</span></span><span style=display:flex><span>                      same-origin이네? 버렷!&#34;
</span></span></code></pre></div><ul><li><strong>Client (브라우저)</strong>: 응답을 받았을 때, <code>Cross-Origin-Resource-Policy</code> 헤더를 확인합니다. 현재 페이지의 출처(Origin)와 리소스의 CORP 정책이 맞지 않으면, <strong>응답 내용을 메모리에 올리지 않고 즉시 파기</strong>합니다. (렌더링 자체가 안 됨)</li><li><strong>Server</strong>: 리소스가 어디서 로드되어도 되는지(<code>cross-origin</code>), 같은 출처에서만 로드되어야 하는지(<code>same-origin</code>), 혹은 같은 사이트(<code>same-site</code>)인지 헤더로 명시합니다.</li></ul><hr><h2 id=4-cdn-환경에서-발생하는-이슈-정리>4. CDN 환경에서 발생하는 이슈 정리<a hidden class=anchor aria-hidden=true href=#4-cdn-환경에서-발생하는-이슈-정리>#</a></h2><p>CDN은 메인 웹사이트와 **다른 출처(Cross-Origin)**인 경우가 대부분이기 때문에, 이 두 정책에 모두 영향을 받습니다.</p><table><thead><tr><th style=text-align:left>리소스 위치</th><th style=text-align:left>로드 방법</th><th style=text-align:left>발생 가능한 충돌</th><th style=text-align:left>해결책</th></tr></thead><tbody><tr><td style=text-align:left><strong>CDN</strong> (정적 파일)</td><td style=text-align:left><code>&lt;script></code>, <code>&lt;link></code>, <code>&lt;img></code> 태그 (Embedding)</td><td style=text-align:left><strong>CORP 충돌</strong><br>(<code>same-origin</code> 설정 시 로드 차단)</td><td style=text-align:left>CDN 응답 헤더에 <code>Cross-Origin-Resource-Policy: cross-origin</code> 설정.</td></tr><tr><td style=text-align:left><strong>CDN</strong> (동적 데이터)</td><td style=text-align:left>Fetch/XHR 스크립트 (Data Reading)</td><td style=text-align:left><strong>CORS 충돌</strong><br>(스크립트의 응답 접근 차단)</td><td style=text-align:left>CDN/원본 서버 응답 헤더에 <code>Access-Control-Allow-Origin: &lt;사이트 출처></code> 설정.</td></tr></tbody></table><blockquote><p><strong>💡 핵심: CDN과 same-origin의 역설</strong></p><p>CDN에 호스팅 된 리소스에 <code>Cross-Origin-Resource-Policy: same-origin</code>을 설정하면, 브라우저는 해당 리소스가 <strong>오직 CDN 도메인에서만 사용될 수 있다고 해석</strong>합니다.</p><p>따라서 메인 웹사이트(다른 출처)에서 로드하려고 할 때, 이 <code>same-origin</code> 정책 때문에 로드가 차단되어 오히려 문제가 발생합니다. <strong>CDN 리소스는 Cross-Origin 로드를 허용하는 <code>cross-origin</code>으로 설정해야 정상적으로 작동합니다.</strong></p></blockquote><hr><h2 id=5-핵심-용어-정리>5. 핵심 용어 정리<a hidden class=anchor aria-hidden=true href=#5-핵심-용어-정리>#</a></h2><table><thead><tr><th style=text-align:left>용어</th><th style=text-align:left>정의</th><th style=text-align:left>역할</th></tr></thead><tbody><tr><td style=text-align:left><strong>출처 (Origin)</strong></td><td style=text-align:left>프로토콜, 호스트, 포트 3가지가 결합된 URL의 일부.</td><td style=text-align:left>웹 보안의 기본 단위.</td></tr><tr><td style=text-align:left><strong>SOP (Same-Origin Policy)</strong></td><td style=text-align:left>동일 출처에서 로드된 문서만 다른 출처의 리소스에 스크립트를 통해 접근하도록 허용하는 브라우저의 보안 정책 (기본적으로 교차 출처 스크립트 접근 차단).</td><td style=text-align:left>기본적인 보안 경계를 설정.</td></tr><tr><td style=text-align:left><strong>CORP (Cross-Origin Resource Policy)</strong></td><td style=text-align:left>서버 응답 헤더를 통해 리소스를 포함(embedding)하거나 읽을 수 있는 출처를 명시적으로 제한하는 정책. (주로 사이드 채널 공격 방어 목적).</td><td style=text-align:left>리소스의 교차 출처 로드/사용 가능 여부를 제어.</td></tr><tr><td style=text-align:left><strong>CORS (Cross-Origin Resource Sharing)</strong></td><td style=text-align:left>SOP의 제약을 우회하여 스크립트 기반의 교차 출처 데이터 요청(XMLHttpRequest, Fetch API 등)을 안전하게 허용하기 위한 메커니즘.</td><td style=text-align:left>SOP의 예외를 만들어 교차 출처 통신을 가능하게 함.</td></tr><tr><td style=text-align:left><strong>CDN (Content Delivery Network)</strong></td><td style=text-align:left>지리적으로 분산된 서버 네트워크를 통해 콘텐츠를 빠르게 제공하는 서비스.</td><td style=text-align:left>웹사이트의 정적 파일을 교차 출처 환경에서 제공하게 만듦.</td></tr></tbody></table></div><footer class=post-footer><ul class=post-tags><li><a href=https://cdecl.github.io/tags/cors/>CORS</a></li><li><a href=https://cdecl.github.io/tags/corp/>CORP</a></li><li><a href=https://cdecl.github.io/tags/sop/>SOP</a></li><li><a href=https://cdecl.github.io/tags/cdn/>CDN</a></li><li><a href=https://cdecl.github.io/tags/security/>Security</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://cdecl.github.io/>cdeclog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>