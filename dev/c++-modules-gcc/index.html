<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>C++20 Modules - gnu c++ test | cdeclog</title><meta name=keywords content="c++,modules,c++20,g++,-fmodules-ts,-xc++-system-header"><meta name=description content="C++ Modules Test Example (g++)
C++20 Modules
C++20에 추가된 모듈 Modules 기능은 기존의 헤더 파일 #include로 인한 컴파일 시간 증가 문제를 해결하고, 필요한 로직(함수, 심볼)만을 내보내는(export) 방식을 통해 타 언어의 모듈 단위처럼 효율적인 라이브러리 관리를 지원합니다.
Modules의 주요 장점

컴파일 시간 단축: 각 모듈은 한 번만 컴파일되며, 그 결과가 캐시됨
심볼 격리: 모듈 내부의 심볼은 명시적으로 export하지 않는 한 외부에서 접근 불가
순환 의존성 방지: 헤더 파일과 달리 명확한 의존성 그래프 형성
매크로 독립성: 모듈은 매크로의 영향을 받지 않아 더 안정적인 코드 작성 가능


일종의 PCH(Precompiled Header)의 기능을 포함한 표준적인 모듈 관리 기능입니다.
현재 컴파일러마다 (MSVC, g++, Clang) Standard Library 지원과 모듈 사용 방법이 약간 상이합니다."><meta name=author content="Byung Kyu KIM"><link rel=canonical href=https://cdecl.github.io/dev/c++-modules-gcc/><link crossorigin=anonymous href=/assets/css/stylesheet.54a2acb878b1e8e44d17c120f64b04a7b2e96d45aafeeef8e52e931080d3fbab.css integrity="sha256-VKKsuHix6ORNF8Eg9ksEp7LpbUWq/u745S6TEIDT+6s=" rel="preload stylesheet" as=style><link rel=icon href=https://cdecl.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://cdecl.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://cdecl.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://cdecl.github.io/apple-touch-icon.png><link rel=mask-icon href=https://cdecl.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://cdecl.github.io/dev/c++-modules-gcc/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VQQHHYPN7K"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VQQHHYPN7K")}</script><meta property="og:url" content="https://cdecl.github.io/dev/c++-modules-gcc/"><meta property="og:site_name" content="cdeclog"><meta property="og:title" content="C++20 Modules - gnu c++ test"><meta property="og:description" content="C++ Modules Test Example (g++)
C++20 Modules C++20에 추가된 모듈 Modules 기능은 기존의 헤더 파일 #include로 인한 컴파일 시간 증가 문제를 해결하고, 필요한 로직(함수, 심볼)만을 내보내는(export) 방식을 통해 타 언어의 모듈 단위처럼 효율적인 라이브러리 관리를 지원합니다.
Modules의 주요 장점 컴파일 시간 단축: 각 모듈은 한 번만 컴파일되며, 그 결과가 캐시됨 심볼 격리: 모듈 내부의 심볼은 명시적으로 export하지 않는 한 외부에서 접근 불가 순환 의존성 방지: 헤더 파일과 달리 명확한 의존성 그래프 형성 매크로 독립성: 모듈은 매크로의 영향을 받지 않아 더 안정적인 코드 작성 가능 일종의 PCH(Precompiled Header)의 기능을 포함한 표준적인 모듈 관리 기능입니다.
현재 컴파일러마다 (MSVC, g++, Clang) Standard Library 지원과 모듈 사용 방법이 약간 상이합니다."><meta property="og:locale" content="ko-kr"><meta property="og:type" content="article"><meta property="article:section" content="dev"><meta property="article:published_time" content="2021-09-03T00:00:00+09:00"><meta property="article:modified_time" content="2021-09-03T00:00:00+09:00"><meta property="article:tag" content="C++"><meta property="article:tag" content="Modules"><meta property="article:tag" content="C++20"><meta property="article:tag" content="G++"><meta property="article:tag" content="-Fmodules-Ts"><meta property="article:tag" content="-Xc++-System-Header"><meta name=twitter:card content="summary"><meta name=twitter:title content="C++20 Modules - gnu c++ test"><meta name=twitter:description content="C++ Modules Test Example (g++)
C++20 Modules
C++20에 추가된 모듈 Modules 기능은 기존의 헤더 파일 #include로 인한 컴파일 시간 증가 문제를 해결하고, 필요한 로직(함수, 심볼)만을 내보내는(export) 방식을 통해 타 언어의 모듈 단위처럼 효율적인 라이브러리 관리를 지원합니다.
Modules의 주요 장점

컴파일 시간 단축: 각 모듈은 한 번만 컴파일되며, 그 결과가 캐시됨
심볼 격리: 모듈 내부의 심볼은 명시적으로 export하지 않는 한 외부에서 접근 불가
순환 의존성 방지: 헤더 파일과 달리 명확한 의존성 그래프 형성
매크로 독립성: 모듈은 매크로의 영향을 받지 않아 더 안정적인 코드 작성 가능


일종의 PCH(Precompiled Header)의 기능을 포함한 표준적인 모듈 관리 기능입니다.
현재 컴파일러마다 (MSVC, g++, Clang) Standard Library 지원과 모듈 사용 방법이 약간 상이합니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Devs","item":"https://cdecl.github.io/dev/"},{"@type":"ListItem","position":2,"name":"C++20 Modules - gnu c++ test","item":"https://cdecl.github.io/dev/c++-modules-gcc/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"C++20 Modules - gnu c++ test","name":"C\u002b\u002b20 Modules - gnu c\u002b\u002b test","description":"C++ Modules Test Example (g++)\nC++20 Modules C++20에 추가된 모듈 Modules 기능은 기존의 헤더 파일 #include로 인한 컴파일 시간 증가 문제를 해결하고, 필요한 로직(함수, 심볼)만을 내보내는(export) 방식을 통해 타 언어의 모듈 단위처럼 효율적인 라이브러리 관리를 지원합니다.\nModules의 주요 장점 컴파일 시간 단축: 각 모듈은 한 번만 컴파일되며, 그 결과가 캐시됨 심볼 격리: 모듈 내부의 심볼은 명시적으로 export하지 않는 한 외부에서 접근 불가 순환 의존성 방지: 헤더 파일과 달리 명확한 의존성 그래프 형성 매크로 독립성: 모듈은 매크로의 영향을 받지 않아 더 안정적인 코드 작성 가능 일종의 PCH(Precompiled Header)의 기능을 포함한 표준적인 모듈 관리 기능입니다.\n현재 컴파일러마다 (MSVC, g++, Clang) Standard Library 지원과 모듈 사용 방법이 약간 상이합니다.\n","keywords":["c++","modules","c++20","g++","-fmodules-ts","-xc++-system-header"],"articleBody":"C++ Modules Test Example (g++)\nC++20 Modules C++20에 추가된 모듈 Modules 기능은 기존의 헤더 파일 #include로 인한 컴파일 시간 증가 문제를 해결하고, 필요한 로직(함수, 심볼)만을 내보내는(export) 방식을 통해 타 언어의 모듈 단위처럼 효율적인 라이브러리 관리를 지원합니다.\nModules의 주요 장점 컴파일 시간 단축: 각 모듈은 한 번만 컴파일되며, 그 결과가 캐시됨 심볼 격리: 모듈 내부의 심볼은 명시적으로 export하지 않는 한 외부에서 접근 불가 순환 의존성 방지: 헤더 파일과 달리 명확한 의존성 그래프 형성 매크로 독립성: 모듈은 매크로의 영향을 받지 않아 더 안정적인 코드 작성 가능 일종의 PCH(Precompiled Header)의 기능을 포함한 표준적인 모듈 관리 기능입니다.\n현재 컴파일러마다 (MSVC, g++, Clang) Standard Library 지원과 모듈 사용 방법이 약간 상이합니다.\n컴파일러 지원 여부 확인 C++20의 모듈은 최신 컴파일러에서 제한적으로 지원되며, 구현 상태는 다음과 같습니다:\nGCC: 11 이상에서 실험적으로 지원. Clang: 15 이상에서 실험적으로 지원. MSVC: Visual Studio 2019 (16.8) 이상에서 잘 지원. 컴파일러 플래그 GCC: -std=c++20, -fmodules-ts Clang: -std=c++20, -fmodules MSVC: /std:c++20, /experimental:module GCC (G++) 기준 테스트 참고 : C++20 Modules — Complete Guide{:target=\"_blank\"} GCC 설치 및 설정 모듈 기능은 GCC 11부터 실험적으로 지원되며, GCC 13에서 안정화되었습니다.\n설치 방법 $ sudo add-apt-repository ppa:ubuntu-toolchain-r/test $ sudo apt-get update $ sudo apt-get install gcc-11 g++-11 환경 설정 컴파일러 플래그\n-std=c++20: C++20 표준 활성화 -fmodules-ts: 모듈 기능 활성화 CMake 설정\ncmake_minimum_required(VERSION 3.26) project(MyModules LANGUAGES CXX) set(CMAKE_CXX_STANDARD 20) set(CMAKE_CXX_STANDARD_REQUIRED ON) set(CMAKE_CXX_EXTENSIONS OFF) Standard Library 사용 표준 라이브러리를 모듈로 사용하는 방법은 컴파일러마다 다릅니다.\n// main.cpp import \u003ciostream\u003e; import \u003cstring\u003e; using namespace std; int main() { string s = \"main start \"; cout \u003c\u003c s \u003c\u003c endl; } GCC 표준 라이브러리 사용 시, 수동으로 모듈 맵을 생성해야 합니다.\n예: iostream 및 string 모듈 생성\ng++ -std=c++20 -fmodules-ts -xc++-system-header iostream g++ -std=c++20 -fmodules-ts -xc++-system-header string 생성된 gcm.cache 구조:\ngcm.cache └── usr └── include └── c++ └── 11 ├── iostream.gcm └── string.gcm g++ -std=c++20 -fmodules-ts -o main main.cpp Clang -fbuiltin-module-map 플래그를 통해 표준 라이브러리 모듈 사용 가능. clang++ -std=c++20 -stdlib=libc++ -fmodules -fbuiltin-module-map main.cpp MSVC 추상화된 모듈 이름을 사용하여 접근 가능.\n예: import std.io; cl /std:c++20 /experimental:module /EHsc /c my_module.cppm cl /std:c++20 /EHsc main.cpp my_module.obj Modules 문법과 사용법 1. 모듈 선언 및 정의 // my_module.cppm export module my_module; // 모듈 선언 및 정의 export int add(int a, int b) { // 외부에 노출할 함수 return a + b; } 2. 모듈 사용 // main.cpp import my_module; // 모듈 가져오기 #include // 기존 헤더와 혼합 사용 가능 int main() { std::cout \u003c\u003c \"3 + 4 = \" \u003c\u003c add(3, 4) \u003c\u003c std::endl; return 0; } Modules 작성 및 사용 예제 adder 모듈 작성 // adder.cppm export module cdecl_adder; export template \u003ctypename T\u003e T add(T a, T b) { return a + b; } namespace { // 모듈 내부 구현 template \u003ctypename T\u003e T multiply(T a, T b) { return a * b; } } main.cpp #include import cdecl_adder; int main() { std::cout \u003c\u003c \"add(5, 8): \" \u003c\u003c add(5, 3) \u003c\u003c std::endl; // 8 출력 // multiply는 export되지 않았으므로 사용 불가 // std::cout \u003c\u003c multiply(5, 3); // 컴파일 에러 return 0; } 빌드 과정 1. 모듈 인터페이스 컴파일 $ g++ -std=c++20 -fmodules-ts -c adder.cppm 생성된 gcm.cache 구조:\ngcm.cache └── cdecl_adder.gcm 2. 메인 프로그램 컴파일 및 링크 g++ -std=c++20 -fmodules-ts main.cpp adder.o -o main 3. 실행 $ ./main add(5, 8): 8 모범 사례와 주의사항 모듈 심볼 관리: export할 심볼을 신중히 선택하여 인터페이스 설계. 빌드 시스템: CMake와 같은 빌드 도구를 활용하여 모듈 의존성을 효율적으로 관리. 초기화 순서: 전역 상태나 초기화 순서에 의존하지 않도록 설계. Modules는 헤더 파일 기반의 기존 방식을 대체하는 강력한 기능으로, 대규모 프로젝트에서 효율적인 코드 관리 및 컴파일 성능 향상을 제공합니다.\n","wordCount":"578","inLanguage":"en","datePublished":"2021-09-03T00:00:00+09:00","dateModified":"2021-09-03T00:00:00+09:00","author":{"@type":"Person","name":"Byung Kyu KIM"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://cdecl.github.io/dev/c++-modules-gcc/"},"publisher":{"@type":"Organization","name":"cdeclog","logo":{"@type":"ImageObject","url":"https://cdecl.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://cdecl.github.io/ accesskey=h title="cdeclog (Alt + H)">cdeclog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://cdecl.github.io/dev/ title=Dev><span>Dev</span></a></li><li><a href=https://cdecl.github.io/devops/ title=DevOps><span>DevOps</span></a></li><li><a href=https://cdecl.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://cdecl.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://cdecl.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">C++20 Modules - gnu c++ test</h1><div class=post-meta><span title='2021-09-03 00:00:00 +0900 KST'>September 3, 2021</span>&nbsp;·&nbsp;<span>Byung Kyu KIM</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#c20-modules aria-label="C++20 Modules">C++20 Modules</a><ul><li><a href=#modules%ec%9d%98-%ec%a3%bc%ec%9a%94-%ec%9e%a5%ec%a0%90 aria-label="Modules의 주요 장점">Modules의 주요 장점</a></li><li><a href=#%ec%bb%b4%ed%8c%8c%ec%9d%bc%eb%9f%ac-%ec%a7%80%ec%9b%90-%ec%97%ac%eb%b6%80-%ed%99%95%ec%9d%b8 aria-label="컴파일러 지원 여부 확인">컴파일러 지원 여부 확인</a><ul><li><a href=#%ec%bb%b4%ed%8c%8c%ec%9d%bc%eb%9f%ac-%ed%94%8c%eb%9e%98%ea%b7%b8 aria-label="컴파일러 플래그">컴파일러 플래그</a></li></ul></li></ul></li><li><a href=#gcc-g-%ea%b8%b0%ec%a4%80-%ed%85%8c%ec%8a%a4%ed%8a%b8 aria-label="GCC (G++) 기준 테스트">GCC (G++) 기준 테스트</a><ul><li><a href=#gcc-%ec%84%a4%ec%b9%98-%eb%b0%8f-%ec%84%a4%ec%a0%95 aria-label="GCC 설치 및 설정">GCC 설치 및 설정</a><ul><li><a href=#%ec%84%a4%ec%b9%98-%eb%b0%a9%eb%b2%95 aria-label="설치 방법">설치 방법</a></li><li><a href=#%ed%99%98%ea%b2%bd-%ec%84%a4%ec%a0%95 aria-label="환경 설정">환경 설정</a></li></ul></li></ul></li><li><a href=#standard-library-%ec%82%ac%ec%9a%a9 aria-label="Standard Library 사용">Standard Library 사용</a><ul><li><a href=#gcc aria-label=GCC>GCC</a></li><li><a href=#clang aria-label=Clang>Clang</a></li><li><a href=#msvc aria-label=MSVC>MSVC</a></li></ul></li><li><a href=#modules-%eb%ac%b8%eb%b2%95%ea%b3%bc-%ec%82%ac%ec%9a%a9%eb%b2%95 aria-label="Modules 문법과 사용법">Modules 문법과 사용법</a><ul><li><a href=#1-%eb%aa%a8%eb%93%88-%ec%84%a0%ec%96%b8-%eb%b0%8f-%ec%a0%95%ec%9d%98 aria-label="1. 모듈 선언 및 정의">1. 모듈 선언 및 정의</a></li><li><a href=#2-%eb%aa%a8%eb%93%88-%ec%82%ac%ec%9a%a9 aria-label="2. 모듈 사용">2. 모듈 사용</a></li></ul></li><li><a href=#modules-%ec%9e%91%ec%84%b1-%eb%b0%8f-%ec%82%ac%ec%9a%a9-%ec%98%88%ec%a0%9c aria-label="Modules 작성 및 사용 예제">Modules 작성 및 사용 예제</a><ul><li><a href=#adder-%eb%aa%a8%eb%93%88-%ec%9e%91%ec%84%b1 aria-label="adder 모듈 작성">adder 모듈 작성</a></li><li><a href=#maincpp aria-label=main.cpp>main.cpp</a></li><li><a href=#%eb%b9%8c%eb%93%9c-%ea%b3%bc%ec%a0%95 aria-label="빌드 과정">빌드 과정</a><ul><li><a href=#1-%eb%aa%a8%eb%93%88-%ec%9d%b8%ed%84%b0%ed%8e%98%ec%9d%b4%ec%8a%a4-%ec%bb%b4%ed%8c%8c%ec%9d%bc aria-label="1. 모듈 인터페이스 컴파일">1. 모듈 인터페이스 컴파일</a></li><li><a href=#2-%eb%a9%94%ec%9d%b8-%ed%94%84%eb%a1%9c%ea%b7%b8%eb%9e%a8-%ec%bb%b4%ed%8c%8c%ec%9d%bc-%eb%b0%8f-%eb%a7%81%ed%81%ac aria-label="2. 메인 프로그램 컴파일 및 링크">2. 메인 프로그램 컴파일 및 링크</a></li></ul></li><li><a href=#3-%ec%8b%a4%ed%96%89 aria-label="3. 실행">3. 실행</a></li></ul></li><li><a href=#%eb%aa%a8%eb%b2%94-%ec%82%ac%eb%a1%80%ec%99%80-%ec%a3%bc%ec%9d%98%ec%82%ac%ed%95%ad aria-label="모범 사례와 주의사항">모범 사례와 주의사항</a></li></ul></div></details></div><div class=post-content><p>C++ Modules Test Example (g++)</p><h2 id=c20-modules>C++20 Modules<a hidden class=anchor aria-hidden=true href=#c20-modules>#</a></h2><p>C++20에 추가된 모듈 <code>Modules</code> 기능은 기존의 헤더 파일 <code>#include</code>로 인한 컴파일 시간 증가 문제를 해결하고, 필요한 로직(함수, 심볼)만을 내보내는(export) 방식을 통해 타 언어의 모듈 단위처럼 효율적인 라이브러리 관리를 지원합니다.</p><h3 id=modules의-주요-장점>Modules의 주요 장점<a hidden class=anchor aria-hidden=true href=#modules의-주요-장점>#</a></h3><ul><li><strong>컴파일 시간 단축</strong>: 각 모듈은 한 번만 컴파일되며, 그 결과가 캐시됨</li><li><strong>심볼 격리</strong>: 모듈 내부의 심볼은 명시적으로 export하지 않는 한 외부에서 접근 불가</li><li><strong>순환 의존성 방지</strong>: 헤더 파일과 달리 명확한 의존성 그래프 형성</li><li><strong>매크로 독립성</strong>: 모듈은 매크로의 영향을 받지 않아 더 안정적인 코드 작성 가능</li></ul><blockquote><p>일종의 PCH(Precompiled Header)의 기능을 포함한 표준적인 모듈 관리 기능입니다.<br>현재 컴파일러마다 (MSVC, g++, Clang) Standard Library 지원과 모듈 사용 방법이 약간 상이합니다.</p></blockquote><h3 id=컴파일러-지원-여부-확인>컴파일러 지원 여부 확인<a hidden class=anchor aria-hidden=true href=#컴파일러-지원-여부-확인>#</a></h3><p>C++20의 모듈은 최신 컴파일러에서 제한적으로 지원되며, 구현 상태는 다음과 같습니다:</p><ul><li>GCC: 11 이상에서 실험적으로 지원.</li><li>Clang: 15 이상에서 실험적으로 지원.</li><li>MSVC: Visual Studio 2019 (16.8) 이상에서 잘 지원.</li></ul><h4 id=컴파일러-플래그>컴파일러 플래그<a hidden class=anchor aria-hidden=true href=#컴파일러-플래그>#</a></h4><ul><li>GCC: -std=c++20, -fmodules-ts</li><li>Clang: -std=c++20, -fmodules</li><li>MSVC: /std:c++20, /experimental:module</li></ul><h2 id=gcc-g-기준-테스트>GCC (G++) 기준 테스트<a hidden class=anchor aria-hidden=true href=#gcc-g-기준-테스트>#</a></h2><ul><li>참고 : <a href=https://itnext.io/c-20-modules-complete-guide-ae741ddbae3d>C++20 Modules — Complete Guide</a>{:target="_blank"}</li></ul><h3 id=gcc-설치-및-설정>GCC 설치 및 설정<a hidden class=anchor aria-hidden=true href=#gcc-설치-및-설정>#</a></h3><p>모듈 기능은 <strong>GCC 11</strong>부터 실험적으로 지원되며, <strong>GCC 13</strong>에서 안정화되었습니다.</p><h4 id=설치-방법>설치 방법<a hidden class=anchor aria-hidden=true href=#설치-방법>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ sudo add-apt-repository ppa:ubuntu-toolchain-r/test
</span></span><span style=display:flex><span>$ sudo apt-get update
</span></span><span style=display:flex><span>$ sudo apt-get install gcc-11 g++-11
</span></span></code></pre></div><h4 id=환경-설정>환경 설정<a hidden class=anchor aria-hidden=true href=#환경-설정>#</a></h4><ol><li><p><strong>컴파일러 플래그</strong></p><ul><li><code>-std=c++20</code>: C++20 표준 활성화</li><li><code>-fmodules-ts</code>: 모듈 기능 활성화</li></ul></li><li><p><strong>CMake 설정</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span>cmake_minimum_required(<span style=color:#e6db74>VERSION</span> <span style=color:#e6db74>3.26</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>project(<span style=color:#e6db74>MyModules</span> <span style=color:#e6db74>LANGUAGES</span> <span style=color:#e6db74>CXX</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>set(<span style=color:#e6db74>CMAKE_CXX_STANDARD</span> <span style=color:#e6db74>20</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>set(<span style=color:#e6db74>CMAKE_CXX_STANDARD_REQUIRED</span> <span style=color:#e6db74>ON</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>set(<span style=color:#e6db74>CMAKE_CXX_EXTENSIONS</span> <span style=color:#e6db74>OFF</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div></li></ol><hr><h2 id=standard-library-사용>Standard Library 사용<a hidden class=anchor aria-hidden=true href=#standard-library-사용>#</a></h2><p>표준 라이브러리를 모듈로 사용하는 방법은 컴파일러마다 다릅니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>// main.cpp
</span></span></span><span style=display:flex><span>import <span style=color:#f92672>&lt;</span>iostream<span style=color:#f92672>&gt;</span>;
</span></span><span style=display:flex><span>import <span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  string s <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;main start &#34;</span>;
</span></span><span style=display:flex><span>  cout <span style=color:#f92672>&lt;&lt;</span> s <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=gcc>GCC<a hidden class=anchor aria-hidden=true href=#gcc>#</a></h3><ul><li><p>표준 라이브러리 사용 시, 수동으로 모듈 맵을 생성해야 합니다.</p></li><li><p>예: <code>iostream</code> 및 <code>string</code> 모듈 생성</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>g++ -std<span style=color:#f92672>=</span>c++20 -fmodules-ts -xc++-system-header iostream
</span></span><span style=display:flex><span>g++ -std<span style=color:#f92672>=</span>c++20 -fmodules-ts -xc++-system-header string
</span></span></code></pre></div></li><li><p>생성된 <code>gcm.cache</code> 구조:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>gcm.cache
</span></span><span style=display:flex><span>└── usr
</span></span><span style=display:flex><span>    └── include
</span></span><span style=display:flex><span>        └── c++
</span></span><span style=display:flex><span>            └── 11
</span></span><span style=display:flex><span>                ├── iostream.gcm
</span></span><span style=display:flex><span>                └── string.gcm
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>g++ -std<span style=color:#f92672>=</span>c++20 -fmodules-ts -o main main.cpp
</span></span></code></pre></div></li></ul><h3 id=clang>Clang<a hidden class=anchor aria-hidden=true href=#clang>#</a></h3><ul><li><code>-fbuiltin-module-map</code> 플래그를 통해 표준 라이브러리 모듈 사용 가능.<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>clang++ -std<span style=color:#f92672>=</span>c++20 -stdlib<span style=color:#f92672>=</span>libc++ -fmodules -fbuiltin-module-map main.cpp
</span></span></code></pre></div></li></ul><h3 id=msvc>MSVC<a hidden class=anchor aria-hidden=true href=#msvc>#</a></h3><ul><li><p>추상화된 모듈 이름을 사용하여 접근 가능.</p><ul><li>예: <code>import std.io;</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cl /std:c++20 /experimental:module /EHsc /c my_module.cppm
</span></span><span style=display:flex><span>cl /std:c++20 /EHsc main.cpp my_module.obj
</span></span></code></pre></div></li></ul><hr><h2 id=modules-문법과-사용법>Modules 문법과 사용법<a hidden class=anchor aria-hidden=true href=#modules-문법과-사용법>#</a></h2><h3 id=1-모듈-선언-및-정의>1. 모듈 선언 및 정의<a hidden class=anchor aria-hidden=true href=#1-모듈-선언-및-정의>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>// my_module.cppm
</span></span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> module my_module;          <span style=color:#75715e>// 모듈 선언 및 정의
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {    <span style=color:#75715e>// 외부에 노출할 함수
</span></span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> a <span style=color:#f92672>+</span> b;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=2-모듈-사용>2. 모듈 사용<a hidden class=anchor aria-hidden=true href=#2-모듈-사용>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>// main.cpp
</span></span></span><span style=display:flex><span>import my_module;                 <span style=color:#75715e>// 모듈 가져오기
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>               </span><span style=color:#75715e>// 기존 헤더와 혼합 사용 가능
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;3 + 4 = &#34;</span> <span style=color:#f92672>&lt;&lt;</span> add(<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>) <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr><h2 id=modules-작성-및-사용-예제>Modules 작성 및 사용 예제<a hidden class=anchor aria-hidden=true href=#modules-작성-및-사용-예제>#</a></h2><h3 id=adder-모듈-작성>adder 모듈 작성<a hidden class=anchor aria-hidden=true href=#adder-모듈-작성>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>// adder.cppm
</span></span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> module cdecl_adder;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>template</span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>typename</span> T<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>T add(T a, T b) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> a <span style=color:#f92672>+</span> b;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> { <span style=color:#75715e>// 모듈 내부 구현
</span></span></span><span style=display:flex><span>    <span style=color:#66d9ef>template</span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>typename</span> T<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    T multiply(T a, T b) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> a <span style=color:#f92672>*</span> b;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=maincpp>main.cpp<a hidden class=anchor aria-hidden=true href=#maincpp>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span>import cdecl_adder;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;add(5, 8): &#34;</span> <span style=color:#f92672>&lt;&lt;</span> add(<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>3</span>) <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl; <span style=color:#75715e>// 8 출력
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// multiply는 export되지 않았으므로 사용 불가
</span></span></span><span style=display:flex><span>    <span style=color:#75715e>// std::cout &lt;&lt; multiply(5, 3); // 컴파일 에러
</span></span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=빌드-과정>빌드 과정<a hidden class=anchor aria-hidden=true href=#빌드-과정>#</a></h3><h4 id=1-모듈-인터페이스-컴파일>1. <strong>모듈 인터페이스 컴파일</strong><a hidden class=anchor aria-hidden=true href=#1-모듈-인터페이스-컴파일>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ g++ -std<span style=color:#f92672>=</span>c++20 -fmodules-ts -c adder.cppm
</span></span></code></pre></div><p>생성된 <code>gcm.cache</code> 구조:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>gcm.cache
</span></span><span style=display:flex><span>└── cdecl_adder.gcm
</span></span></code></pre></div><h4 id=2-메인-프로그램-컴파일-및-링크>2. <strong>메인 프로그램 컴파일 및 링크</strong><a hidden class=anchor aria-hidden=true href=#2-메인-프로그램-컴파일-및-링크>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>g++ -std<span style=color:#f92672>=</span>c++20 -fmodules-ts main.cpp adder.o -o main
</span></span></code></pre></div><h3 id=3-실행>3. <strong>실행</strong><a hidden class=anchor aria-hidden=true href=#3-실행>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ ./main
</span></span><span style=display:flex><span>add<span style=color:#f92672>(</span>5, 8<span style=color:#f92672>)</span>: <span style=color:#ae81ff>8</span>
</span></span></code></pre></div><hr><h2 id=모범-사례와-주의사항>모범 사례와 주의사항<a hidden class=anchor aria-hidden=true href=#모범-사례와-주의사항>#</a></h2><ul><li><strong>모듈 심볼 관리</strong>: export할 심볼을 신중히 선택하여 인터페이스 설계.</li><li><strong>빌드 시스템</strong>: CMake와 같은 빌드 도구를 활용하여 모듈 의존성을 효율적으로 관리.</li><li><strong>초기화 순서</strong>: 전역 상태나 초기화 순서에 의존하지 않도록 설계.</li></ul><p>Modules는 헤더 파일 기반의 기존 방식을 대체하는 강력한 기능으로, 대규모 프로젝트에서 효율적인 코드 관리 및 컴파일 성능 향상을 제공합니다.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://cdecl.github.io/tags/c++/>C++</a></li><li><a href=https://cdecl.github.io/tags/modules/>Modules</a></li><li><a href=https://cdecl.github.io/tags/c++20/>C++20</a></li><li><a href=https://cdecl.github.io/tags/g++/>G++</a></li><li><a href=https://cdecl.github.io/tags/-fmodules-ts/>-Fmodules-Ts</a></li><li><a href=https://cdecl.github.io/tags/-xc++-system-header/>-Xc++-System-Header</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://cdecl.github.io/>cdeclog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>