<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>C++ Lambda 표현식 | cdeclog</title><meta name=keywords content="c++,lambda,c++11,c++14,c++17,c++20"><meta name=description content='C++14, C++17, C++20 버전별 Lambda 표현 정리
The Evolutions of Lambdas in C++14, C++17 and C++20

https://www.fluentcpp.com/2021/12/13/the-evolutions-of-lambdas-in-c14-c17-and-c20/{:target="_blank"}
해당 글을 참고하여 예제 자체 작성


C++14
Default parameters
#include <iostream>
using namespace std;

int main()
{
  auto fn = [](int a, int b = 0) {
    return a + b;
  };

  cout << fn(1) << endl;     // 1
  cout << fn(1, 2) << endl;  // 3
}
Template parameters
#include <iostream>
#include <string>
#include <vector>
using namespace std;

int main()
{
  auto fn = [](auto && c) {
    return c.size();
  };

  vector<int> v = {1, 2, 3};
  cout << fn(v) << endl;  // 3

  string s = "12345";
  cout << fn(s) << endl;  // 5
}
Generalised capture
#include <iostream>
#include <string>
using namespace std;

int main()
{
  string str = "string";

  auto fn = [s = str + "_capture"s](string body) {
    cout << s << " : " << body << endl; 
  };

  fn("test");  // string_capture : test
}
Returning a lambda from a function
#include <iostream>
using namespace std;

auto getAdd(int n)
{
  return [n](int an) {
    return n + an;
  };
}

int main()
{
  auto fn = getAdd(10);
  cout << fn(20) << endl;
}

C++17
Constexpr
#include <iostream>
using namespace std;

int main()
{
  constexpr auto fn = [](int n){
    return n + 10;
  };

  static_assert(fn(10) == 20); // ok
  static_assert(fn(20) == 20); // error: static assertion failed
}
Capturing a copy of *this

this 참조에 캡쳐가 아닌, *this 복사본 캡쳐

#include <iostream>
#include <memory>
#include <tuple>
using namespace std;

class item 
{
public:
  item(int n = 0) : _value(n) {}

  auto test() {
    _value += 1;

    // copy capture
    auto fn1 = [*this] { return _value; };
    auto fn2 = [self = *this] { return self._value; };

    // ref capture
    auto fn3 = [this] { return _value; };
    _value += 1;

    fn1(); // 11
    fn2(); // 11
    fn3(); // 12

    return make_tuple(fn1, fn2, fn3);
  }

private:
  int _value;
};

int main()
{
  auto it = make_shared<item>(10);
  auto tp = it->test();
  it.reset();

  cout << get<0>(tp)() << endl;
  cout << get<1>(tp)() << endl;
  cout << get<2>(tp)() << endl; // ref memory error 
}

C++20
Template syntax for lambdas
#include <iostream>
#include <vector>
using namespace std;

int main()
{
  auto fn = []<typename T>(vector<T> &amp;v) { return v.size(); };

  vector<int> v = {1, 2, 3, 4, 5};
  cout << fn(v) << endl;
}
Lambda capture of parameter pack
#include <iostream>
#include <string>
using namespace std;

template <typename... Args>
auto getAddFunc(Args&&... args){
    // by ref    [&...args = std::forward<Args>(args)]
    // by value  
    return [...args = std::forward<Args>(args)] (auto && init) {
        return init + (args + ...);
    };
}

int main()
{
  auto fn = getAddFunc(1, 2, 3);
  cout << fn(10) << endl;  // 16

  auto fns = getAddFunc("this "s, "is "s, "sample"s);
  cout << fns("note: "s) << endl;  // note: this is sample
}
'><meta name=author content="Byung Kyu KIM"><link rel=canonical href=https://cdecl.github.io/dev/c++-lambda/><link crossorigin=anonymous href=/assets/css/stylesheet.f939c4ffefb264e6fe85e04352266f79db6bb1303c8e16ae9b6064c1247b5e32.css integrity="sha256-+TnE/++yZOb+heBDUiZvedtrsTA8jhaum2BkwSR7XjI=" rel="preload stylesheet" as=style><link rel=icon href=https://cdecl.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://cdecl.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://cdecl.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://cdecl.github.io/apple-touch-icon.png><link rel=mask-icon href=https://cdecl.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://cdecl.github.io/dev/c++-lambda/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VQQHHYPN7K"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VQQHHYPN7K")}</script><meta property="og:url" content="https://cdecl.github.io/dev/c++-lambda/"><meta property="og:site_name" content="cdeclog"><meta property="og:title" content="C++ Lambda 표현식"><meta property="og:description" content='C++14, C++17, C++20 버전별 Lambda 표현 정리
The Evolutions of Lambdas in C++14, C++17 and C++20 https://www.fluentcpp.com/2021/12/13/the-evolutions-of-lambdas-in-c14-c17-and-c20/{:target="_blank"} 해당 글을 참고하여 예제 자체 작성 C++14 Default parameters #include <iostream> using namespace std; int main() { auto fn = [](int a, int b = 0) { return a + b; }; cout << fn(1) << endl; // 1 cout << fn(1, 2) << endl; // 3 } Template parameters #include <iostream> #include <string> #include <vector> using namespace std; int main() { auto fn = [](auto && c) { return c.size(); }; vector<int> v = {1, 2, 3}; cout << fn(v) << endl; // 3 string s = "12345"; cout << fn(s) << endl; // 5 } Generalised capture #include <iostream> #include <string> using namespace std; int main() { string str = "string"; auto fn = [s = str + "_capture"s](string body) { cout << s << " : " << body << endl; }; fn("test"); // string_capture : test } Returning a lambda from a function #include <iostream> using namespace std; auto getAdd(int n) { return [n](int an) { return n + an; }; } int main() { auto fn = getAdd(10); cout << fn(20) << endl; } C++17 Constexpr #include <iostream> using namespace std; int main() { constexpr auto fn = [](int n){ return n + 10; }; static_assert(fn(10) == 20); // ok static_assert(fn(20) == 20); // error: static assertion failed } Capturing a copy of *this this 참조에 캡쳐가 아닌, *this 복사본 캡쳐 #include <iostream> #include <memory> #include <tuple> using namespace std; class item { public: item(int n = 0) : _value(n) {} auto test() { _value += 1; // copy capture auto fn1 = [*this] { return _value; }; auto fn2 = [self = *this] { return self._value; }; // ref capture auto fn3 = [this] { return _value; }; _value += 1; fn1(); // 11 fn2(); // 11 fn3(); // 12 return make_tuple(fn1, fn2, fn3); } private: int _value; }; int main() { auto it = make_shared<item>(10); auto tp = it->test(); it.reset(); cout << get<0>(tp)() << endl; cout << get<1>(tp)() << endl; cout << get<2>(tp)() << endl; // ref memory error } C++20 Template syntax for lambdas #include <iostream> #include <vector> using namespace std; int main() { auto fn = []<typename T>(vector<T> &amp;v) { return v.size(); }; vector<int> v = {1, 2, 3, 4, 5}; cout << fn(v) << endl; } Lambda capture of parameter pack #include <iostream> #include <string> using namespace std; template <typename... Args> auto getAddFunc(Args&&... args){ // by ref [&...args = std::forward<Args>(args)] // by value return [...args = std::forward<Args>(args)] (auto && init) { return init + (args + ...); }; } int main() { auto fn = getAddFunc(1, 2, 3); cout << fn(10) << endl; // 16 auto fns = getAddFunc("this "s, "is "s, "sample"s); cout << fns("note: "s) << endl; // note: this is sample } '><meta property="og:locale" content="ko-kr"><meta property="og:type" content="article"><meta property="article:section" content="dev"><meta property="article:published_time" content="2021-12-14T00:00:00+09:00"><meta property="article:modified_time" content="2021-12-14T00:00:00+09:00"><meta property="article:tag" content="C++"><meta property="article:tag" content="Lambda"><meta property="article:tag" content="C++11"><meta property="article:tag" content="C++14"><meta property="article:tag" content="C++17"><meta property="article:tag" content="C++20"><meta name=twitter:card content="summary"><meta name=twitter:title content="C++ Lambda 표현식"><meta name=twitter:description content='C++14, C++17, C++20 버전별 Lambda 표현 정리
The Evolutions of Lambdas in C++14, C++17 and C++20

https://www.fluentcpp.com/2021/12/13/the-evolutions-of-lambdas-in-c14-c17-and-c20/{:target="_blank"}
해당 글을 참고하여 예제 자체 작성


C++14
Default parameters
#include <iostream>
using namespace std;

int main()
{
  auto fn = [](int a, int b = 0) {
    return a + b;
  };

  cout << fn(1) << endl;     // 1
  cout << fn(1, 2) << endl;  // 3
}
Template parameters
#include <iostream>
#include <string>
#include <vector>
using namespace std;

int main()
{
  auto fn = [](auto && c) {
    return c.size();
  };

  vector<int> v = {1, 2, 3};
  cout << fn(v) << endl;  // 3

  string s = "12345";
  cout << fn(s) << endl;  // 5
}
Generalised capture
#include <iostream>
#include <string>
using namespace std;

int main()
{
  string str = "string";

  auto fn = [s = str + "_capture"s](string body) {
    cout << s << " : " << body << endl; 
  };

  fn("test");  // string_capture : test
}
Returning a lambda from a function
#include <iostream>
using namespace std;

auto getAdd(int n)
{
  return [n](int an) {
    return n + an;
  };
}

int main()
{
  auto fn = getAdd(10);
  cout << fn(20) << endl;
}

C++17
Constexpr
#include <iostream>
using namespace std;

int main()
{
  constexpr auto fn = [](int n){
    return n + 10;
  };

  static_assert(fn(10) == 20); // ok
  static_assert(fn(20) == 20); // error: static assertion failed
}
Capturing a copy of *this

this 참조에 캡쳐가 아닌, *this 복사본 캡쳐

#include <iostream>
#include <memory>
#include <tuple>
using namespace std;

class item 
{
public:
  item(int n = 0) : _value(n) {}

  auto test() {
    _value += 1;

    // copy capture
    auto fn1 = [*this] { return _value; };
    auto fn2 = [self = *this] { return self._value; };

    // ref capture
    auto fn3 = [this] { return _value; };
    _value += 1;

    fn1(); // 11
    fn2(); // 11
    fn3(); // 12

    return make_tuple(fn1, fn2, fn3);
  }

private:
  int _value;
};

int main()
{
  auto it = make_shared<item>(10);
  auto tp = it->test();
  it.reset();

  cout << get<0>(tp)() << endl;
  cout << get<1>(tp)() << endl;
  cout << get<2>(tp)() << endl; // ref memory error 
}

C++20
Template syntax for lambdas
#include <iostream>
#include <vector>
using namespace std;

int main()
{
  auto fn = []<typename T>(vector<T> &amp;v) { return v.size(); };

  vector<int> v = {1, 2, 3, 4, 5};
  cout << fn(v) << endl;
}
Lambda capture of parameter pack
#include <iostream>
#include <string>
using namespace std;

template <typename... Args>
auto getAddFunc(Args&&... args){
    // by ref    [&...args = std::forward<Args>(args)]
    // by value  
    return [...args = std::forward<Args>(args)] (auto && init) {
        return init + (args + ...);
    };
}

int main()
{
  auto fn = getAddFunc(1, 2, 3);
  cout << fn(10) << endl;  // 16

  auto fns = getAddFunc("this "s, "is "s, "sample"s);
  cout << fns("note: "s) << endl;  // note: this is sample
}
'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Devs","item":"https://cdecl.github.io/dev/"},{"@type":"ListItem","position":2,"name":"C++ Lambda 표현식","item":"https://cdecl.github.io/dev/c++-lambda/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"C++ Lambda 표현식","name":"C\u002b\u002b Lambda 표현식","description":"C++14, C++17, C++20 버전별 Lambda 표현 정리\nThe Evolutions of Lambdas in C++14, C++17 and C++20 https://www.fluentcpp.com/2021/12/13/the-evolutions-of-lambdas-in-c14-c17-and-c20/{:target=\u0026quot;_blank\u0026quot;} 해당 글을 참고하여 예제 자체 작성 C++14 Default parameters #include \u0026lt;iostream\u0026gt; using namespace std; int main() { auto fn = [](int a, int b = 0) { return a + b; }; cout \u0026lt;\u0026lt; fn(1) \u0026lt;\u0026lt; endl; // 1 cout \u0026lt;\u0026lt; fn(1, 2) \u0026lt;\u0026lt; endl; // 3 } Template parameters #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; int main() { auto fn = [](auto \u0026amp;\u0026amp; c) { return c.size(); }; vector\u0026lt;int\u0026gt; v = {1, 2, 3}; cout \u0026lt;\u0026lt; fn(v) \u0026lt;\u0026lt; endl; // 3 string s = \u0026#34;12345\u0026#34;; cout \u0026lt;\u0026lt; fn(s) \u0026lt;\u0026lt; endl; // 5 } Generalised capture #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; using namespace std; int main() { string str = \u0026#34;string\u0026#34;; auto fn = [s = str + \u0026#34;_capture\u0026#34;s](string body) { cout \u0026lt;\u0026lt; s \u0026lt;\u0026lt; \u0026#34; : \u0026#34; \u0026lt;\u0026lt; body \u0026lt;\u0026lt; endl; }; fn(\u0026#34;test\u0026#34;); // string_capture : test } Returning a lambda from a function #include \u0026lt;iostream\u0026gt; using namespace std; auto getAdd(int n) { return [n](int an) { return n + an; }; } int main() { auto fn = getAdd(10); cout \u0026lt;\u0026lt; fn(20) \u0026lt;\u0026lt; endl; } C++17 Constexpr #include \u0026lt;iostream\u0026gt; using namespace std; int main() { constexpr auto fn = [](int n){ return n + 10; }; static_assert(fn(10) == 20); // ok static_assert(fn(20) == 20); // error: static assertion failed } Capturing a copy of *this this 참조에 캡쳐가 아닌, *this 복사본 캡쳐 #include \u0026lt;iostream\u0026gt; #include \u0026lt;memory\u0026gt; #include \u0026lt;tuple\u0026gt; using namespace std; class item { public: item(int n = 0) : _value(n) {} auto test() { _value += 1; // copy capture auto fn1 = [*this] { return _value; }; auto fn2 = [self = *this] { return self._value; }; // ref capture auto fn3 = [this] { return _value; }; _value += 1; fn1(); // 11 fn2(); // 11 fn3(); // 12 return make_tuple(fn1, fn2, fn3); } private: int _value; }; int main() { auto it = make_shared\u0026lt;item\u0026gt;(10); auto tp = it-\u0026gt;test(); it.reset(); cout \u0026lt;\u0026lt; get\u0026lt;0\u0026gt;(tp)() \u0026lt;\u0026lt; endl; cout \u0026lt;\u0026lt; get\u0026lt;1\u0026gt;(tp)() \u0026lt;\u0026lt; endl; cout \u0026lt;\u0026lt; get\u0026lt;2\u0026gt;(tp)() \u0026lt;\u0026lt; endl; // ref memory error } C++20 Template syntax for lambdas #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; int main() { auto fn = []\u0026lt;typename T\u0026gt;(vector\u0026lt;T\u0026gt; \u0026amp;v) { return v.size(); }; vector\u0026lt;int\u0026gt; v = {1, 2, 3, 4, 5}; cout \u0026lt;\u0026lt; fn(v) \u0026lt;\u0026lt; endl; } Lambda capture of parameter pack #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; using namespace std; template \u0026lt;typename... Args\u0026gt; auto getAddFunc(Args\u0026amp;\u0026amp;... args){ // by ref [\u0026amp;...args = std::forward\u0026lt;Args\u0026gt;(args)] // by value return [...args = std::forward\u0026lt;Args\u0026gt;(args)] (auto \u0026amp;\u0026amp; init) { return init + (args + ...); }; } int main() { auto fn = getAddFunc(1, 2, 3); cout \u0026lt;\u0026lt; fn(10) \u0026lt;\u0026lt; endl; // 16 auto fns = getAddFunc(\u0026#34;this \u0026#34;s, \u0026#34;is \u0026#34;s, \u0026#34;sample\u0026#34;s); cout \u0026lt;\u0026lt; fns(\u0026#34;note: \u0026#34;s) \u0026lt;\u0026lt; endl; // note: this is sample } ","keywords":["c++","lambda","c++11","c++14","c++17","c++20"],"articleBody":"C++14, C++17, C++20 버전별 Lambda 표현 정리\nThe Evolutions of Lambdas in C++14, C++17 and C++20 https://www.fluentcpp.com/2021/12/13/the-evolutions-of-lambdas-in-c14-c17-and-c20/{:target=\"_blank\"} 해당 글을 참고하여 예제 자체 작성 C++14 Default parameters #include using namespace std; int main() { auto fn = [](int a, int b = 0) { return a + b; }; cout \u003c\u003c fn(1) \u003c\u003c endl; // 1 cout \u003c\u003c fn(1, 2) \u003c\u003c endl; // 3 } Template parameters #include #include #include using namespace std; int main() { auto fn = [](auto \u0026\u0026 c) { return c.size(); }; vector\u003cint\u003e v = {1, 2, 3}; cout \u003c\u003c fn(v) \u003c\u003c endl; // 3 string s = \"12345\"; cout \u003c\u003c fn(s) \u003c\u003c endl; // 5 } Generalised capture #include #include using namespace std; int main() { string str = \"string\"; auto fn = [s = str + \"_capture\"s](string body) { cout \u003c\u003c s \u003c\u003c \" : \" \u003c\u003c body \u003c\u003c endl; }; fn(\"test\"); // string_capture : test } Returning a lambda from a function #include using namespace std; auto getAdd(int n) { return [n](int an) { return n + an; }; } int main() { auto fn = getAdd(10); cout \u003c\u003c fn(20) \u003c\u003c endl; } C++17 Constexpr #include using namespace std; int main() { constexpr auto fn = [](int n){ return n + 10; }; static_assert(fn(10) == 20); // ok static_assert(fn(20) == 20); // error: static assertion failed } Capturing a copy of *this this 참조에 캡쳐가 아닌, *this 복사본 캡쳐 #include #include #include using namespace std; class item { public: item(int n = 0) : _value(n) {} auto test() { _value += 1; // copy capture auto fn1 = [*this] { return _value; }; auto fn2 = [self = *this] { return self._value; }; // ref capture auto fn3 = [this] { return _value; }; _value += 1; fn1(); // 11 fn2(); // 11 fn3(); // 12 return make_tuple(fn1, fn2, fn3); } private: int _value; }; int main() { auto it = make_shared\u003citem\u003e(10); auto tp = it-\u003etest(); it.reset(); cout \u003c\u003c get\u003c0\u003e(tp)() \u003c\u003c endl; cout \u003c\u003c get\u003c1\u003e(tp)() \u003c\u003c endl; cout \u003c\u003c get\u003c2\u003e(tp)() \u003c\u003c endl; // ref memory error } C++20 Template syntax for lambdas #include #include using namespace std; int main() { auto fn = []\u003ctypename T\u003e(vector\u003cT\u003e \u0026v) { return v.size(); }; vector\u003cint\u003e v = {1, 2, 3, 4, 5}; cout \u003c\u003c fn(v) \u003c\u003c endl; } Lambda capture of parameter pack #include #include using namespace std; template \u003ctypename... Args\u003e auto getAddFunc(Args\u0026\u0026... args){ // by ref [\u0026...args = std::forward(args)] // by value return [...args = std::forward\u003cArgs\u003e(args)] (auto \u0026\u0026 init) { return init + (args + ...); }; } int main() { auto fn = getAddFunc(1, 2, 3); cout \u003c\u003c fn(10) \u003c\u003c endl; // 16 auto fns = getAddFunc(\"this \"s, \"is \"s, \"sample\"s); cout \u003c\u003c fns(\"note: \"s) \u003c\u003c endl; // note: this is sample } ","wordCount":"472","inLanguage":"en","datePublished":"2021-12-14T00:00:00+09:00","dateModified":"2021-12-14T00:00:00+09:00","author":{"@type":"Person","name":"Byung Kyu KIM"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://cdecl.github.io/dev/c++-lambda/"},"publisher":{"@type":"Organization","name":"cdeclog","logo":{"@type":"ImageObject","url":"https://cdecl.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://cdecl.github.io/ accesskey=h title="cdeclog (Alt + H)">cdeclog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://cdecl.github.io/dev/ title=Dev><span>Dev</span></a></li><li><a href=https://cdecl.github.io/devops/ title=DevOps><span>DevOps</span></a></li><li><a href=https://cdecl.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://cdecl.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://cdecl.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://cdecl.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://cdecl.github.io/dev/>Devs</a></div><h1 class="post-title entry-hint-parent">C++ Lambda 표현식</h1><div class=post-meta><span title='2021-12-14 00:00:00 +0900 KST'>December 14, 2021</span>&nbsp;·&nbsp;<span>Byung Kyu KIM</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#the-evolutions-of-lambdas-in-c14-c17-and-c20 aria-label="The Evolutions of Lambdas in C++14, C++17 and C++20">The Evolutions of Lambdas in C++14, C++17 and C++20</a><ul><li><a href=#c14 aria-label=C++14>C++14</a><ul><li><a href=#default-parameters aria-label="Default parameters">Default parameters</a></li><li><a href=#template-parameters aria-label="Template parameters">Template parameters</a></li><li><a href=#generalised-capture aria-label="Generalised capture">Generalised capture</a></li><li><a href=#returning-a-lambda-from-a-function aria-label="Returning a lambda from a function">Returning a lambda from a function</a></li></ul></li><li><a href=#c17 aria-label=C++17>C++17</a><ul><li><a href=#constexpr aria-label=Constexpr>Constexpr</a></li><li><a href=#capturing-a-copy-of-this aria-label="Capturing a copy of *this">Capturing a copy of *this</a></li></ul></li><li><a href=#c20 aria-label=C++20>C++20</a><ul><li><a href=#template-syntax-for-lambdas aria-label="Template syntax for lambdas">Template syntax for lambdas</a></li><li><a href=#lambda-capture-of-parameter-pack aria-label="Lambda capture of parameter pack">Lambda capture of parameter pack</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><p>C++14, C++17, C++20 버전별 Lambda 표현 정리</p><h2 id=the-evolutions-of-lambdas-in-c14-c17-and-c20>The Evolutions of Lambdas in C++14, C++17 and C++20<a hidden class=anchor aria-hidden=true href=#the-evolutions-of-lambdas-in-c14-c17-and-c20>#</a></h2><ul><li><a href=https://www.fluentcpp.com/2021/12/13/the-evolutions-of-lambdas-in-c14-c17-and-c20/>https://www.fluentcpp.com/2021/12/13/the-evolutions-of-lambdas-in-c14-c17-and-c20/</a>{:target="_blank"}</li><li>해당 글을 참고하여 예제 자체 작성</li></ul><hr><h3 id=c14>C++14<a hidden class=anchor aria-hidden=true href=#c14>#</a></h3><h4 id=default-parameters>Default parameters<a hidden class=anchor aria-hidden=true href=#default-parameters>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>using</span> <span style=color:#ff79c6>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>auto</span> fn <span style=color:#ff79c6>=</span> [](<span style=color:#8be9fd>int</span> a, <span style=color:#8be9fd>int</span> b <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>) {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> a <span style=color:#ff79c6>+</span> b;
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  cout <span style=color:#ff79c6>&lt;&lt;</span> fn(<span style=color:#bd93f9>1</span>) <span style=color:#ff79c6>&lt;&lt;</span> endl;     <span style=color:#6272a4>// 1
</span></span></span><span style=display:flex><span>  cout <span style=color:#ff79c6>&lt;&lt;</span> fn(<span style=color:#bd93f9>1</span>, <span style=color:#bd93f9>2</span>) <span style=color:#ff79c6>&lt;&lt;</span> endl;  <span style=color:#6272a4>// 3
</span></span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=template-parameters>Template parameters<a hidden class=anchor aria-hidden=true href=#template-parameters>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;string&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;vector&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>using</span> <span style=color:#ff79c6>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>auto</span> fn <span style=color:#ff79c6>=</span> [](<span style=color:#ff79c6>auto</span> <span style=color:#ff79c6>&amp;&amp;</span> c) {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> c.size();
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  vector<span style=color:#ff79c6>&lt;</span><span style=color:#8be9fd>int</span><span style=color:#ff79c6>&gt;</span> v <span style=color:#ff79c6>=</span> {<span style=color:#bd93f9>1</span>, <span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>3</span>};
</span></span><span style=display:flex><span>  cout <span style=color:#ff79c6>&lt;&lt;</span> fn(v) <span style=color:#ff79c6>&lt;&lt;</span> endl;  <span style=color:#6272a4>// 3
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  string s <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;12345&#34;</span>;
</span></span><span style=display:flex><span>  cout <span style=color:#ff79c6>&lt;&lt;</span> fn(s) <span style=color:#ff79c6>&lt;&lt;</span> endl;  <span style=color:#6272a4>// 5
</span></span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=generalised-capture>Generalised capture<a hidden class=anchor aria-hidden=true href=#generalised-capture>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;string&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>using</span> <span style=color:#ff79c6>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  string str <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;string&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>auto</span> fn <span style=color:#ff79c6>=</span> [s <span style=color:#ff79c6>=</span> str <span style=color:#ff79c6>+</span> <span style=color:#f1fa8c>&#34;_capture&#34;</span>s](string body) {
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> s <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34; : &#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> body <span style=color:#ff79c6>&lt;&lt;</span> endl; 
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  fn(<span style=color:#f1fa8c>&#34;test&#34;</span>);  <span style=color:#6272a4>// string_capture : test
</span></span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=returning-a-lambda-from-a-function>Returning a lambda from a function<a hidden class=anchor aria-hidden=true href=#returning-a-lambda-from-a-function>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>using</span> <span style=color:#ff79c6>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>auto</span> <span style=color:#50fa7b>getAdd</span>(<span style=color:#8be9fd>int</span> n)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>return</span> [n](<span style=color:#8be9fd>int</span> an) {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> n <span style=color:#ff79c6>+</span> an;
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>auto</span> fn <span style=color:#ff79c6>=</span> getAdd(<span style=color:#bd93f9>10</span>);
</span></span><span style=display:flex><span>  cout <span style=color:#ff79c6>&lt;&lt;</span> fn(<span style=color:#bd93f9>20</span>) <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr><h3 id=c17>C++17<a hidden class=anchor aria-hidden=true href=#c17>#</a></h3><h4 id=constexpr>Constexpr<a hidden class=anchor aria-hidden=true href=#constexpr>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>using</span> <span style=color:#ff79c6>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>constexpr</span> <span style=color:#ff79c6>auto</span> fn <span style=color:#ff79c6>=</span> [](<span style=color:#8be9fd>int</span> n){
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> n <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>10</span>;
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>static_assert</span>(fn(<span style=color:#bd93f9>10</span>) <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>20</span>); <span style=color:#6272a4>// ok
</span></span></span><span style=display:flex><span>  <span style=color:#ff79c6>static_assert</span>(fn(<span style=color:#bd93f9>20</span>) <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>20</span>); <span style=color:#6272a4>// error: static assertion failed
</span></span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=capturing-a-copy-of-this>Capturing a copy of *this<a hidden class=anchor aria-hidden=true href=#capturing-a-copy-of-this>#</a></h4><ul><li>this 참조에 캡쳐가 아닌, *this 복사본 캡쳐</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;memory&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;tuple&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>using</span> <span style=color:#ff79c6>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>item</span> 
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span><span style=color:#ff79c6>public</span><span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>  item(<span style=color:#8be9fd>int</span> n <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>) <span style=color:#ff79c6>:</span> _value(n) {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>auto</span> <span style=color:#50fa7b>test</span>() {
</span></span><span style=display:flex><span>    _value <span style=color:#ff79c6>+=</span> <span style=color:#bd93f9>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#6272a4>// copy capture
</span></span></span><span style=display:flex><span>    <span style=color:#ff79c6>auto</span> fn1 <span style=color:#ff79c6>=</span> [<span style=color:#ff79c6>*</span><span style=color:#ff79c6>this</span>] { <span style=color:#ff79c6>return</span> _value; };
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>auto</span> fn2 <span style=color:#ff79c6>=</span> [self <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>*</span><span style=color:#ff79c6>this</span>] { <span style=color:#ff79c6>return</span> self._value; };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#6272a4>// ref capture
</span></span></span><span style=display:flex><span>    <span style=color:#ff79c6>auto</span> fn3 <span style=color:#ff79c6>=</span> [<span style=color:#ff79c6>this</span>] { <span style=color:#ff79c6>return</span> _value; };
</span></span><span style=display:flex><span>    _value <span style=color:#ff79c6>+=</span> <span style=color:#bd93f9>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    fn1(); <span style=color:#6272a4>// 11
</span></span></span><span style=display:flex><span>    fn2(); <span style=color:#6272a4>// 11
</span></span></span><span style=display:flex><span>    fn3(); <span style=color:#6272a4>// 12
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> make_tuple(fn1, fn2, fn3);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>private</span><span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>  <span style=color:#8be9fd>int</span> _value;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>auto</span> it <span style=color:#ff79c6>=</span> make_shared<span style=color:#ff79c6>&lt;</span>item<span style=color:#ff79c6>&gt;</span>(<span style=color:#bd93f9>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>auto</span> tp <span style=color:#ff79c6>=</span> it<span style=color:#ff79c6>-&gt;</span>test();
</span></span><span style=display:flex><span>  it.reset();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  cout <span style=color:#ff79c6>&lt;&lt;</span> get<span style=color:#ff79c6>&lt;</span><span style=color:#bd93f9>0</span><span style=color:#ff79c6>&gt;</span>(tp)() <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>  cout <span style=color:#ff79c6>&lt;&lt;</span> get<span style=color:#ff79c6>&lt;</span><span style=color:#bd93f9>1</span><span style=color:#ff79c6>&gt;</span>(tp)() <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>  cout <span style=color:#ff79c6>&lt;&lt;</span> get<span style=color:#ff79c6>&lt;</span><span style=color:#bd93f9>2</span><span style=color:#ff79c6>&gt;</span>(tp)() <span style=color:#ff79c6>&lt;&lt;</span> endl; <span style=color:#6272a4>// ref memory error 
</span></span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr><h3 id=c20>C++20<a hidden class=anchor aria-hidden=true href=#c20>#</a></h3><h4 id=template-syntax-for-lambdas>Template syntax for lambdas<a hidden class=anchor aria-hidden=true href=#template-syntax-for-lambdas>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;vector&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>using</span> <span style=color:#ff79c6>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>auto</span> fn <span style=color:#ff79c6>=</span> []<span style=color:#ff79c6>&lt;</span><span style=color:#ff79c6>typename</span> T<span style=color:#ff79c6>&gt;</span>(vector<span style=color:#ff79c6>&lt;</span>T<span style=color:#ff79c6>&gt;</span> <span style=color:#ff79c6>&amp;</span>v) { <span style=color:#ff79c6>return</span> v.size(); };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  vector<span style=color:#ff79c6>&lt;</span><span style=color:#8be9fd>int</span><span style=color:#ff79c6>&gt;</span> v <span style=color:#ff79c6>=</span> {<span style=color:#bd93f9>1</span>, <span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>3</span>, <span style=color:#bd93f9>4</span>, <span style=color:#bd93f9>5</span>};
</span></span><span style=display:flex><span>  cout <span style=color:#ff79c6>&lt;&lt;</span> fn(v) <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=lambda-capture-of-parameter-pack>Lambda capture of parameter pack<a hidden class=anchor aria-hidden=true href=#lambda-capture-of-parameter-pack>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;string&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>using</span> <span style=color:#ff79c6>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>template</span> <span style=color:#ff79c6>&lt;</span><span style=color:#ff79c6>typename</span>... Args<span style=color:#ff79c6>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>auto</span> getAddFunc(Args<span style=color:#ff79c6>&amp;&amp;</span>... args){
</span></span><span style=display:flex><span>    <span style=color:#6272a4>// by ref    [&amp;...args = std::forward&lt;Args&gt;(args)]
</span></span></span><span style=display:flex><span>    <span style=color:#6272a4>// by value  
</span></span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> [...args <span style=color:#ff79c6>=</span> std<span style=color:#ff79c6>::</span>forward<span style=color:#ff79c6>&lt;</span>Args<span style=color:#ff79c6>&gt;</span>(args)] (<span style=color:#ff79c6>auto</span> <span style=color:#ff79c6>&amp;&amp;</span> init) {
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>return</span> init <span style=color:#ff79c6>+</span> (args <span style=color:#ff79c6>+</span> ...);
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>auto</span> fn <span style=color:#ff79c6>=</span> getAddFunc(<span style=color:#bd93f9>1</span>, <span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>3</span>);
</span></span><span style=display:flex><span>  cout <span style=color:#ff79c6>&lt;&lt;</span> fn(<span style=color:#bd93f9>10</span>) <span style=color:#ff79c6>&lt;&lt;</span> endl;  <span style=color:#6272a4>// 16
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>auto</span> fns <span style=color:#ff79c6>=</span> getAddFunc(<span style=color:#f1fa8c>&#34;this &#34;</span>s, <span style=color:#f1fa8c>&#34;is &#34;</span>s, <span style=color:#f1fa8c>&#34;sample&#34;</span>s);
</span></span><span style=display:flex><span>  cout <span style=color:#ff79c6>&lt;&lt;</span> fns(<span style=color:#f1fa8c>&#34;note: &#34;</span>s) <span style=color:#ff79c6>&lt;&lt;</span> endl;  <span style=color:#6272a4>// note: this is sample
</span></span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://cdecl.github.io/tags/c++/>C++</a></li><li><a href=https://cdecl.github.io/tags/lambda/>Lambda</a></li><li><a href=https://cdecl.github.io/tags/c++11/>C++11</a></li><li><a href=https://cdecl.github.io/tags/c++14/>C++14</a></li><li><a href=https://cdecl.github.io/tags/c++17/>C++17</a></li><li><a href=https://cdecl.github.io/tags/c++20/>C++20</a></li></ul></footer><script src=https://giscus.app/client.js data-repo=cdecl/cdecl.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkzNDk1ODUyNjg=" data-category=General data-category-id=DIC_kwDOFNY_dM4C1XMk data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=transparent_dark data-lang=ko crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2026 <a href=https://cdecl.github.io/>cdeclog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>