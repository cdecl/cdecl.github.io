<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Vcpkg Basic | cdeclog</title><meta name=keywords content="c++,vcpkg,cmake,triplet"><meta name=description content='https://vcpkg.io/{:target="_blank"}
Vcpkg helps you manage C and C++ libraries on Windows, Linux and MacOS. This tool and ecosystem are constantly evolving, and we always appreciate contributions!
Introduction

https://github.com/microsoft/vcpkg{:target="_blank"}
MS에서 만든 C++ Library Package 관리 (Cross Platform)

Vcpkg install

Git 이 필요하고, bootstrap-vcpkg 실행으로 필요한 툴을 다운로드(빌드)하는 작업을 수행

vcpkg.exe 생성



$ git clone https://github.com/microsoft/vcpkg
$ cd vcpkg

# windows
$ bootstrap-vcpkg.bat

# linux 
$ ./bootstrap-vcpkg.sh
Package search & install

triplet : Target configuration set
설치시 triplet 을 지정하지 않으면 설치되어 있는 기본 C++ Toolset 으로 지정

Windows의 경우 x86-windows default



주요 Triplet list

vcpkg help triplet

$ vcpkg help triplet
Available architecture triplets
VCPKG built-in triplets:
...
  x64-windows-static
  x64-windows
  x86-windows
...
VCPKG community triplets:
...
  x64-windows-static-md
  x86-windows-static-md
  x86-windows-static
  x64-mingw-dynamic
  x64-mingw-static
  x86-mingw-dynamic
  x86-mingw-static  
  x64-linux
...
Search

vcpkg search

# Package search 
$ vcpkg search fmt
fmt                      7.1.3#5          Formatting library for C++. ...
The search result may be outdated. Run `git pull` to get the latest results. 
Install

vcpkg install
vcpkg search 에서 찾은 패키지를 triplet 을 지정하여 설치
설치가 완료되면 프로젝트 CMakeLists.txt 넣을 find_package 문 표시

# Package 별로 triplet 지정 
$ vcpkg.exe install fmt:x64-windows-static nlohmann-json:x64-windows-static

# triplet 공통 지정 
$ vcpkg.exe install fmt nlohmann-json --triplet=x64-windows-static
...
The package fmt provides CMake targets:

    find_package(fmt CONFIG REQUIRED)
    target_link_libraries(main PRIVATE fmt::fmt)

    # Or use the header-only version
    find_package(fmt CONFIG REQUIRED)
    target_link_libraries(main PRIVATE fmt::fmt-header-only)

The package nlohmann-json:x64-windows-static provides CMake targets:

    find_package(nlohmann_json CONFIG REQUIRED)
    target_link_libraries(main PRIVATE nlohmann_json nlohmann_json::nlohmann_json)
설치된 리스트

vcpkg list

# Package installed list 
$ vcpkg list
benchmark:x64-mingw-static                         1.5.5            A library to support the benchmarking of functio...
benchmark:x64-windows-static                       1.5.5            A library to support the benchmarking of functio...
cpp-httplib:x64-mingw-static                       0.9.1            A single file C++11 header-only HTTP/HTTPS serve...
cpp-httplib:x64-windows-static                     0.9.1            A single file C++11 header-only HTTP/HTTPS serve...
fmt:x64-windows                                    7.1.3#5          Formatting library for C++. It can be used as a ...
fmt:x64-windows-static                             7.1.3#5          Formatting library for C++. It can be used as a ...
nlohmann-json:x64-mingw-static                     3.9.1            JSON for Modern C++
nlohmann-json:x64-windows-static                   3.9.1            JSON for Modern C++
openssl:x64-mingw-static                           1.1.1k#8         OpenSSL is an open source project that provides ...
openssl:x64-windows-static                         1.1.1k#8         OpenSSL is an open source project that provides ...
vcpkg-cmake-config:x64-windows                     2021-05-22#1
vcpkg-cmake:x64-windows                            2021-07-30
zlib:x64-mingw-static                              1.2.11#11        A compression library
zlib:x64-windows-static                            1.2.11#11        A compression library
Integrate install

vcpkg integrate install
Windows Visual Studio에서 vcpkg 라이브러리를 별도 설정 없이 바로 사용

$ vcpkg integrate install
Applied user-wide integration for this vcpkg root.

All MSBuild C++ projects can now #include any installed libraries.
Linking will be handled automatically.
Installing new libraries will make them instantly available.

CMake projects should use: "-DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake"
vcpkg 명령어
# Vcpkg package management program version 2021-08-12-85ab112d5ee102bc6eac8cdbbfdd173a71374e04
$ vcpkg help
Commands:
  vcpkg search [pat]              Search for packages available to be built
  vcpkg install <pkg>...          Install a package
  vcpkg remove <pkg>...           Uninstall a package
  vcpkg remove --outdated         Uninstall all out-of-date packages
  vcpkg list                      List installed packages
  vcpkg update                    Display list of packages for updating
  vcpkg upgrade                   Rebuild all outdated packages
  vcpkg x-history <pkg>           (Experimental) Shows the history of CONTROL versions of a package
  vcpkg hash <file> [alg]         Hash a file by specific algorithm, default SHA512
  vcpkg help topics               Display the list of help topics
  vcpkg help <topic>              Display help for a specific topic

  vcpkg integrate install         Make installed packages available user-wide. Requires admin
                                  privileges on first use
  vcpkg integrate remove          Remove user-wide integration
  vcpkg integrate project         Generate a referencing nuget package for individual VS project use
  vcpkg integrate powershell      Enable PowerShell tab-completion

  vcpkg export <pkg>... [opt]...  Exports a package
  vcpkg edit <pkg>                Open up a port for editing (uses %EDITOR%, default &#39;code&#39;)
  vcpkg create <pkg> <url> [archivename]
                                  Create a new package
  vcpkg x-init-registry <path>    Initializes a registry in the directory <path>
  vcpkg owns <pat>                Search for files in installed packages
  vcpkg depend-info <pkg>...      Display a list of dependencies for packages
  vcpkg env                       Creates a clean shell environment for development or compiling
  vcpkg version                   Display version information
  vcpkg contact                   Display contact information to send feedback
...

1. 내 프로젝트에서 사용 (CMake, find_package)

CMakeLists.txt 에 find_package 내용 추가

CMakeLists.txt
cmake_minimum_required(VERSION 3.11)

project(main)
set(CMAKE_CXX_STANDARD 17)

add_executable(main main.cpp)

if(MSVC)
	target_compile_options(main PRIVATE /MT)
else()
	target_compile_options(main PRIVATE -Wall -O2)
endif()

find_package(fmt CONFIG REQUIRED)
target_link_libraries(main PRIVATE fmt::fmt)

find_package(nlohmann_json CONFIG REQUIRED)
target_link_libraries(main PRIVATE nlohmann_json nlohmann_json::nlohmann_json)
CMake 초기화

CMAKE_TOOLCHAIN_FILE 과 VCPKG_TARGET_TRIPLET 을 지정하여 초기화

CMAKE_TOOLCHAIN_FILE : vcpkg/scripts/buildsystems/vcpkg.cmake



$ mkdir build && cd build

# windows msvc 
$ cmake -G "Visual Studio 16 2019" -A x64 .. -DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET=x64-windows-static

# windows mingw
$ cmake -G "MSYS Makefiles" .. -DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET=x64-mingw-static

# linux : VCPKG_TARGET_TRIPLET 지정안함, defualt 사용 
$ cmake cmake .. -DCMAKE_TOOLCHAIN_FILE=~/lib/vcpkg/scripts/buildsystems/vcpkg.cmake
Build
# windows msvc : Release 모드 빌드 
$ cmake --build . --config=Release
# run 
$ Release\main.exe

# mingw, linux 
$ make 
$ ./main
2. 내 프로젝트에서 사용 (라이브러리 수동으로 설정)

CMake 수동 지정 : target_include_directories, target_link_directories, target_link_libraries 별도 지정
Makefile 사용 : -I -l -L 등의 옵션 추가

vcpkg/installed/triplet 디렉토리 참고

수동으로 include, lib 등 지정 사용

triplet/include : header files
triplet/lib : static library
triplet/bin : shared library



$  tree vcpkg/installed -L 3
vcpkg/installed
├── vcpkg
...
├── x64-mingw-static
│   ├── debug
│   │   └── lib
│   ├── include
│   │   ├── benchmark
│   │   ├── httplib.h
│   │   ├── nlohmann
│   │   ├── openssl
│   │   ├── zconf.h
│   │   └── zlib.h
│   ├── lib
│   │   ├── libbenchmark.a
│   │   ├── libbenchmark_main.a
│   │   ├── libcrypto.a
│   │   ├── libssl.a
│   │   ├── libzlib.a
│   │   └── pkgconfig
│   └── share
│       ├── benchmark
│       ├── cpp-httplib
│       ├── nlohmann-json
│       ├── nlohmann_json
│       ├── openssl
│       └── zlib
├── x64-windows
│   ├── bin
│   │   ├── fmt.dll
│   │   └── fmt.pdb
│   ├── debug
│   │   ├── bin
│   │   └── lib
│   ├── include
│   │   └── fmt
│   ├── lib
│   │   ├── fmt.lib
│   │   └── pkgconfig
│   └── share
│       ├── fmt
│       ├── vcpkg-cmake
│       └── vcpkg-cmake-config
└── x64-windows-static
    ├── debug
    │   ├── lib
    │   └── misc
    ├── include
    │   ├── benchmark
    │   ├── fmt
    │   ├── httplib.h
    │   ├── nlohmann
    │   ├── openssl
    │   ├── zconf.h
    │   └── zlib.h
    ├── lib
    │   ├── benchmark.lib
    │   ├── benchmark_main.lib
    │   ├── fmt.lib
    │   ├── libcrypto.lib
    │   ├── libssl.lib
    │   ├── ossl_static.pdb
    │   ├── pkgconfig
    │   └── zlib.lib
    ├── misc
    │   ├── CA.pl
    │   └── tsget.pl
    ├── share
    │   ├── benchmark
    │   ├── cpp-httplib
    │   ├── fmt
    │   ├── nlohmann-json
    │   ├── nlohmann_json
    │   ├── openssl
    │   └── zlib
    └── tools
        └── openssl
'><meta name=author content="Byung Kyu KIM"><link rel=canonical href=https://cdecl.github.io/dev/vcpkg-basic/><link crossorigin=anonymous href=/assets/css/stylesheet.d980bb9fb2cba61af0aead0606b5eb221d7e358748ac394b60233d95d626c563.css integrity="sha256-2YC7n7LLphrwrq0GBrXrIh1+NYdIrDlLYCM9ldYmxWM=" rel="preload stylesheet" as=style><link rel=icon href=https://cdecl.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://cdecl.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://cdecl.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://cdecl.github.io/apple-touch-icon.png><link rel=mask-icon href=https://cdecl.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://cdecl.github.io/dev/vcpkg-basic/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VQQHHYPN7K"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VQQHHYPN7K")}</script><meta property="og:url" content="https://cdecl.github.io/dev/vcpkg-basic/"><meta property="og:site_name" content="cdeclog"><meta property="og:title" content="Vcpkg Basic"><meta property="og:description" content='https://vcpkg.io/{:target="_blank"}
Vcpkg helps you manage C and C++ libraries on Windows, Linux and MacOS. This tool and ecosystem are constantly evolving, and we always appreciate contributions!
Introduction https://github.com/microsoft/vcpkg{:target="_blank"} MS에서 만든 C++ Library Package 관리 (Cross Platform) Vcpkg install Git 이 필요하고, bootstrap-vcpkg 실행으로 필요한 툴을 다운로드(빌드)하는 작업을 수행 vcpkg.exe 생성 $ git clone https://github.com/microsoft/vcpkg $ cd vcpkg # windows $ bootstrap-vcpkg.bat # linux $ ./bootstrap-vcpkg.sh Package search & install triplet : Target configuration set 설치시 triplet 을 지정하지 않으면 설치되어 있는 기본 C++ Toolset 으로 지정 Windows의 경우 x86-windows default 주요 Triplet list vcpkg help triplet $ vcpkg help triplet Available architecture triplets VCPKG built-in triplets: ... x64-windows-static x64-windows x86-windows ... VCPKG community triplets: ... x64-windows-static-md x86-windows-static-md x86-windows-static x64-mingw-dynamic x64-mingw-static x86-mingw-dynamic x86-mingw-static x64-linux ... Search vcpkg search # Package search $ vcpkg search fmt fmt 7.1.3#5 Formatting library for C++. ... The search result may be outdated. Run `git pull` to get the latest results. Install vcpkg install vcpkg search 에서 찾은 패키지를 triplet 을 지정하여 설치 설치가 완료되면 프로젝트 CMakeLists.txt 넣을 find_package 문 표시 # Package 별로 triplet 지정 $ vcpkg.exe install fmt:x64-windows-static nlohmann-json:x64-windows-static # triplet 공통 지정 $ vcpkg.exe install fmt nlohmann-json --triplet=x64-windows-static ... The package fmt provides CMake targets: find_package(fmt CONFIG REQUIRED) target_link_libraries(main PRIVATE fmt::fmt) # Or use the header-only version find_package(fmt CONFIG REQUIRED) target_link_libraries(main PRIVATE fmt::fmt-header-only) The package nlohmann-json:x64-windows-static provides CMake targets: find_package(nlohmann_json CONFIG REQUIRED) target_link_libraries(main PRIVATE nlohmann_json nlohmann_json::nlohmann_json) 설치된 리스트 vcpkg list # Package installed list $ vcpkg list benchmark:x64-mingw-static 1.5.5 A library to support the benchmarking of functio... benchmark:x64-windows-static 1.5.5 A library to support the benchmarking of functio... cpp-httplib:x64-mingw-static 0.9.1 A single file C++11 header-only HTTP/HTTPS serve... cpp-httplib:x64-windows-static 0.9.1 A single file C++11 header-only HTTP/HTTPS serve... fmt:x64-windows 7.1.3#5 Formatting library for C++. It can be used as a ... fmt:x64-windows-static 7.1.3#5 Formatting library for C++. It can be used as a ... nlohmann-json:x64-mingw-static 3.9.1 JSON for Modern C++ nlohmann-json:x64-windows-static 3.9.1 JSON for Modern C++ openssl:x64-mingw-static 1.1.1k#8 OpenSSL is an open source project that provides ... openssl:x64-windows-static 1.1.1k#8 OpenSSL is an open source project that provides ... vcpkg-cmake-config:x64-windows 2021-05-22#1 vcpkg-cmake:x64-windows 2021-07-30 zlib:x64-mingw-static 1.2.11#11 A compression library zlib:x64-windows-static 1.2.11#11 A compression library Integrate install vcpkg integrate install Windows Visual Studio에서 vcpkg 라이브러리를 별도 설정 없이 바로 사용 $ vcpkg integrate install Applied user-wide integration for this vcpkg root. All MSBuild C++ projects can now #include any installed libraries. Linking will be handled automatically. Installing new libraries will make them instantly available. CMake projects should use: "-DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake" vcpkg 명령어 # Vcpkg package management program version 2021-08-12-85ab112d5ee102bc6eac8cdbbfdd173a71374e04 $ vcpkg help Commands: vcpkg search [pat] Search for packages available to be built vcpkg install <pkg>... Install a package vcpkg remove <pkg>... Uninstall a package vcpkg remove --outdated Uninstall all out-of-date packages vcpkg list List installed packages vcpkg update Display list of packages for updating vcpkg upgrade Rebuild all outdated packages vcpkg x-history <pkg> (Experimental) Shows the history of CONTROL versions of a package vcpkg hash <file> [alg] Hash a file by specific algorithm, default SHA512 vcpkg help topics Display the list of help topics vcpkg help <topic> Display help for a specific topic vcpkg integrate install Make installed packages available user-wide. Requires admin privileges on first use vcpkg integrate remove Remove user-wide integration vcpkg integrate project Generate a referencing nuget package for individual VS project use vcpkg integrate powershell Enable PowerShell tab-completion vcpkg export <pkg>... [opt]... Exports a package vcpkg edit <pkg> Open up a port for editing (uses %EDITOR%, default &#39;code&#39;) vcpkg create <pkg> <url> [archivename] Create a new package vcpkg x-init-registry <path> Initializes a registry in the directory <path> vcpkg owns <pat> Search for files in installed packages vcpkg depend-info <pkg>... Display a list of dependencies for packages vcpkg env Creates a clean shell environment for development or compiling vcpkg version Display version information vcpkg contact Display contact information to send feedback ... 1. 내 프로젝트에서 사용 (CMake, find_package) CMakeLists.txt 에 find_package 내용 추가 CMakeLists.txt cmake_minimum_required(VERSION 3.11) project(main) set(CMAKE_CXX_STANDARD 17) add_executable(main main.cpp) if(MSVC) target_compile_options(main PRIVATE /MT) else() target_compile_options(main PRIVATE -Wall -O2) endif() find_package(fmt CONFIG REQUIRED) target_link_libraries(main PRIVATE fmt::fmt) find_package(nlohmann_json CONFIG REQUIRED) target_link_libraries(main PRIVATE nlohmann_json nlohmann_json::nlohmann_json) CMake 초기화 CMAKE_TOOLCHAIN_FILE 과 VCPKG_TARGET_TRIPLET 을 지정하여 초기화 CMAKE_TOOLCHAIN_FILE : vcpkg/scripts/buildsystems/vcpkg.cmake $ mkdir build && cd build # windows msvc $ cmake -G "Visual Studio 16 2019" -A x64 .. -DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET=x64-windows-static # windows mingw $ cmake -G "MSYS Makefiles" .. -DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET=x64-mingw-static # linux : VCPKG_TARGET_TRIPLET 지정안함, defualt 사용 $ cmake cmake .. -DCMAKE_TOOLCHAIN_FILE=~/lib/vcpkg/scripts/buildsystems/vcpkg.cmake Build # windows msvc : Release 모드 빌드 $ cmake --build . --config=Release # run $ Release\main.exe # mingw, linux $ make $ ./main 2. 내 프로젝트에서 사용 (라이브러리 수동으로 설정) CMake 수동 지정 : target_include_directories, target_link_directories, target_link_libraries 별도 지정 Makefile 사용 : -I -l -L 등의 옵션 추가 vcpkg/installed/triplet 디렉토리 참고 수동으로 include, lib 등 지정 사용 triplet/include : header files triplet/lib : static library triplet/bin : shared library $ tree vcpkg/installed -L 3 vcpkg/installed ├── vcpkg ... ├── x64-mingw-static │ ├── debug │ │ └── lib │ ├── include │ │ ├── benchmark │ │ ├── httplib.h │ │ ├── nlohmann │ │ ├── openssl │ │ ├── zconf.h │ │ └── zlib.h │ ├── lib │ │ ├── libbenchmark.a │ │ ├── libbenchmark_main.a │ │ ├── libcrypto.a │ │ ├── libssl.a │ │ ├── libzlib.a │ │ └── pkgconfig │ └── share │ ├── benchmark │ ├── cpp-httplib │ ├── nlohmann-json │ ├── nlohmann_json │ ├── openssl │ └── zlib ├── x64-windows │ ├── bin │ │ ├── fmt.dll │ │ └── fmt.pdb │ ├── debug │ │ ├── bin │ │ └── lib │ ├── include │ │ └── fmt │ ├── lib │ │ ├── fmt.lib │ │ └── pkgconfig │ └── share │ ├── fmt │ ├── vcpkg-cmake │ └── vcpkg-cmake-config └── x64-windows-static ├── debug │ ├── lib │ └── misc ├── include │ ├── benchmark │ ├── fmt │ ├── httplib.h │ ├── nlohmann │ ├── openssl │ ├── zconf.h │ └── zlib.h ├── lib │ ├── benchmark.lib │ ├── benchmark_main.lib │ ├── fmt.lib │ ├── libcrypto.lib │ ├── libssl.lib │ ├── ossl_static.pdb │ ├── pkgconfig │ └── zlib.lib ├── misc │ ├── CA.pl │ └── tsget.pl ├── share │ ├── benchmark │ ├── cpp-httplib │ ├── fmt │ ├── nlohmann-json │ ├── nlohmann_json │ ├── openssl │ └── zlib └── tools └── openssl '><meta property="og:locale" content="ko-kr"><meta property="og:type" content="article"><meta property="article:section" content="dev"><meta property="article:published_time" content="2021-08-18T00:00:00+09:00"><meta property="article:modified_time" content="2021-08-18T00:00:00+09:00"><meta property="article:tag" content="C++"><meta property="article:tag" content="Vcpkg"><meta property="article:tag" content="Cmake"><meta property="article:tag" content="Triplet"><meta name=twitter:card content="summary"><meta name=twitter:title content="Vcpkg Basic"><meta name=twitter:description content='https://vcpkg.io/{:target="_blank"}
Vcpkg helps you manage C and C++ libraries on Windows, Linux and MacOS. This tool and ecosystem are constantly evolving, and we always appreciate contributions!
Introduction

https://github.com/microsoft/vcpkg{:target="_blank"}
MS에서 만든 C++ Library Package 관리 (Cross Platform)

Vcpkg install

Git 이 필요하고, bootstrap-vcpkg 실행으로 필요한 툴을 다운로드(빌드)하는 작업을 수행

vcpkg.exe 생성



$ git clone https://github.com/microsoft/vcpkg
$ cd vcpkg

# windows
$ bootstrap-vcpkg.bat

# linux 
$ ./bootstrap-vcpkg.sh
Package search & install

triplet : Target configuration set
설치시 triplet 을 지정하지 않으면 설치되어 있는 기본 C++ Toolset 으로 지정

Windows의 경우 x86-windows default



주요 Triplet list

vcpkg help triplet

$ vcpkg help triplet
Available architecture triplets
VCPKG built-in triplets:
...
  x64-windows-static
  x64-windows
  x86-windows
...
VCPKG community triplets:
...
  x64-windows-static-md
  x86-windows-static-md
  x86-windows-static
  x64-mingw-dynamic
  x64-mingw-static
  x86-mingw-dynamic
  x86-mingw-static  
  x64-linux
...
Search

vcpkg search

# Package search 
$ vcpkg search fmt
fmt                      7.1.3#5          Formatting library for C++. ...
The search result may be outdated. Run `git pull` to get the latest results. 
Install

vcpkg install
vcpkg search 에서 찾은 패키지를 triplet 을 지정하여 설치
설치가 완료되면 프로젝트 CMakeLists.txt 넣을 find_package 문 표시

# Package 별로 triplet 지정 
$ vcpkg.exe install fmt:x64-windows-static nlohmann-json:x64-windows-static

# triplet 공통 지정 
$ vcpkg.exe install fmt nlohmann-json --triplet=x64-windows-static
...
The package fmt provides CMake targets:

    find_package(fmt CONFIG REQUIRED)
    target_link_libraries(main PRIVATE fmt::fmt)

    # Or use the header-only version
    find_package(fmt CONFIG REQUIRED)
    target_link_libraries(main PRIVATE fmt::fmt-header-only)

The package nlohmann-json:x64-windows-static provides CMake targets:

    find_package(nlohmann_json CONFIG REQUIRED)
    target_link_libraries(main PRIVATE nlohmann_json nlohmann_json::nlohmann_json)
설치된 리스트

vcpkg list

# Package installed list 
$ vcpkg list
benchmark:x64-mingw-static                         1.5.5            A library to support the benchmarking of functio...
benchmark:x64-windows-static                       1.5.5            A library to support the benchmarking of functio...
cpp-httplib:x64-mingw-static                       0.9.1            A single file C++11 header-only HTTP/HTTPS serve...
cpp-httplib:x64-windows-static                     0.9.1            A single file C++11 header-only HTTP/HTTPS serve...
fmt:x64-windows                                    7.1.3#5          Formatting library for C++. It can be used as a ...
fmt:x64-windows-static                             7.1.3#5          Formatting library for C++. It can be used as a ...
nlohmann-json:x64-mingw-static                     3.9.1            JSON for Modern C++
nlohmann-json:x64-windows-static                   3.9.1            JSON for Modern C++
openssl:x64-mingw-static                           1.1.1k#8         OpenSSL is an open source project that provides ...
openssl:x64-windows-static                         1.1.1k#8         OpenSSL is an open source project that provides ...
vcpkg-cmake-config:x64-windows                     2021-05-22#1
vcpkg-cmake:x64-windows                            2021-07-30
zlib:x64-mingw-static                              1.2.11#11        A compression library
zlib:x64-windows-static                            1.2.11#11        A compression library
Integrate install

vcpkg integrate install
Windows Visual Studio에서 vcpkg 라이브러리를 별도 설정 없이 바로 사용

$ vcpkg integrate install
Applied user-wide integration for this vcpkg root.

All MSBuild C++ projects can now #include any installed libraries.
Linking will be handled automatically.
Installing new libraries will make them instantly available.

CMake projects should use: "-DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake"
vcpkg 명령어
# Vcpkg package management program version 2021-08-12-85ab112d5ee102bc6eac8cdbbfdd173a71374e04
$ vcpkg help
Commands:
  vcpkg search [pat]              Search for packages available to be built
  vcpkg install <pkg>...          Install a package
  vcpkg remove <pkg>...           Uninstall a package
  vcpkg remove --outdated         Uninstall all out-of-date packages
  vcpkg list                      List installed packages
  vcpkg update                    Display list of packages for updating
  vcpkg upgrade                   Rebuild all outdated packages
  vcpkg x-history <pkg>           (Experimental) Shows the history of CONTROL versions of a package
  vcpkg hash <file> [alg]         Hash a file by specific algorithm, default SHA512
  vcpkg help topics               Display the list of help topics
  vcpkg help <topic>              Display help for a specific topic

  vcpkg integrate install         Make installed packages available user-wide. Requires admin
                                  privileges on first use
  vcpkg integrate remove          Remove user-wide integration
  vcpkg integrate project         Generate a referencing nuget package for individual VS project use
  vcpkg integrate powershell      Enable PowerShell tab-completion

  vcpkg export <pkg>... [opt]...  Exports a package
  vcpkg edit <pkg>                Open up a port for editing (uses %EDITOR%, default &#39;code&#39;)
  vcpkg create <pkg> <url> [archivename]
                                  Create a new package
  vcpkg x-init-registry <path>    Initializes a registry in the directory <path>
  vcpkg owns <pat>                Search for files in installed packages
  vcpkg depend-info <pkg>...      Display a list of dependencies for packages
  vcpkg env                       Creates a clean shell environment for development or compiling
  vcpkg version                   Display version information
  vcpkg contact                   Display contact information to send feedback
...

1. 내 프로젝트에서 사용 (CMake, find_package)

CMakeLists.txt 에 find_package 내용 추가

CMakeLists.txt
cmake_minimum_required(VERSION 3.11)

project(main)
set(CMAKE_CXX_STANDARD 17)

add_executable(main main.cpp)

if(MSVC)
	target_compile_options(main PRIVATE /MT)
else()
	target_compile_options(main PRIVATE -Wall -O2)
endif()

find_package(fmt CONFIG REQUIRED)
target_link_libraries(main PRIVATE fmt::fmt)

find_package(nlohmann_json CONFIG REQUIRED)
target_link_libraries(main PRIVATE nlohmann_json nlohmann_json::nlohmann_json)
CMake 초기화

CMAKE_TOOLCHAIN_FILE 과 VCPKG_TARGET_TRIPLET 을 지정하여 초기화

CMAKE_TOOLCHAIN_FILE : vcpkg/scripts/buildsystems/vcpkg.cmake



$ mkdir build && cd build

# windows msvc 
$ cmake -G "Visual Studio 16 2019" -A x64 .. -DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET=x64-windows-static

# windows mingw
$ cmake -G "MSYS Makefiles" .. -DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET=x64-mingw-static

# linux : VCPKG_TARGET_TRIPLET 지정안함, defualt 사용 
$ cmake cmake .. -DCMAKE_TOOLCHAIN_FILE=~/lib/vcpkg/scripts/buildsystems/vcpkg.cmake
Build
# windows msvc : Release 모드 빌드 
$ cmake --build . --config=Release
# run 
$ Release\main.exe

# mingw, linux 
$ make 
$ ./main
2. 내 프로젝트에서 사용 (라이브러리 수동으로 설정)

CMake 수동 지정 : target_include_directories, target_link_directories, target_link_libraries 별도 지정
Makefile 사용 : -I -l -L 등의 옵션 추가

vcpkg/installed/triplet 디렉토리 참고

수동으로 include, lib 등 지정 사용

triplet/include : header files
triplet/lib : static library
triplet/bin : shared library



$  tree vcpkg/installed -L 3
vcpkg/installed
├── vcpkg
...
├── x64-mingw-static
│   ├── debug
│   │   └── lib
│   ├── include
│   │   ├── benchmark
│   │   ├── httplib.h
│   │   ├── nlohmann
│   │   ├── openssl
│   │   ├── zconf.h
│   │   └── zlib.h
│   ├── lib
│   │   ├── libbenchmark.a
│   │   ├── libbenchmark_main.a
│   │   ├── libcrypto.a
│   │   ├── libssl.a
│   │   ├── libzlib.a
│   │   └── pkgconfig
│   └── share
│       ├── benchmark
│       ├── cpp-httplib
│       ├── nlohmann-json
│       ├── nlohmann_json
│       ├── openssl
│       └── zlib
├── x64-windows
│   ├── bin
│   │   ├── fmt.dll
│   │   └── fmt.pdb
│   ├── debug
│   │   ├── bin
│   │   └── lib
│   ├── include
│   │   └── fmt
│   ├── lib
│   │   ├── fmt.lib
│   │   └── pkgconfig
│   └── share
│       ├── fmt
│       ├── vcpkg-cmake
│       └── vcpkg-cmake-config
└── x64-windows-static
    ├── debug
    │   ├── lib
    │   └── misc
    ├── include
    │   ├── benchmark
    │   ├── fmt
    │   ├── httplib.h
    │   ├── nlohmann
    │   ├── openssl
    │   ├── zconf.h
    │   └── zlib.h
    ├── lib
    │   ├── benchmark.lib
    │   ├── benchmark_main.lib
    │   ├── fmt.lib
    │   ├── libcrypto.lib
    │   ├── libssl.lib
    │   ├── ossl_static.pdb
    │   ├── pkgconfig
    │   └── zlib.lib
    ├── misc
    │   ├── CA.pl
    │   └── tsget.pl
    ├── share
    │   ├── benchmark
    │   ├── cpp-httplib
    │   ├── fmt
    │   ├── nlohmann-json
    │   ├── nlohmann_json
    │   ├── openssl
    │   └── zlib
    └── tools
        └── openssl
'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Devs","item":"https://cdecl.github.io/dev/"},{"@type":"ListItem","position":2,"name":"Vcpkg Basic","item":"https://cdecl.github.io/dev/vcpkg-basic/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Vcpkg Basic","name":"Vcpkg Basic","description":"https://vcpkg.io/{:target=\u0026quot;_blank\u0026quot;}\nVcpkg helps you manage C and C++ libraries on Windows, Linux and MacOS. This tool and ecosystem are constantly evolving, and we always appreciate contributions!\nIntroduction https://github.com/microsoft/vcpkg{:target=\u0026quot;_blank\u0026quot;} MS에서 만든 C++ Library Package 관리 (Cross Platform) Vcpkg install Git 이 필요하고, bootstrap-vcpkg 실행으로 필요한 툴을 다운로드(빌드)하는 작업을 수행 vcpkg.exe 생성 $ git clone https://github.com/microsoft/vcpkg $ cd vcpkg # windows $ bootstrap-vcpkg.bat # linux $ ./bootstrap-vcpkg.sh Package search \u0026amp; install triplet : Target configuration set 설치시 triplet 을 지정하지 않으면 설치되어 있는 기본 C++ Toolset 으로 지정 Windows의 경우 x86-windows default 주요 Triplet list vcpkg help triplet $ vcpkg help triplet Available architecture triplets VCPKG built-in triplets: ... x64-windows-static x64-windows x86-windows ... VCPKG community triplets: ... x64-windows-static-md x86-windows-static-md x86-windows-static x64-mingw-dynamic x64-mingw-static x86-mingw-dynamic x86-mingw-static x64-linux ... Search vcpkg search # Package search $ vcpkg search fmt fmt 7.1.3#5 Formatting library for C++. ... The search result may be outdated. Run `git pull` to get the latest results. Install vcpkg install vcpkg search 에서 찾은 패키지를 triplet 을 지정하여 설치 설치가 완료되면 프로젝트 CMakeLists.txt 넣을 find_package 문 표시 # Package 별로 triplet 지정 $ vcpkg.exe install fmt:x64-windows-static nlohmann-json:x64-windows-static # triplet 공통 지정 $ vcpkg.exe install fmt nlohmann-json --triplet=x64-windows-static ... The package fmt provides CMake targets: find_package(fmt CONFIG REQUIRED) target_link_libraries(main PRIVATE fmt::fmt) # Or use the header-only version find_package(fmt CONFIG REQUIRED) target_link_libraries(main PRIVATE fmt::fmt-header-only) The package nlohmann-json:x64-windows-static provides CMake targets: find_package(nlohmann_json CONFIG REQUIRED) target_link_libraries(main PRIVATE nlohmann_json nlohmann_json::nlohmann_json) 설치된 리스트 vcpkg list # Package installed list $ vcpkg list benchmark:x64-mingw-static 1.5.5 A library to support the benchmarking of functio... benchmark:x64-windows-static 1.5.5 A library to support the benchmarking of functio... cpp-httplib:x64-mingw-static 0.9.1 A single file C++11 header-only HTTP/HTTPS serve... cpp-httplib:x64-windows-static 0.9.1 A single file C++11 header-only HTTP/HTTPS serve... fmt:x64-windows 7.1.3#5 Formatting library for C++. It can be used as a ... fmt:x64-windows-static 7.1.3#5 Formatting library for C++. It can be used as a ... nlohmann-json:x64-mingw-static 3.9.1 JSON for Modern C++ nlohmann-json:x64-windows-static 3.9.1 JSON for Modern C++ openssl:x64-mingw-static 1.1.1k#8 OpenSSL is an open source project that provides ... openssl:x64-windows-static 1.1.1k#8 OpenSSL is an open source project that provides ... vcpkg-cmake-config:x64-windows 2021-05-22#1 vcpkg-cmake:x64-windows 2021-07-30 zlib:x64-mingw-static 1.2.11#11 A compression library zlib:x64-windows-static 1.2.11#11 A compression library Integrate install vcpkg integrate install Windows Visual Studio에서 vcpkg 라이브러리를 별도 설정 없이 바로 사용 $ vcpkg integrate install Applied user-wide integration for this vcpkg root. All MSBuild C++ projects can now #include any installed libraries. Linking will be handled automatically. Installing new libraries will make them instantly available. CMake projects should use: \u0026#34;-DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake\u0026#34; vcpkg 명령어 # Vcpkg package management program version 2021-08-12-85ab112d5ee102bc6eac8cdbbfdd173a71374e04 $ vcpkg help Commands: vcpkg search [pat] Search for packages available to be built vcpkg install \u0026lt;pkg\u0026gt;... Install a package vcpkg remove \u0026lt;pkg\u0026gt;... Uninstall a package vcpkg remove --outdated Uninstall all out-of-date packages vcpkg list List installed packages vcpkg update Display list of packages for updating vcpkg upgrade Rebuild all outdated packages vcpkg x-history \u0026lt;pkg\u0026gt; (Experimental) Shows the history of CONTROL versions of a package vcpkg hash \u0026lt;file\u0026gt; [alg] Hash a file by specific algorithm, default SHA512 vcpkg help topics Display the list of help topics vcpkg help \u0026lt;topic\u0026gt; Display help for a specific topic vcpkg integrate install Make installed packages available user-wide. Requires admin privileges on first use vcpkg integrate remove Remove user-wide integration vcpkg integrate project Generate a referencing nuget package for individual VS project use vcpkg integrate powershell Enable PowerShell tab-completion vcpkg export \u0026lt;pkg\u0026gt;... [opt]... Exports a package vcpkg edit \u0026lt;pkg\u0026gt; Open up a port for editing (uses %EDITOR%, default \u0026#39;code\u0026#39;) vcpkg create \u0026lt;pkg\u0026gt; \u0026lt;url\u0026gt; [archivename] Create a new package vcpkg x-init-registry \u0026lt;path\u0026gt; Initializes a registry in the directory \u0026lt;path\u0026gt; vcpkg owns \u0026lt;pat\u0026gt; Search for files in installed packages vcpkg depend-info \u0026lt;pkg\u0026gt;... Display a list of dependencies for packages vcpkg env Creates a clean shell environment for development or compiling vcpkg version Display version information vcpkg contact Display contact information to send feedback ... 1. 내 프로젝트에서 사용 (CMake, find_package) CMakeLists.txt 에 find_package 내용 추가 CMakeLists.txt cmake_minimum_required(VERSION 3.11) project(main) set(CMAKE_CXX_STANDARD 17) add_executable(main main.cpp) if(MSVC) target_compile_options(main PRIVATE /MT) else() target_compile_options(main PRIVATE -Wall -O2) endif() find_package(fmt CONFIG REQUIRED) target_link_libraries(main PRIVATE fmt::fmt) find_package(nlohmann_json CONFIG REQUIRED) target_link_libraries(main PRIVATE nlohmann_json nlohmann_json::nlohmann_json) CMake 초기화 CMAKE_TOOLCHAIN_FILE 과 VCPKG_TARGET_TRIPLET 을 지정하여 초기화 CMAKE_TOOLCHAIN_FILE : vcpkg/scripts/buildsystems/vcpkg.cmake $ mkdir build \u0026amp;\u0026amp; cd build # windows msvc $ cmake -G \u0026#34;Visual Studio 16 2019\u0026#34; -A x64 .. -DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET=x64-windows-static # windows mingw $ cmake -G \u0026#34;MSYS Makefiles\u0026#34; .. -DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET=x64-mingw-static # linux : VCPKG_TARGET_TRIPLET 지정안함, defualt 사용 $ cmake cmake .. -DCMAKE_TOOLCHAIN_FILE=~/lib/vcpkg/scripts/buildsystems/vcpkg.cmake Build # windows msvc : Release 모드 빌드 $ cmake --build . --config=Release # run $ Release\\main.exe # mingw, linux $ make $ ./main 2. 내 프로젝트에서 사용 (라이브러리 수동으로 설정) CMake 수동 지정 : target_include_directories, target_link_directories, target_link_libraries 별도 지정 Makefile 사용 : -I -l -L 등의 옵션 추가 vcpkg/installed/triplet 디렉토리 참고 수동으로 include, lib 등 지정 사용 triplet/include : header files triplet/lib : static library triplet/bin : shared library $ tree vcpkg/installed -L 3 vcpkg/installed ├── vcpkg ... ├── x64-mingw-static │ ├── debug │ │ └── lib │ ├── include │ │ ├── benchmark │ │ ├── httplib.h │ │ ├── nlohmann │ │ ├── openssl │ │ ├── zconf.h │ │ └── zlib.h │ ├── lib │ │ ├── libbenchmark.a │ │ ├── libbenchmark_main.a │ │ ├── libcrypto.a │ │ ├── libssl.a │ │ ├── libzlib.a │ │ └── pkgconfig │ └── share │ ├── benchmark │ ├── cpp-httplib │ ├── nlohmann-json │ ├── nlohmann_json │ ├── openssl │ └── zlib ├── x64-windows │ ├── bin │ │ ├── fmt.dll │ │ └── fmt.pdb │ ├── debug │ │ ├── bin │ │ └── lib │ ├── include │ │ └── fmt │ ├── lib │ │ ├── fmt.lib │ │ └── pkgconfig │ └── share │ ├── fmt │ ├── vcpkg-cmake │ └── vcpkg-cmake-config └── x64-windows-static ├── debug │ ├── lib │ └── misc ├── include │ ├── benchmark │ ├── fmt │ ├── httplib.h │ ├── nlohmann │ ├── openssl │ ├── zconf.h │ └── zlib.h ├── lib │ ├── benchmark.lib │ ├── benchmark_main.lib │ ├── fmt.lib │ ├── libcrypto.lib │ ├── libssl.lib │ ├── ossl_static.pdb │ ├── pkgconfig │ └── zlib.lib ├── misc │ ├── CA.pl │ └── tsget.pl ├── share │ ├── benchmark │ ├── cpp-httplib │ ├── fmt │ ├── nlohmann-json │ ├── nlohmann_json │ ├── openssl │ └── zlib └── tools └── openssl ","keywords":["c++","vcpkg","cmake","triplet"],"articleBody":"https://vcpkg.io/{:target=\"_blank\"}\nVcpkg helps you manage C and C++ libraries on Windows, Linux and MacOS. This tool and ecosystem are constantly evolving, and we always appreciate contributions!\nIntroduction https://github.com/microsoft/vcpkg{:target=\"_blank\"} MS에서 만든 C++ Library Package 관리 (Cross Platform) Vcpkg install Git 이 필요하고, bootstrap-vcpkg 실행으로 필요한 툴을 다운로드(빌드)하는 작업을 수행 vcpkg.exe 생성 $ git clone https://github.com/microsoft/vcpkg $ cd vcpkg # windows $ bootstrap-vcpkg.bat # linux $ ./bootstrap-vcpkg.sh Package search \u0026 install triplet : Target configuration set 설치시 triplet 을 지정하지 않으면 설치되어 있는 기본 C++ Toolset 으로 지정 Windows의 경우 x86-windows default 주요 Triplet list vcpkg help triplet $ vcpkg help triplet Available architecture triplets VCPKG built-in triplets: ... x64-windows-static x64-windows x86-windows ... VCPKG community triplets: ... x64-windows-static-md x86-windows-static-md x86-windows-static x64-mingw-dynamic x64-mingw-static x86-mingw-dynamic x86-mingw-static x64-linux ... Search vcpkg search # Package search $ vcpkg search fmt fmt 7.1.3#5 Formatting library for C++. ... The search result may be outdated. Run `git pull` to get the latest results. Install vcpkg install vcpkg search 에서 찾은 패키지를 triplet 을 지정하여 설치 설치가 완료되면 프로젝트 CMakeLists.txt 넣을 find_package 문 표시 # Package 별로 triplet 지정 $ vcpkg.exe install fmt:x64-windows-static nlohmann-json:x64-windows-static # triplet 공통 지정 $ vcpkg.exe install fmt nlohmann-json --triplet=x64-windows-static ... The package fmt provides CMake targets: find_package(fmt CONFIG REQUIRED) target_link_libraries(main PRIVATE fmt::fmt) # Or use the header-only version find_package(fmt CONFIG REQUIRED) target_link_libraries(main PRIVATE fmt::fmt-header-only) The package nlohmann-json:x64-windows-static provides CMake targets: find_package(nlohmann_json CONFIG REQUIRED) target_link_libraries(main PRIVATE nlohmann_json nlohmann_json::nlohmann_json) 설치된 리스트 vcpkg list # Package installed list $ vcpkg list benchmark:x64-mingw-static 1.5.5 A library to support the benchmarking of functio... benchmark:x64-windows-static 1.5.5 A library to support the benchmarking of functio... cpp-httplib:x64-mingw-static 0.9.1 A single file C++11 header-only HTTP/HTTPS serve... cpp-httplib:x64-windows-static 0.9.1 A single file C++11 header-only HTTP/HTTPS serve... fmt:x64-windows 7.1.3#5 Formatting library for C++. It can be used as a ... fmt:x64-windows-static 7.1.3#5 Formatting library for C++. It can be used as a ... nlohmann-json:x64-mingw-static 3.9.1 JSON for Modern C++ nlohmann-json:x64-windows-static 3.9.1 JSON for Modern C++ openssl:x64-mingw-static 1.1.1k#8 OpenSSL is an open source project that provides ... openssl:x64-windows-static 1.1.1k#8 OpenSSL is an open source project that provides ... vcpkg-cmake-config:x64-windows 2021-05-22#1 vcpkg-cmake:x64-windows 2021-07-30 zlib:x64-mingw-static 1.2.11#11 A compression library zlib:x64-windows-static 1.2.11#11 A compression library Integrate install vcpkg integrate install Windows Visual Studio에서 vcpkg 라이브러리를 별도 설정 없이 바로 사용 $ vcpkg integrate install Applied user-wide integration for this vcpkg root. All MSBuild C++ projects can now #include any installed libraries. Linking will be handled automatically. Installing new libraries will make them instantly available. CMake projects should use: \"-DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake\" vcpkg 명령어 # Vcpkg package management program version 2021-08-12-85ab112d5ee102bc6eac8cdbbfdd173a71374e04 $ vcpkg help Commands: vcpkg search [pat] Search for packages available to be built vcpkg install ... Install a package vcpkg remove ... Uninstall a package vcpkg remove --outdated Uninstall all out-of-date packages vcpkg list List installed packages vcpkg update Display list of packages for updating vcpkg upgrade Rebuild all outdated packages vcpkg x-history (Experimental) Shows the history of CONTROL versions of a package vcpkg hash [alg] Hash a file by specific algorithm, default SHA512 vcpkg help topics Display the list of help topics vcpkg help Display help for a specific topic vcpkg integrate install Make installed packages available user-wide. Requires admin privileges on first use vcpkg integrate remove Remove user-wide integration vcpkg integrate project Generate a referencing nuget package for individual VS project use vcpkg integrate powershell Enable PowerShell tab-completion vcpkg export ... [opt]... Exports a package vcpkg edit Open up a port for editing (uses %EDITOR%, default 'code') vcpkg create [archivename] Create a new package vcpkg x-init-registry Initializes a registry in the directory vcpkg owns Search for files in installed packages vcpkg depend-info ... Display a list of dependencies for packages vcpkg env Creates a clean shell environment for development or compiling vcpkg version Display version information vcpkg contact Display contact information to send feedback ... 1. 내 프로젝트에서 사용 (CMake, find_package) CMakeLists.txt 에 find_package 내용 추가 CMakeLists.txt cmake_minimum_required(VERSION 3.11) project(main) set(CMAKE_CXX_STANDARD 17) add_executable(main main.cpp) if(MSVC) target_compile_options(main PRIVATE /MT) else() target_compile_options(main PRIVATE -Wall -O2) endif() find_package(fmt CONFIG REQUIRED) target_link_libraries(main PRIVATE fmt::fmt) find_package(nlohmann_json CONFIG REQUIRED) target_link_libraries(main PRIVATE nlohmann_json nlohmann_json::nlohmann_json) CMake 초기화 CMAKE_TOOLCHAIN_FILE 과 VCPKG_TARGET_TRIPLET 을 지정하여 초기화 CMAKE_TOOLCHAIN_FILE : vcpkg/scripts/buildsystems/vcpkg.cmake $ mkdir build \u0026\u0026 cd build # windows msvc $ cmake -G \"Visual Studio 16 2019\" -A x64 .. -DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET=x64-windows-static # windows mingw $ cmake -G \"MSYS Makefiles\" .. -DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET=x64-mingw-static # linux : VCPKG_TARGET_TRIPLET 지정안함, defualt 사용 $ cmake cmake .. -DCMAKE_TOOLCHAIN_FILE=~/lib/vcpkg/scripts/buildsystems/vcpkg.cmake Build # windows msvc : Release 모드 빌드 $ cmake --build . --config=Release # run $ Release\\main.exe # mingw, linux $ make $ ./main 2. 내 프로젝트에서 사용 (라이브러리 수동으로 설정) CMake 수동 지정 : target_include_directories, target_link_directories, target_link_libraries 별도 지정 Makefile 사용 : -I -l -L 등의 옵션 추가 vcpkg/installed/triplet 디렉토리 참고 수동으로 include, lib 등 지정 사용 triplet/include : header files triplet/lib : static library triplet/bin : shared library $ tree vcpkg/installed -L 3 vcpkg/installed ├── vcpkg ... ├── x64-mingw-static │ ├── debug │ │ └── lib │ ├── include │ │ ├── benchmark │ │ ├── httplib.h │ │ ├── nlohmann │ │ ├── openssl │ │ ├── zconf.h │ │ └── zlib.h │ ├── lib │ │ ├── libbenchmark.a │ │ ├── libbenchmark_main.a │ │ ├── libcrypto.a │ │ ├── libssl.a │ │ ├── libzlib.a │ │ └── pkgconfig │ └── share │ ├── benchmark │ ├── cpp-httplib │ ├── nlohmann-json │ ├── nlohmann_json │ ├── openssl │ └── zlib ├── x64-windows │ ├── bin │ │ ├── fmt.dll │ │ └── fmt.pdb │ ├── debug │ │ ├── bin │ │ └── lib │ ├── include │ │ └── fmt │ ├── lib │ │ ├── fmt.lib │ │ └── pkgconfig │ └── share │ ├── fmt │ ├── vcpkg-cmake │ └── vcpkg-cmake-config └── x64-windows-static ├── debug │ ├── lib │ └── misc ├── include │ ├── benchmark │ ├── fmt │ ├── httplib.h │ ├── nlohmann │ ├── openssl │ ├── zconf.h │ └── zlib.h ├── lib │ ├── benchmark.lib │ ├── benchmark_main.lib │ ├── fmt.lib │ ├── libcrypto.lib │ ├── libssl.lib │ ├── ossl_static.pdb │ ├── pkgconfig │ └── zlib.lib ├── misc │ ├── CA.pl │ └── tsget.pl ├── share │ ├── benchmark │ ├── cpp-httplib │ ├── fmt │ ├── nlohmann-json │ ├── nlohmann_json │ ├── openssl │ └── zlib └── tools └── openssl ","wordCount":"1044","inLanguage":"en","datePublished":"2021-08-18T00:00:00+09:00","dateModified":"2021-08-18T00:00:00+09:00","author":{"@type":"Person","name":"Byung Kyu KIM"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://cdecl.github.io/dev/vcpkg-basic/"},"publisher":{"@type":"Organization","name":"cdeclog","logo":{"@type":"ImageObject","url":"https://cdecl.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://cdecl.github.io/ accesskey=h title="cdeclog (Alt + H)">cdeclog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://cdecl.github.io/dev/ title=Dev><span>Dev</span></a></li><li><a href=https://cdecl.github.io/devops/ title=DevOps><span>DevOps</span></a></li><li><a href=https://cdecl.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://cdecl.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://cdecl.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Vcpkg Basic</h1><div class=post-meta><span title='2021-08-18 00:00:00 +0900 KST'>August 18, 2021</span>&nbsp;·&nbsp;<span>Byung Kyu KIM</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a><ul><li><a href=#vcpkg-install aria-label="Vcpkg install">Vcpkg install</a></li><li><a href=#package-search--install aria-label="Package search & install">Package search & install</a><ul><li><a href=#%ec%a3%bc%ec%9a%94-triplet-list aria-label="주요 Triplet list">주요 Triplet list</a></li><li><a href=#search aria-label=Search>Search</a></li><li><a href=#install aria-label=Install>Install</a></li><li><a href=#%ec%84%a4%ec%b9%98%eb%90%9c-%eb%a6%ac%ec%8a%a4%ed%8a%b8 aria-label="설치된 리스트">설치된 리스트</a></li></ul></li><li><a href=#integrate-install aria-label="Integrate install">Integrate install</a></li><li><a href=#vcpkg-%eb%aa%85%eb%a0%b9%ec%96%b4 aria-label="vcpkg 명령어">vcpkg 명령어</a></li><li><a href=#1-%eb%82%b4-%ed%94%84%eb%a1%9c%ec%a0%9d%ed%8a%b8%ec%97%90%ec%84%9c-%ec%82%ac%ec%9a%a9-cmake-find_package aria-label="1. 내 프로젝트에서 사용 (CMake, find_package)">1. 내 프로젝트에서 사용 (CMake, find_package)</a><ul><li><a href=#cmakeliststxt aria-label=CMakeLists.txt>CMakeLists.txt</a></li><li><a href=#cmake-%ec%b4%88%ea%b8%b0%ed%99%94 aria-label="CMake 초기화">CMake 초기화</a></li><li><a href=#build aria-label=Build>Build</a></li></ul></li><li><a href=#2-%eb%82%b4-%ed%94%84%eb%a1%9c%ec%a0%9d%ed%8a%b8%ec%97%90%ec%84%9c-%ec%82%ac%ec%9a%a9-%eb%9d%bc%ec%9d%b4%eb%b8%8c%eb%9f%ac%eb%a6%ac-%ec%88%98%eb%8f%99%ec%9c%bc%eb%a1%9c-%ec%84%a4%ec%a0%95 aria-label="2. 내 프로젝트에서 사용 (라이브러리 수동으로 설정)">2. 내 프로젝트에서 사용 (라이브러리 수동으로 설정)</a><ul><li><a href=#vcpkginstalledtriplet-%eb%94%94%eb%a0%89%ed%86%a0%eb%a6%ac-%ec%b0%b8%ea%b3%a0 aria-label="vcpkg/installed/triplet 디렉토리 참고">vcpkg/installed/triplet 디렉토리 참고</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><p><a href=https://vcpkg.io/>https://vcpkg.io/</a>{:target="_blank"}<br>Vcpkg helps you manage C and C++ libraries on Windows, Linux and MacOS. This tool and ecosystem are constantly evolving, and we always appreciate contributions!</p><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><ul><li><a href=https://github.com/microsoft/vcpkg>https://github.com/microsoft/vcpkg</a>{:target="_blank"}</li><li>MS에서 만든 C++ Library Package 관리 (Cross Platform)</li></ul><h3 id=vcpkg-install>Vcpkg install<a hidden class=anchor aria-hidden=true href=#vcpkg-install>#</a></h3><ul><li>Git 이 필요하고, bootstrap-vcpkg 실행으로 필요한 툴을 다운로드(빌드)하는 작업을 수행<ul><li><code>vcpkg.exe</code> 생성</li></ul></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ git clone https://github.com/microsoft/vcpkg
</span></span><span style=display:flex><span>$ cd vcpkg
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># windows</span>
</span></span><span style=display:flex><span>$ bootstrap-vcpkg.bat
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># linux </span>
</span></span><span style=display:flex><span>$ ./bootstrap-vcpkg.sh
</span></span></code></pre></div><h3 id=package-search--install>Package search & install<a hidden class=anchor aria-hidden=true href=#package-search--install>#</a></h3><ul><li><code>triplet</code> : Target configuration set</li><li>설치시 <code>triplet</code> 을 지정하지 않으면 설치되어 있는 기본 C++ Toolset 으로 지정<ul><li>Windows의 경우 <code>x86-windows</code> default</li></ul></li></ul><h4 id=주요-triplet-list>주요 Triplet list<a hidden class=anchor aria-hidden=true href=#주요-triplet-list>#</a></h4><ul><li><code>vcpkg help triplet</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ vcpkg help triplet
</span></span><span style=display:flex><span>Available architecture triplets
</span></span><span style=display:flex><span>VCPKG built-in triplets:
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>  x64-windows-static
</span></span><span style=display:flex><span>  x64-windows
</span></span><span style=display:flex><span>  x86-windows
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>VCPKG community triplets:
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>  x64-windows-static-md
</span></span><span style=display:flex><span>  x86-windows-static-md
</span></span><span style=display:flex><span>  x86-windows-static
</span></span><span style=display:flex><span>  x64-mingw-dynamic
</span></span><span style=display:flex><span>  x64-mingw-static
</span></span><span style=display:flex><span>  x86-mingw-dynamic
</span></span><span style=display:flex><span>  x86-mingw-static  
</span></span><span style=display:flex><span>  x64-linux
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><h4 id=search>Search<a hidden class=anchor aria-hidden=true href=#search>#</a></h4><ul><li><code>vcpkg search</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># Package search </span>
</span></span><span style=display:flex><span>$ vcpkg search fmt
</span></span><span style=display:flex><span>fmt                      7.1.3#5          Formatting library <span style=color:#66d9ef>for</span> C++. ...
</span></span><span style=display:flex><span>The search result may be outdated. Run <span style=color:#e6db74>`</span>git pull<span style=color:#e6db74>`</span> to get the latest results. 
</span></span></code></pre></div><h4 id=install>Install<a hidden class=anchor aria-hidden=true href=#install>#</a></h4><ul><li><code>vcpkg install</code></li><li><code>vcpkg search</code> 에서 찾은 패키지를 triplet 을 지정하여 설치</li><li>설치가 완료되면 프로젝트 CMakeLists.txt 넣을 find_package 문 표시</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># Package 별로 triplet 지정 </span>
</span></span><span style=display:flex><span>$ vcpkg.exe install fmt:x64-windows-static nlohmann-json:x64-windows-static
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># triplet 공통 지정 </span>
</span></span><span style=display:flex><span>$ vcpkg.exe install fmt nlohmann-json --triplet<span style=color:#f92672>=</span>x64-windows-static
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>The package fmt provides CMake targets:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    find_package<span style=color:#f92672>(</span>fmt CONFIG REQUIRED<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    target_link_libraries<span style=color:#f92672>(</span>main PRIVATE fmt::fmt<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Or use the header-only version</span>
</span></span><span style=display:flex><span>    find_package<span style=color:#f92672>(</span>fmt CONFIG REQUIRED<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    target_link_libraries<span style=color:#f92672>(</span>main PRIVATE fmt::fmt-header-only<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>The package nlohmann-json:x64-windows-static provides CMake targets:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    find_package<span style=color:#f92672>(</span>nlohmann_json CONFIG REQUIRED<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    target_link_libraries<span style=color:#f92672>(</span>main PRIVATE nlohmann_json nlohmann_json::nlohmann_json<span style=color:#f92672>)</span>
</span></span></code></pre></div><h4 id=설치된-리스트>설치된 리스트<a hidden class=anchor aria-hidden=true href=#설치된-리스트>#</a></h4><ul><li><code>vcpkg list</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># Package installed list </span>
</span></span><span style=display:flex><span>$ vcpkg list
</span></span><span style=display:flex><span>benchmark:x64-mingw-static                         1.5.5            A library to support the benchmarking of functio...
</span></span><span style=display:flex><span>benchmark:x64-windows-static                       1.5.5            A library to support the benchmarking of functio...
</span></span><span style=display:flex><span>cpp-httplib:x64-mingw-static                       0.9.1            A single file C++11 header-only HTTP/HTTPS serve...
</span></span><span style=display:flex><span>cpp-httplib:x64-windows-static                     0.9.1            A single file C++11 header-only HTTP/HTTPS serve...
</span></span><span style=display:flex><span>fmt:x64-windows                                    7.1.3#5          Formatting library <span style=color:#66d9ef>for</span> C++. It can be used as a ...
</span></span><span style=display:flex><span>fmt:x64-windows-static                             7.1.3#5          Formatting library <span style=color:#66d9ef>for</span> C++. It can be used as a ...
</span></span><span style=display:flex><span>nlohmann-json:x64-mingw-static                     3.9.1            JSON <span style=color:#66d9ef>for</span> Modern C++
</span></span><span style=display:flex><span>nlohmann-json:x64-windows-static                   3.9.1            JSON <span style=color:#66d9ef>for</span> Modern C++
</span></span><span style=display:flex><span>openssl:x64-mingw-static                           1.1.1k#8         OpenSSL is an open source project that provides ...
</span></span><span style=display:flex><span>openssl:x64-windows-static                         1.1.1k#8         OpenSSL is an open source project that provides ...
</span></span><span style=display:flex><span>vcpkg-cmake-config:x64-windows                     2021-05-22#1
</span></span><span style=display:flex><span>vcpkg-cmake:x64-windows                            2021-07-30
</span></span><span style=display:flex><span>zlib:x64-mingw-static                              1.2.11#11        A compression library
</span></span><span style=display:flex><span>zlib:x64-windows-static                            1.2.11#11        A compression library
</span></span></code></pre></div><h3 id=integrate-install>Integrate install<a hidden class=anchor aria-hidden=true href=#integrate-install>#</a></h3><ul><li><code>vcpkg integrate install</code></li><li>Windows Visual Studio에서 vcpkg 라이브러리를 별도 설정 없이 바로 사용</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ vcpkg integrate install
</span></span><span style=display:flex><span>Applied user-wide integration <span style=color:#66d9ef>for</span> this vcpkg root.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>All MSBuild C++ projects can now <span style=color:#75715e>#include any installed libraries.</span>
</span></span><span style=display:flex><span>Linking will be handled automatically.
</span></span><span style=display:flex><span>Installing new libraries will make them instantly available.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>CMake projects should use: <span style=color:#e6db74>&#34;-DCMAKE_TOOLCHAIN_FILE=D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake&#34;</span>
</span></span></code></pre></div><h3 id=vcpkg-명령어>vcpkg 명령어<a hidden class=anchor aria-hidden=true href=#vcpkg-명령어>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># Vcpkg package management program version 2021-08-12-85ab112d5ee102bc6eac8cdbbfdd173a71374e04</span>
</span></span><span style=display:flex><span>$ vcpkg help
</span></span><span style=display:flex><span>Commands:
</span></span><span style=display:flex><span>  vcpkg search <span style=color:#f92672>[</span>pat<span style=color:#f92672>]</span>              Search <span style=color:#66d9ef>for</span> packages available to be built
</span></span><span style=display:flex><span>  vcpkg install &lt;pkg&gt;...          Install a package
</span></span><span style=display:flex><span>  vcpkg remove &lt;pkg&gt;...           Uninstall a package
</span></span><span style=display:flex><span>  vcpkg remove --outdated         Uninstall all out-of-date packages
</span></span><span style=display:flex><span>  vcpkg list                      List installed packages
</span></span><span style=display:flex><span>  vcpkg update                    Display list of packages <span style=color:#66d9ef>for</span> updating
</span></span><span style=display:flex><span>  vcpkg upgrade                   Rebuild all outdated packages
</span></span><span style=display:flex><span>  vcpkg x-history &lt;pkg&gt;           <span style=color:#f92672>(</span>Experimental<span style=color:#f92672>)</span> Shows the history of CONTROL versions of a package
</span></span><span style=display:flex><span>  vcpkg hash &lt;file&gt; <span style=color:#f92672>[</span>alg<span style=color:#f92672>]</span>         Hash a file by specific algorithm, default SHA512
</span></span><span style=display:flex><span>  vcpkg help topics               Display the list of help topics
</span></span><span style=display:flex><span>  vcpkg help &lt;topic&gt;              Display help <span style=color:#66d9ef>for</span> a specific topic
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  vcpkg integrate install         Make installed packages available user-wide. Requires admin
</span></span><span style=display:flex><span>                                  privileges on first use
</span></span><span style=display:flex><span>  vcpkg integrate remove          Remove user-wide integration
</span></span><span style=display:flex><span>  vcpkg integrate project         Generate a referencing nuget package <span style=color:#66d9ef>for</span> individual VS project use
</span></span><span style=display:flex><span>  vcpkg integrate powershell      Enable PowerShell tab-completion
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  vcpkg export &lt;pkg&gt;... <span style=color:#f92672>[</span>opt<span style=color:#f92672>]</span>...  Exports a package
</span></span><span style=display:flex><span>  vcpkg edit &lt;pkg&gt;                Open up a port <span style=color:#66d9ef>for</span> editing <span style=color:#f92672>(</span>uses %EDITOR%, default <span style=color:#e6db74>&#39;code&#39;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  vcpkg create &lt;pkg&gt; &lt;url&gt; <span style=color:#f92672>[</span>archivename<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>                                  Create a new package
</span></span><span style=display:flex><span>  vcpkg x-init-registry &lt;path&gt;    Initializes a registry in the directory &lt;path&gt;
</span></span><span style=display:flex><span>  vcpkg owns &lt;pat&gt;                Search <span style=color:#66d9ef>for</span> files in installed packages
</span></span><span style=display:flex><span>  vcpkg depend-info &lt;pkg&gt;...      Display a list of dependencies <span style=color:#66d9ef>for</span> packages
</span></span><span style=display:flex><span>  vcpkg env                       Creates a clean shell environment <span style=color:#66d9ef>for</span> development or compiling
</span></span><span style=display:flex><span>  vcpkg version                   Display version information
</span></span><span style=display:flex><span>  vcpkg contact                   Display contact information to send feedback
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><hr><h3 id=1-내-프로젝트에서-사용-cmake-find_package>1. 내 프로젝트에서 사용 (CMake, find_package)<a hidden class=anchor aria-hidden=true href=#1-내-프로젝트에서-사용-cmake-find_package>#</a></h3><ul><li>CMakeLists.txt 에 find_package 내용 추가</li></ul><h4 id=cmakeliststxt>CMakeLists.txt<a hidden class=anchor aria-hidden=true href=#cmakeliststxt>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span>cmake_minimum_required(<span style=color:#e6db74>VERSION</span> <span style=color:#e6db74>3.11</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>project(<span style=color:#e6db74>main</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>set(<span style=color:#e6db74>CMAKE_CXX_STANDARD</span> <span style=color:#e6db74>17</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>add_executable(<span style=color:#e6db74>main</span> <span style=color:#e6db74>main.cpp</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>if(<span style=color:#e6db74>MSVC</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>	target_compile_options(<span style=color:#e6db74>main</span> <span style=color:#e6db74>PRIVATE</span> <span style=color:#e6db74>/MT</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>else()<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>	target_compile_options(<span style=color:#e6db74>main</span> <span style=color:#e6db74>PRIVATE</span> <span style=color:#e6db74>-Wall</span> <span style=color:#e6db74>-O2</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>endif()<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>find_package(<span style=color:#e6db74>fmt</span> <span style=color:#e6db74>CONFIG</span> <span style=color:#e6db74>REQUIRED</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>target_link_libraries(<span style=color:#e6db74>main</span> <span style=color:#e6db74>PRIVATE</span> <span style=color:#e6db74>fmt::fmt</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>find_package(<span style=color:#e6db74>nlohmann_json</span> <span style=color:#e6db74>CONFIG</span> <span style=color:#e6db74>REQUIRED</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>target_link_libraries(<span style=color:#e6db74>main</span> <span style=color:#e6db74>PRIVATE</span> <span style=color:#e6db74>nlohmann_json</span> <span style=color:#e6db74>nlohmann_json::nlohmann_json</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><h4 id=cmake-초기화>CMake 초기화<a hidden class=anchor aria-hidden=true href=#cmake-초기화>#</a></h4><ul><li><code>CMAKE_TOOLCHAIN_FILE</code> 과 <code>VCPKG_TARGET_TRIPLET</code> 을 지정하여 초기화<ul><li><code>CMAKE_TOOLCHAIN_FILE</code> : vcpkg/scripts/buildsystems/vcpkg.cmake</li></ul></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ mkdir build <span style=color:#f92672>&amp;&amp;</span> cd build
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># windows msvc </span>
</span></span><span style=display:flex><span>$ cmake -G <span style=color:#e6db74>&#34;Visual Studio 16 2019&#34;</span> -A x64 .. -DCMAKE_TOOLCHAIN_FILE<span style=color:#f92672>=</span>D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET<span style=color:#f92672>=</span>x64-windows-static
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># windows mingw</span>
</span></span><span style=display:flex><span>$ cmake -G <span style=color:#e6db74>&#34;MSYS Makefiles&#34;</span> .. -DCMAKE_TOOLCHAIN_FILE<span style=color:#f92672>=</span>D:/Lib/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET<span style=color:#f92672>=</span>x64-mingw-static
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># linux : VCPKG_TARGET_TRIPLET 지정안함, defualt 사용 </span>
</span></span><span style=display:flex><span>$ cmake cmake .. -DCMAKE_TOOLCHAIN_FILE<span style=color:#f92672>=</span>~/lib/vcpkg/scripts/buildsystems/vcpkg.cmake
</span></span></code></pre></div><h4 id=build>Build<a hidden class=anchor aria-hidden=true href=#build>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># windows msvc : Release 모드 빌드 </span>
</span></span><span style=display:flex><span>$ cmake --build . --config<span style=color:#f92672>=</span>Release
</span></span><span style=display:flex><span><span style=color:#75715e># run </span>
</span></span><span style=display:flex><span>$ Release<span style=color:#ae81ff>\m</span>ain.exe
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># mingw, linux </span>
</span></span><span style=display:flex><span>$ make 
</span></span><span style=display:flex><span>$ ./main
</span></span></code></pre></div><h3 id=2-내-프로젝트에서-사용-라이브러리-수동으로-설정>2. 내 프로젝트에서 사용 (라이브러리 수동으로 설정)<a hidden class=anchor aria-hidden=true href=#2-내-프로젝트에서-사용-라이브러리-수동으로-설정>#</a></h3><ul><li>CMake 수동 지정 : target_include_directories, target_link_directories, target_link_libraries 별도 지정</li><li>Makefile 사용 : <code>-I</code> <code>-l</code> <code>-L</code> 등의 옵션 추가</li></ul><h4 id=vcpkginstalledtriplet-디렉토리-참고>vcpkg/installed/<code>triplet</code> 디렉토리 참고<a hidden class=anchor aria-hidden=true href=#vcpkginstalledtriplet-디렉토리-참고>#</a></h4><ul><li>수동으로 include, lib 등 지정 사용<ul><li><code>triplet/include</code> : header files</li><li><code>triplet/lib</code> : static library</li><li><code>triplet/bin</code> : shared library</li></ul></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$  tree vcpkg/installed -L <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>vcpkg/installed
</span></span><span style=display:flex><span>├── vcpkg
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>├── x64-mingw-static
</span></span><span style=display:flex><span>│   ├── debug
</span></span><span style=display:flex><span>│   │   └── lib
</span></span><span style=display:flex><span>│   ├── include
</span></span><span style=display:flex><span>│   │   ├── benchmark
</span></span><span style=display:flex><span>│   │   ├── httplib.h
</span></span><span style=display:flex><span>│   │   ├── nlohmann
</span></span><span style=display:flex><span>│   │   ├── openssl
</span></span><span style=display:flex><span>│   │   ├── zconf.h
</span></span><span style=display:flex><span>│   │   └── zlib.h
</span></span><span style=display:flex><span>│   ├── lib
</span></span><span style=display:flex><span>│   │   ├── libbenchmark.a
</span></span><span style=display:flex><span>│   │   ├── libbenchmark_main.a
</span></span><span style=display:flex><span>│   │   ├── libcrypto.a
</span></span><span style=display:flex><span>│   │   ├── libssl.a
</span></span><span style=display:flex><span>│   │   ├── libzlib.a
</span></span><span style=display:flex><span>│   │   └── pkgconfig
</span></span><span style=display:flex><span>│   └── share
</span></span><span style=display:flex><span>│       ├── benchmark
</span></span><span style=display:flex><span>│       ├── cpp-httplib
</span></span><span style=display:flex><span>│       ├── nlohmann-json
</span></span><span style=display:flex><span>│       ├── nlohmann_json
</span></span><span style=display:flex><span>│       ├── openssl
</span></span><span style=display:flex><span>│       └── zlib
</span></span><span style=display:flex><span>├── x64-windows
</span></span><span style=display:flex><span>│   ├── bin
</span></span><span style=display:flex><span>│   │   ├── fmt.dll
</span></span><span style=display:flex><span>│   │   └── fmt.pdb
</span></span><span style=display:flex><span>│   ├── debug
</span></span><span style=display:flex><span>│   │   ├── bin
</span></span><span style=display:flex><span>│   │   └── lib
</span></span><span style=display:flex><span>│   ├── include
</span></span><span style=display:flex><span>│   │   └── fmt
</span></span><span style=display:flex><span>│   ├── lib
</span></span><span style=display:flex><span>│   │   ├── fmt.lib
</span></span><span style=display:flex><span>│   │   └── pkgconfig
</span></span><span style=display:flex><span>│   └── share
</span></span><span style=display:flex><span>│       ├── fmt
</span></span><span style=display:flex><span>│       ├── vcpkg-cmake
</span></span><span style=display:flex><span>│       └── vcpkg-cmake-config
</span></span><span style=display:flex><span>└── x64-windows-static
</span></span><span style=display:flex><span>    ├── debug
</span></span><span style=display:flex><span>    │   ├── lib
</span></span><span style=display:flex><span>    │   └── misc
</span></span><span style=display:flex><span>    ├── include
</span></span><span style=display:flex><span>    │   ├── benchmark
</span></span><span style=display:flex><span>    │   ├── fmt
</span></span><span style=display:flex><span>    │   ├── httplib.h
</span></span><span style=display:flex><span>    │   ├── nlohmann
</span></span><span style=display:flex><span>    │   ├── openssl
</span></span><span style=display:flex><span>    │   ├── zconf.h
</span></span><span style=display:flex><span>    │   └── zlib.h
</span></span><span style=display:flex><span>    ├── lib
</span></span><span style=display:flex><span>    │   ├── benchmark.lib
</span></span><span style=display:flex><span>    │   ├── benchmark_main.lib
</span></span><span style=display:flex><span>    │   ├── fmt.lib
</span></span><span style=display:flex><span>    │   ├── libcrypto.lib
</span></span><span style=display:flex><span>    │   ├── libssl.lib
</span></span><span style=display:flex><span>    │   ├── ossl_static.pdb
</span></span><span style=display:flex><span>    │   ├── pkgconfig
</span></span><span style=display:flex><span>    │   └── zlib.lib
</span></span><span style=display:flex><span>    ├── misc
</span></span><span style=display:flex><span>    │   ├── CA.pl
</span></span><span style=display:flex><span>    │   └── tsget.pl
</span></span><span style=display:flex><span>    ├── share
</span></span><span style=display:flex><span>    │   ├── benchmark
</span></span><span style=display:flex><span>    │   ├── cpp-httplib
</span></span><span style=display:flex><span>    │   ├── fmt
</span></span><span style=display:flex><span>    │   ├── nlohmann-json
</span></span><span style=display:flex><span>    │   ├── nlohmann_json
</span></span><span style=display:flex><span>    │   ├── openssl
</span></span><span style=display:flex><span>    │   └── zlib
</span></span><span style=display:flex><span>    └── tools
</span></span><span style=display:flex><span>        └── openssl
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://cdecl.github.io/tags/c++/>C++</a></li><li><a href=https://cdecl.github.io/tags/vcpkg/>Vcpkg</a></li><li><a href=https://cdecl.github.io/tags/cmake/>Cmake</a></li><li><a href=https://cdecl.github.io/tags/triplet/>Triplet</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://cdecl.github.io/>cdeclog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>